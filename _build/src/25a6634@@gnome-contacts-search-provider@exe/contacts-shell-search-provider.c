/* contacts-shell-search-provider.c generated by valac 0.47.2.1-ce69, the Vala compiler
 * generated from contacts-shell-search-provider.vala, do not modify */

/*
 * Copyright (C) 2011 Alexander Larsson <alexl@redhat.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

#include <glib-object.h>
#include <gio/gio.h>
#include <folks/folks.h>
#include <glib.h>
#include <stdlib.h>
#include <string.h>
#include "contacts.h"
#include <gee.h>
#include <stdio.h>
#include <config.h>

#define CONTACTS_TYPE_SEARCH_PROVIDER (contacts_search_provider_get_type ())
#define CONTACTS_SEARCH_PROVIDER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CONTACTS_TYPE_SEARCH_PROVIDER, ContactsSearchProvider))
#define CONTACTS_SEARCH_PROVIDER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CONTACTS_TYPE_SEARCH_PROVIDER, ContactsSearchProviderClass))
#define CONTACTS_IS_SEARCH_PROVIDER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CONTACTS_TYPE_SEARCH_PROVIDER))
#define CONTACTS_IS_SEARCH_PROVIDER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CONTACTS_TYPE_SEARCH_PROVIDER))
#define CONTACTS_SEARCH_PROVIDER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CONTACTS_TYPE_SEARCH_PROVIDER, ContactsSearchProviderClass))

typedef struct _ContactsSearchProvider ContactsSearchProvider;
typedef struct _ContactsSearchProviderClass ContactsSearchProviderClass;
typedef struct _ContactsSearchProviderPrivate ContactsSearchProviderPrivate;

#define CONTACTS_TYPE_SEARCH_PROVIDER_APP (contacts_search_provider_app_get_type ())
#define CONTACTS_SEARCH_PROVIDER_APP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CONTACTS_TYPE_SEARCH_PROVIDER_APP, ContactsSearchProviderApp))
#define CONTACTS_SEARCH_PROVIDER_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CONTACTS_TYPE_SEARCH_PROVIDER_APP, ContactsSearchProviderAppClass))
#define CONTACTS_IS_SEARCH_PROVIDER_APP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CONTACTS_TYPE_SEARCH_PROVIDER_APP))
#define CONTACTS_IS_SEARCH_PROVIDER_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CONTACTS_TYPE_SEARCH_PROVIDER_APP))
#define CONTACTS_SEARCH_PROVIDER_APP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CONTACTS_TYPE_SEARCH_PROVIDER_APP, ContactsSearchProviderAppClass))

typedef struct _ContactsSearchProviderApp ContactsSearchProviderApp;
typedef struct _ContactsSearchProviderAppClass ContactsSearchProviderAppClass;
enum  {
	CONTACTS_SEARCH_PROVIDER_0_PROPERTY,
	CONTACTS_SEARCH_PROVIDER_NUM_PROPERTIES
};
static GParamSpec* contacts_search_provider_properties[CONTACTS_SEARCH_PROVIDER_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_variant_unref0(var) ((var == NULL) ? NULL : (var = (g_variant_unref (var), NULL)))
typedef struct _Block1Data Block1Data;
typedef struct _contacts_search_provider_GetInitialResultSetData contacts_search_provider_GetInitialResultSetData;
typedef struct _contacts_search_provider_GetSubsearchResultSetData contacts_search_provider_GetSubsearchResultSetData;
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
typedef struct _ContactsSearchProviderDoSearchData ContactsSearchProviderDoSearchData;
typedef struct _contacts_search_provider_GetResultMetasData contacts_search_provider_GetResultMetasData;
#define _g_string_free0(var) ((var == NULL) ? NULL : (var = (g_string_free (var, TRUE), NULL)))
#define _g_hash_table_unref0(var) ((var == NULL) ? NULL : (var = (g_hash_table_unref (var), NULL)))
typedef struct _ContactsSearchProviderGetMetasData ContactsSearchProviderGetMetasData;
typedef struct _contacts_search_provider_GetInitialResultSetReadyData contacts_search_provider_GetInitialResultSetReadyData;
typedef struct _contacts_search_provider_GetSubsearchResultSetReadyData contacts_search_provider_GetSubsearchResultSetReadyData;
typedef struct _contacts_search_provider_GetResultMetasReadyData contacts_search_provider_GetResultMetasReadyData;
typedef struct _ContactsSearchProviderAppPrivate ContactsSearchProviderAppPrivate;
enum  {
	CONTACTS_SEARCH_PROVIDER_APP_0_PROPERTY,
	CONTACTS_SEARCH_PROVIDER_APP_NUM_PROPERTIES
};
static GParamSpec* contacts_search_provider_app_properties[CONTACTS_SEARCH_PROVIDER_APP_NUM_PROPERTIES];

struct _ContactsSearchProvider {
	GObject parent_instance;
	ContactsSearchProviderPrivate * priv;
};

struct _ContactsSearchProviderClass {
	GObjectClass parent_class;
};

struct _ContactsSearchProviderPrivate {
	ContactsSearchProviderApp* app;
	FolksIndividualAggregator* aggregator;
	FolksSimpleQuery* query;
	GVariant* serialized_fallback_icon;
};

struct _Block1Data {
	int _ref_count_;
	ContactsSearchProvider* self;
	gpointer _async_data_;
};

struct _contacts_search_provider_GetInitialResultSetData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	ContactsSearchProvider* self;
	gchar** terms;
	gint terms_length1;
	gchar** result;
	gint result_length1;
	Block1Data* _data1_;
	FolksIndividualAggregator* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	gulong id;
	FolksIndividualAggregator* _tmp3_;
	gulong _tmp4_;
	guint timeout;
	FolksIndividualAggregator* _tmp5_;
	gchar** results;
	gint _tmp6_;
	gchar** _tmp7_;
	gint results_length1;
	gint _results_size_;
	gchar** _tmp8_;
	gint _tmp8__length1;
	gchar** _tmp9_;
	gint _tmp10_;
	gchar** _tmp11_;
	gint _tmp9__length1;
	gint __tmp9__size_;
	gchar** _tmp12_;
	gint _tmp12__length1;
	gchar** _tmp13_;
	gint _tmp13__length1;
	gchar** _tmp14_;
	gint _tmp14__length1;
	gchar** _tmp15_;
	gint _tmp16_;
	gchar** _tmp17_;
	gint _tmp15__length1;
	gint __tmp15__size_;
	gchar** _tmp18_;
	gint _tmp18__length1;
	gchar** _tmp19_;
	gint _tmp19__length1;
	GError* _inner_error0_;
};

struct _contacts_search_provider_GetSubsearchResultSetData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	ContactsSearchProvider* self;
	gchar** previous_results;
	gint previous_results_length1;
	gchar** new_terms;
	gint new_terms_length1;
	gchar** result;
	gint result_length1;
	gchar** _tmp0_;
	gint _tmp1_;
	gchar** _tmp2_;
	gint _tmp0__length1;
	gint __tmp0__size_;
	gchar** _tmp3_;
	gint _tmp3__length1;
	gchar** _tmp4_;
	gint _tmp4__length1;
	GError* _inner_error0_;
};

struct _ContactsSearchProviderDoSearchData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	ContactsSearchProvider* self;
	gchar** terms;
	gint terms_length1;
	gchar** result;
	gint result_length1;
	ContactsSearchProviderApp* _tmp0_;
	FolksSimpleQuery* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	FolksSearchView* search_view;
	FolksIndividualAggregator* _tmp4_;
	FolksSimpleQuery* _tmp5_;
	FolksSearchView* _tmp6_;
	GError* e;
	const gchar* _tmp7_;
	gchar** results;
	GeeSortedSet* _tmp8_;
	GeeSortedSet* _tmp9_;
	gint _tmp10_;
	gint _tmp11_;
	gchar** _tmp12_;
	gint results_length1;
	gint _results_size_;
	gint i;
	GeeIterator* _individual_it;
	GeeSortedSet* _tmp13_;
	GeeSortedSet* _tmp14_;
	GeeIterator* _tmp15_;
	GeeIterator* _tmp16_;
	FolksIndividual* individual;
	GeeIterator* _tmp17_;
	gpointer _tmp18_;
	gchar** _tmp19_;
	gint _tmp19__length1;
	FolksIndividual* _tmp20_;
	const gchar* _tmp21_;
	const gchar* _tmp22_;
	gchar* _tmp23_;
	gint _tmp24_;
	ContactsSearchProviderApp* _tmp25_;
	gchar** _tmp26_;
	gint _tmp26__length1;
	GError* _inner_error0_;
};

struct _contacts_search_provider_GetResultMetasData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	ContactsSearchProvider* self;
	gchar** ids;
	gint ids_length1;
	GHashTable** result;
	gint result_length1;
	GHashTable** _tmp0_;
	gchar** _tmp1_;
	gint _tmp1__length1;
	gint _tmp2_;
	GHashTable** _tmp3_;
	gint _tmp0__length1;
	gint __tmp0__size_;
	GHashTable** _tmp4_;
	gint _tmp4__length1;
	GHashTable** _tmp5_;
	gint _tmp5__length1;
	GError* _inner_error0_;
};

struct _ContactsSearchProviderGetMetasData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	ContactsSearchProvider* self;
	gchar** ids;
	gint ids_length1;
	GHashTable** result;
	gint result_length1;
	ContactsSearchProviderApp* _tmp0_;
	GeeArrayList* results;
	GeeArrayList* _tmp1_;
	gchar** id_collection;
	gint id_collection_length1;
	gint _id_collection_size_;
	gint id_it;
	gchar* _tmp2_;
	gchar* id;
	FolksIndividual* indiv;
	FolksIndividual* _tmp3_;
	FolksIndividualAggregator* _tmp4_;
	const gchar* _tmp5_;
	FolksIndividual* _tmp6_;
	FolksIndividual* _tmp7_;
	GError* e;
	FolksIndividual* _tmp8_;
	GHashTable* meta;
	GHashFunc _tmp9_;
	GEqualFunc _tmp10_;
	GHashTable* _tmp11_;
	GHashTable* _tmp12_;
	gchar* _tmp13_;
	const gchar* _tmp14_;
	GVariant* _tmp15_;
	GHashTable* _tmp16_;
	gchar* _tmp17_;
	FolksIndividual* _tmp18_;
	const gchar* _tmp19_;
	const gchar* _tmp20_;
	GVariant* _tmp21_;
	GVariant* _tmp22_;
	FolksIndividual* _tmp23_;
	GLoadableIcon* _tmp24_;
	GLoadableIcon* _tmp25_;
	FolksIndividual* _tmp26_;
	GLoadableIcon* _tmp27_;
	GLoadableIcon* _tmp28_;
	GVariant* _tmp29_;
	GVariant* _tmp30_;
	GVariant* _tmp31_;
	GHashTable* _tmp32_;
	gchar* _tmp33_;
	GVariant* _tmp34_;
	GString* description;
	GString* _tmp35_;
	FolksEmailFieldDetails* email;
	FolksIndividual* _tmp36_;
	GeeSet* _tmp37_;
	GeeSet* _tmp38_;
	gpointer _tmp39_;
	gboolean _tmp40_;
	gboolean _tmp41_;
	FolksEmailFieldDetails* _tmp42_;
	FolksEmailFieldDetails* _tmp43_;
	gconstpointer _tmp44_;
	const gchar* _tmp45_;
	FolksEmailFieldDetails* _tmp46_;
	gconstpointer _tmp47_;
	const gchar* _tmp48_;
	GString* _tmp49_;
	FolksEmailFieldDetails* _tmp50_;
	gconstpointer _tmp51_;
	const gchar* _tmp52_;
	FolksPhoneFieldDetails* phone;
	FolksIndividual* _tmp53_;
	GeeSet* _tmp54_;
	GeeSet* _tmp55_;
	gpointer _tmp56_;
	gboolean _tmp57_;
	gboolean _tmp58_;
	FolksPhoneFieldDetails* _tmp59_;
	FolksPhoneFieldDetails* _tmp60_;
	gconstpointer _tmp61_;
	const gchar* _tmp62_;
	FolksPhoneFieldDetails* _tmp63_;
	gconstpointer _tmp64_;
	const gchar* _tmp65_;
	GString* _tmp66_;
	GString* _tmp67_;
	GString* _tmp68_;
	FolksPhoneFieldDetails* _tmp69_;
	gconstpointer _tmp70_;
	const gchar* _tmp71_;
	GHashTable* _tmp72_;
	gchar* _tmp73_;
	GString* _tmp74_;
	const gchar* _tmp75_;
	GVariant* _tmp76_;
	GeeArrayList* _tmp77_;
	GHashTable* _tmp78_;
	ContactsSearchProviderApp* _tmp79_;
	GeeArrayList* _tmp80_;
	gint _tmp81_;
	gpointer* _tmp82_;
	GHashTable** _tmp83_;
	gint _tmp83__length1;
	GError* _inner_error0_;
};

struct _contacts_search_provider_GetInitialResultSetReadyData {
	GDBusMethodInvocation* _invocation_;
	gchar** terms;
	gint terms_length1;
};

struct _contacts_search_provider_GetSubsearchResultSetReadyData {
	GDBusMethodInvocation* _invocation_;
	gchar** previous_results;
	gint previous_results_length1;
	gchar** new_terms;
	gint new_terms_length1;
};

struct _contacts_search_provider_GetResultMetasReadyData {
	GDBusMethodInvocation* _invocation_;
	gchar** ids;
	gint ids_length1;
};

struct _ContactsSearchProviderApp {
	GApplication parent_instance;
	ContactsSearchProviderAppPrivate * priv;
};

struct _ContactsSearchProviderAppClass {
	GApplicationClass parent_class;
};

static gint ContactsSearchProvider_private_offset;
static gpointer contacts_search_provider_parent_class = NULL;
static gpointer contacts_search_provider_app_parent_class = NULL;

GType contacts_search_provider_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ContactsSearchProvider, g_object_unref)
guint contacts_search_provider_register_object (void* object,
                                                GDBusConnection* connection,
                                                const gchar* path,
                                                GError** error);
GType contacts_search_provider_app_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ContactsSearchProviderApp, g_object_unref)
ContactsSearchProvider* contacts_search_provider_new (ContactsSearchProviderApp* app);
ContactsSearchProvider* contacts_search_provider_construct (GType object_type,
                                                            ContactsSearchProviderApp* app);
static const gchar** _vala_array_dup1 (const gchar** self,
                                gint length);
static void _vala_array_add1 (const gchar** * array,
                       gint* length,
                       gint* size,
                       const gchar* value);
static void contacts_search_provider_GetInitialResultSet_data_free (gpointer _data);
void contacts_search_provider_GetInitialResultSet (ContactsSearchProvider* self,
                                                   gchar** terms,
                                                   gint terms_length1,
                                                   GAsyncReadyCallback _callback_,
                                                   gpointer _user_data_);
gchar** contacts_search_provider_GetInitialResultSet_finish (ContactsSearchProvider* self,
                                                             GAsyncResult* _res_,
                                                             gint* result_length1,
                                                             GError** error);
static gboolean contacts_search_provider_GetInitialResultSet_co (contacts_search_provider_GetInitialResultSetData* _data_);
static Block1Data* block1_data_ref (Block1Data* _data1_);
static void block1_data_unref (void * _userdata_);
static void ___lambda4_ (Block1Data* _data1_);
static void ____lambda4__g_object_notify (GObject* _sender,
                                   GParamSpec* pspec,
                                   gpointer self);
static gboolean ___lambda5_ (Block1Data* _data1_);
static gboolean ____lambda5__gsource_func (gpointer self);
static void contacts_search_provider_do_search (ContactsSearchProvider* self,
                                         gchar** terms,
                                         gint terms_length1,
                                         GAsyncReadyCallback _callback_,
                                         gpointer _user_data_);
static gchar** contacts_search_provider_do_search_finish (ContactsSearchProvider* self,
                                                   GAsyncResult* _res_,
                                                   gint* result_length1,
                                                   GError** error);
static void contacts_search_provider_GetInitialResultSet_ready (GObject* source_object,
                                                         GAsyncResult* _res_,
                                                         gpointer _user_data_);
static void contacts_search_provider_GetSubsearchResultSet_data_free (gpointer _data);
void contacts_search_provider_GetSubsearchResultSet (ContactsSearchProvider* self,
                                                     gchar** previous_results,
                                                     gint previous_results_length1,
                                                     gchar** new_terms,
                                                     gint new_terms_length1,
                                                     GAsyncReadyCallback _callback_,
                                                     gpointer _user_data_);
gchar** contacts_search_provider_GetSubsearchResultSet_finish (ContactsSearchProvider* self,
                                                               GAsyncResult* _res_,
                                                               gint* result_length1,
                                                               GError** error);
static gboolean contacts_search_provider_GetSubsearchResultSet_co (contacts_search_provider_GetSubsearchResultSetData* _data_);
static void contacts_search_provider_GetSubsearchResultSet_ready (GObject* source_object,
                                                           GAsyncResult* _res_,
                                                           gpointer _user_data_);
static void contacts_search_provider_do_search_data_free (gpointer _data);
static gboolean contacts_search_provider_do_search_co (ContactsSearchProviderDoSearchData* _data_);
static void contacts_search_provider_do_search_ready (GObject* source_object,
                                               GAsyncResult* _res_,
                                               gpointer _user_data_);
static void contacts_search_provider_GetResultMetas_data_free (gpointer _data);
void contacts_search_provider_GetResultMetas (ContactsSearchProvider* self,
                                              gchar** ids,
                                              gint ids_length1,
                                              GAsyncReadyCallback _callback_,
                                              gpointer _user_data_);
GHashTable** contacts_search_provider_GetResultMetas_finish (ContactsSearchProvider* self,
                                                             GAsyncResult* _res_,
                                                             gint* result_length1,
                                                             GError** error);
static gboolean contacts_search_provider_GetResultMetas_co (contacts_search_provider_GetResultMetasData* _data_);
static void contacts_search_provider_get_metas (ContactsSearchProvider* self,
                                         gchar** ids,
                                         gint ids_length1,
                                         GAsyncReadyCallback _callback_,
                                         gpointer _user_data_);
static GHashTable** contacts_search_provider_get_metas_finish (ContactsSearchProvider* self,
                                                        GAsyncResult* _res_,
                                                        gint* result_length1,
                                                        GError** error);
static gchar** _vala_array_dup2 (gchar** self,
                          gint length);
static void contacts_search_provider_GetResultMetas_ready (GObject* source_object,
                                                    GAsyncResult* _res_,
                                                    gpointer _user_data_);
static void contacts_search_provider_get_metas_data_free (gpointer _data);
static gboolean contacts_search_provider_get_metas_co (ContactsSearchProviderGetMetasData* _data_);
static void contacts_search_provider_get_metas_ready (GObject* source_object,
                                               GAsyncResult* _res_,
                                               gpointer _user_data_);
static void _g_free0_ (gpointer var);
static void _g_variant_unref0_ (gpointer var);
static GVariant* _variant_new1 (const gchar* value);
void contacts_search_provider_ActivateResult (ContactsSearchProvider* self,
                                              const gchar* id,
                                              gchar** terms,
                                              gint terms_length1,
                                              guint32 timestamp,
                                              GError** error);
void contacts_search_provider_LaunchSearch (ContactsSearchProvider* self,
                                            gchar** terms,
                                            gint terms_length1,
                                            guint32 timestamp,
                                            GError** error);
static void _vala_array_add2 (gchar** * array,
                       gint* length,
                       gint* size,
                       gchar* value);
static void contacts_search_provider_finalize (GObject * obj);
static GType contacts_search_provider_get_type_once (void);
static void _dbus_contacts_search_provider_GetInitialResultSet (ContactsSearchProvider* self,
                                                         GVariant* _parameters_,
                                                         GDBusMethodInvocation* invocation);
static void _dbus_contacts_search_provider_GetInitialResultSet_ready (GObject * source_object,
                                                               GAsyncResult * _res_,
                                                               gpointer _user_data_);
static void _dbus_contacts_search_provider_GetSubsearchResultSet (ContactsSearchProvider* self,
                                                           GVariant* _parameters_,
                                                           GDBusMethodInvocation* invocation);
static void _dbus_contacts_search_provider_GetSubsearchResultSet_ready (GObject * source_object,
                                                                 GAsyncResult * _res_,
                                                                 gpointer _user_data_);
static void _dbus_contacts_search_provider_GetResultMetas (ContactsSearchProvider* self,
                                                    GVariant* _parameters_,
                                                    GDBusMethodInvocation* invocation);
static void _dbus_contacts_search_provider_GetResultMetas_ready (GObject * source_object,
                                                          GAsyncResult * _res_,
                                                          gpointer _user_data_);
static void _dbus_contacts_search_provider_ActivateResult (ContactsSearchProvider* self,
                                                    GVariant* _parameters_,
                                                    GDBusMethodInvocation* invocation);
static void _dbus_contacts_search_provider_LaunchSearch (ContactsSearchProvider* self,
                                                  GVariant* _parameters_,
                                                  GDBusMethodInvocation* invocation);
static void contacts_search_provider_dbus_interface_method_call (GDBusConnection* connection,
                                                          const gchar* sender,
                                                          const gchar* object_path,
                                                          const gchar* interface_name,
                                                          const gchar* method_name,
                                                          GVariant* parameters,
                                                          GDBusMethodInvocation* invocation,
                                                          gpointer user_data);
static GVariant* contacts_search_provider_dbus_interface_get_property (GDBusConnection* connection,
                                                                const gchar* sender,
                                                                const gchar* object_path,
                                                                const gchar* interface_name,
                                                                const gchar* property_name,
                                                                GError** error,
                                                                gpointer user_data);
static gboolean contacts_search_provider_dbus_interface_set_property (GDBusConnection* connection,
                                                               const gchar* sender,
                                                               const gchar* object_path,
                                                               const gchar* interface_name,
                                                               const gchar* property_name,
                                                               GVariant* value,
                                                               GError** error,
                                                               gpointer user_data);
static void _contacts_search_provider_unregister_object (gpointer user_data);
ContactsSearchProviderApp* contacts_search_provider_app_new (void);
ContactsSearchProviderApp* contacts_search_provider_app_construct (GType object_type);
static gboolean contacts_search_provider_app_real_dbus_register (GApplication* base,
                                                          GDBusConnection* connection,
                                                          const gchar* object_path,
                                                          GError** error);
static void contacts_search_provider_app_real_startup (GApplication* base);
static GType contacts_search_provider_app_get_type_once (void);
gint _vala_main (void);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);

static const GDBusArgInfo _contacts_search_provider_dbus_arg_info_GetInitialResultSet_terms = {-1, "terms", "as", NULL};
static const GDBusArgInfo _contacts_search_provider_dbus_arg_info_GetInitialResultSet_result = {-1, "result", "as", NULL};
static const GDBusArgInfo * const _contacts_search_provider_dbus_arg_info_GetInitialResultSet_in[] = {&_contacts_search_provider_dbus_arg_info_GetInitialResultSet_terms, NULL};
static const GDBusArgInfo * const _contacts_search_provider_dbus_arg_info_GetInitialResultSet_out[] = {&_contacts_search_provider_dbus_arg_info_GetInitialResultSet_result, NULL};
static const GDBusMethodInfo _contacts_search_provider_dbus_method_info_GetInitialResultSet = {-1, "GetInitialResultSet", (GDBusArgInfo **) (&_contacts_search_provider_dbus_arg_info_GetInitialResultSet_in), (GDBusArgInfo **) (&_contacts_search_provider_dbus_arg_info_GetInitialResultSet_out), NULL};
static const GDBusArgInfo _contacts_search_provider_dbus_arg_info_GetSubsearchResultSet_previous_results = {-1, "previous_results", "as", NULL};
static const GDBusArgInfo _contacts_search_provider_dbus_arg_info_GetSubsearchResultSet_new_terms = {-1, "new_terms", "as", NULL};
static const GDBusArgInfo _contacts_search_provider_dbus_arg_info_GetSubsearchResultSet_result = {-1, "result", "as", NULL};
static const GDBusArgInfo * const _contacts_search_provider_dbus_arg_info_GetSubsearchResultSet_in[] = {&_contacts_search_provider_dbus_arg_info_GetSubsearchResultSet_previous_results, &_contacts_search_provider_dbus_arg_info_GetSubsearchResultSet_new_terms, NULL};
static const GDBusArgInfo * const _contacts_search_provider_dbus_arg_info_GetSubsearchResultSet_out[] = {&_contacts_search_provider_dbus_arg_info_GetSubsearchResultSet_result, NULL};
static const GDBusMethodInfo _contacts_search_provider_dbus_method_info_GetSubsearchResultSet = {-1, "GetSubsearchResultSet", (GDBusArgInfo **) (&_contacts_search_provider_dbus_arg_info_GetSubsearchResultSet_in), (GDBusArgInfo **) (&_contacts_search_provider_dbus_arg_info_GetSubsearchResultSet_out), NULL};
static const GDBusArgInfo _contacts_search_provider_dbus_arg_info_GetResultMetas_ids = {-1, "ids", "as", NULL};
static const GDBusArgInfo _contacts_search_provider_dbus_arg_info_GetResultMetas_result = {-1, "result", "aa{sv}", NULL};
static const GDBusArgInfo * const _contacts_search_provider_dbus_arg_info_GetResultMetas_in[] = {&_contacts_search_provider_dbus_arg_info_GetResultMetas_ids, NULL};
static const GDBusArgInfo * const _contacts_search_provider_dbus_arg_info_GetResultMetas_out[] = {&_contacts_search_provider_dbus_arg_info_GetResultMetas_result, NULL};
static const GDBusMethodInfo _contacts_search_provider_dbus_method_info_GetResultMetas = {-1, "GetResultMetas", (GDBusArgInfo **) (&_contacts_search_provider_dbus_arg_info_GetResultMetas_in), (GDBusArgInfo **) (&_contacts_search_provider_dbus_arg_info_GetResultMetas_out), NULL};
static const GDBusArgInfo _contacts_search_provider_dbus_arg_info_ActivateResult_id = {-1, "id", "s", NULL};
static const GDBusArgInfo _contacts_search_provider_dbus_arg_info_ActivateResult_terms = {-1, "terms", "as", NULL};
static const GDBusArgInfo _contacts_search_provider_dbus_arg_info_ActivateResult_timestamp = {-1, "timestamp", "u", NULL};
static const GDBusArgInfo * const _contacts_search_provider_dbus_arg_info_ActivateResult_in[] = {&_contacts_search_provider_dbus_arg_info_ActivateResult_id, &_contacts_search_provider_dbus_arg_info_ActivateResult_terms, &_contacts_search_provider_dbus_arg_info_ActivateResult_timestamp, NULL};
static const GDBusArgInfo * const _contacts_search_provider_dbus_arg_info_ActivateResult_out[] = {NULL};
static const GDBusMethodInfo _contacts_search_provider_dbus_method_info_ActivateResult = {-1, "ActivateResult", (GDBusArgInfo **) (&_contacts_search_provider_dbus_arg_info_ActivateResult_in), (GDBusArgInfo **) (&_contacts_search_provider_dbus_arg_info_ActivateResult_out), NULL};
static const GDBusArgInfo _contacts_search_provider_dbus_arg_info_LaunchSearch_terms = {-1, "terms", "as", NULL};
static const GDBusArgInfo _contacts_search_provider_dbus_arg_info_LaunchSearch_timestamp = {-1, "timestamp", "u", NULL};
static const GDBusArgInfo * const _contacts_search_provider_dbus_arg_info_LaunchSearch_in[] = {&_contacts_search_provider_dbus_arg_info_LaunchSearch_terms, &_contacts_search_provider_dbus_arg_info_LaunchSearch_timestamp, NULL};
static const GDBusArgInfo * const _contacts_search_provider_dbus_arg_info_LaunchSearch_out[] = {NULL};
static const GDBusMethodInfo _contacts_search_provider_dbus_method_info_LaunchSearch = {-1, "LaunchSearch", (GDBusArgInfo **) (&_contacts_search_provider_dbus_arg_info_LaunchSearch_in), (GDBusArgInfo **) (&_contacts_search_provider_dbus_arg_info_LaunchSearch_out), NULL};
static const GDBusMethodInfo * const _contacts_search_provider_dbus_method_info[] = {&_contacts_search_provider_dbus_method_info_GetInitialResultSet, &_contacts_search_provider_dbus_method_info_GetSubsearchResultSet, &_contacts_search_provider_dbus_method_info_GetResultMetas, &_contacts_search_provider_dbus_method_info_ActivateResult, &_contacts_search_provider_dbus_method_info_LaunchSearch, NULL};
static const GDBusSignalInfo * const _contacts_search_provider_dbus_signal_info[] = {NULL};
static const GDBusPropertyInfo * const _contacts_search_provider_dbus_property_info[] = {NULL};
static const GDBusInterfaceInfo _contacts_search_provider_dbus_interface_info = {-1, "org.gnome.Shell.SearchProvider2", (GDBusMethodInfo **) (&_contacts_search_provider_dbus_method_info), (GDBusSignalInfo **) (&_contacts_search_provider_dbus_signal_info), (GDBusPropertyInfo **) (&_contacts_search_provider_dbus_property_info), NULL};
static const GDBusInterfaceVTable _contacts_search_provider_dbus_interface_vtable = {contacts_search_provider_dbus_interface_method_call, contacts_search_provider_dbus_interface_get_property, contacts_search_provider_dbus_interface_set_property};

static inline gpointer
contacts_search_provider_get_instance_private (ContactsSearchProvider* self)
{
	return G_STRUCT_MEMBER_P (self, ContactsSearchProvider_private_offset);
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 33 "../src/contacts-shell-search-provider.vala"
	return self ? g_object_ref (self) : NULL;
#line 619 "contacts-shell-search-provider.c"
}

static const gchar**
_vala_array_dup1 (const gchar** self,
                  gint length)
{
#line 36 "../src/contacts-shell-search-provider.vala"
	return g_memdup (self, length * sizeof (const gchar*));
#line 628 "contacts-shell-search-provider.c"
}

static void
_vala_array_add1 (const gchar** * array,
                  gint* length,
                  gint* size,
                  const gchar* value)
{
#line 38 "../src/contacts-shell-search-provider.vala"
	if ((*length) == (*size)) {
#line 38 "../src/contacts-shell-search-provider.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 38 "../src/contacts-shell-search-provider.vala"
		*array = g_renew (const gchar*, *array, (*size) + 1);
#line 643 "contacts-shell-search-provider.c"
	}
#line 38 "../src/contacts-shell-search-provider.vala"
	(*array)[(*length)++] = value;
#line 38 "../src/contacts-shell-search-provider.vala"
	(*array)[*length] = NULL;
#line 649 "contacts-shell-search-provider.c"
}

ContactsSearchProvider*
contacts_search_provider_construct (GType object_type,
                                    ContactsSearchProviderApp* app)
{
	ContactsSearchProvider * self = NULL;
	FolksIndividualAggregator* _tmp0_;
	FolksIndividualAggregator* _tmp1_;
	ContactsSearchProviderApp* _tmp2_;
	gchar* _tmp3_;
	gchar** _tmp4_;
	gchar** _tmp5_;
	gint _tmp5__length1;
	GThemedIcon* _tmp6_;
	GThemedIcon* _tmp7_;
	GVariant* _tmp8_;
	const gchar** matched_fields = NULL;
	const gchar** _tmp9_;
	gint _tmp9__length1;
	gint matched_fields_length1;
	gint _matched_fields_size_;
	const gchar** _tmp12_;
	gint _tmp12__length1;
	FolksSimpleQuery* _tmp13_;
#line 28 "../src/contacts-shell-search-provider.vala"
	g_return_val_if_fail (app != NULL, NULL);
#line 28 "../src/contacts-shell-search-provider.vala"
	self = (ContactsSearchProvider*) g_object_new (object_type, NULL);
#line 30 "../src/contacts-shell-search-provider.vala"
	_tmp0_ = folks_individual_aggregator_dup ();
#line 30 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (self->priv->aggregator);
#line 30 "../src/contacts-shell-search-provider.vala"
	self->priv->aggregator = _tmp0_;
#line 31 "../src/contacts-shell-search-provider.vala"
	_tmp1_ = self->priv->aggregator;
#line 31 "../src/contacts-shell-search-provider.vala"
	folks_individual_aggregator_prepare (_tmp1_, NULL, NULL);
#line 33 "../src/contacts-shell-search-provider.vala"
	_tmp2_ = _g_object_ref0 (app);
#line 33 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (self->priv->app);
#line 33 "../src/contacts-shell-search-provider.vala"
	self->priv->app = _tmp2_;
#line 34 "../src/contacts-shell-search-provider.vala"
	_tmp3_ = g_strdup ("avatar-default-symbolic");
#line 34 "../src/contacts-shell-search-provider.vala"
	_tmp4_ = g_new0 (gchar*, 1 + 1);
#line 34 "../src/contacts-shell-search-provider.vala"
	_tmp4_[0] = _tmp3_;
#line 34 "../src/contacts-shell-search-provider.vala"
	_tmp5_ = _tmp4_;
#line 34 "../src/contacts-shell-search-provider.vala"
	_tmp5__length1 = 1;
#line 34 "../src/contacts-shell-search-provider.vala"
	_tmp6_ = (GThemedIcon*) g_themed_icon_new_from_names (_tmp5_, 1);
#line 34 "../src/contacts-shell-search-provider.vala"
	_tmp7_ = _tmp6_;
#line 34 "../src/contacts-shell-search-provider.vala"
	_tmp8_ = g_icon_serialize ((GIcon*) _tmp7_);
#line 34 "../src/contacts-shell-search-provider.vala"
	_g_variant_unref0 (self->priv->serialized_fallback_icon);
#line 34 "../src/contacts-shell-search-provider.vala"
	self->priv->serialized_fallback_icon = _tmp8_;
#line 34 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (_tmp7_);
#line 34 "../src/contacts-shell-search-provider.vala"
	_tmp5_ = (_vala_array_free (_tmp5_, _tmp5__length1, (GDestroyNotify) g_free), NULL);
#line 36 "../src/contacts-shell-search-provider.vala"
	_tmp9_ = (FOLKS_QUERY_MATCH_FIELDS_NAMES != NULL) ? _vala_array_dup1 (FOLKS_QUERY_MATCH_FIELDS_NAMES, G_N_ELEMENTS (FOLKS_QUERY_MATCH_FIELDS_NAMES)) : ((gpointer) FOLKS_QUERY_MATCH_FIELDS_NAMES);
#line 36 "../src/contacts-shell-search-provider.vala"
	_tmp9__length1 = G_N_ELEMENTS (FOLKS_QUERY_MATCH_FIELDS_NAMES);
#line 36 "../src/contacts-shell-search-provider.vala"
	matched_fields = _tmp9_;
#line 36 "../src/contacts-shell-search-provider.vala"
	matched_fields_length1 = _tmp9__length1;
#line 36 "../src/contacts-shell-search-provider.vala"
	_matched_fields_size_ = matched_fields_length1;
#line 729 "contacts-shell-search-provider.c"
	{
		const gchar** field_collection = NULL;
		gint field_collection_length1 = 0;
		gint _field_collection_size_ = 0;
		gint field_it = 0;
#line 37 "../src/contacts-shell-search-provider.vala"
		field_collection = FOLKS_QUERY_MATCH_FIELDS_ADDRESSES;
#line 37 "../src/contacts-shell-search-provider.vala"
		field_collection_length1 = G_N_ELEMENTS (FOLKS_QUERY_MATCH_FIELDS_ADDRESSES);
#line 37 "../src/contacts-shell-search-provider.vala"
		for (field_it = 0; field_it < field_collection_length1; field_it = field_it + 1) {
#line 741 "contacts-shell-search-provider.c"
			const gchar* field = NULL;
#line 37 "../src/contacts-shell-search-provider.vala"
			field = field_collection[field_it];
#line 745 "contacts-shell-search-provider.c"
			{
				const gchar** _tmp10_;
				gint _tmp10__length1;
				const gchar* _tmp11_;
#line 38 "../src/contacts-shell-search-provider.vala"
				_tmp10_ = matched_fields;
#line 38 "../src/contacts-shell-search-provider.vala"
				_tmp10__length1 = matched_fields_length1;
#line 38 "../src/contacts-shell-search-provider.vala"
				_tmp11_ = field;
#line 38 "../src/contacts-shell-search-provider.vala"
				_vala_array_add1 (&matched_fields, &matched_fields_length1, &_matched_fields_size_, _tmp11_);
#line 758 "contacts-shell-search-provider.c"
			}
		}
	}
#line 39 "../src/contacts-shell-search-provider.vala"
	_tmp12_ = matched_fields;
#line 39 "../src/contacts-shell-search-provider.vala"
	_tmp12__length1 = matched_fields_length1;
#line 39 "../src/contacts-shell-search-provider.vala"
	_tmp13_ = folks_simple_query_new ("", _tmp12_, _tmp12__length1);
#line 39 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (self->priv->query);
#line 39 "../src/contacts-shell-search-provider.vala"
	self->priv->query = _tmp13_;
#line 41 "../src/contacts-shell-search-provider.vala"
	if (!contacts_ensure_eds_accounts (FALSE)) {
#line 774 "contacts-shell-search-provider.c"
		ContactsSearchProviderApp* _tmp14_;
#line 42 "../src/contacts-shell-search-provider.vala"
		_tmp14_ = self->priv->app;
#line 42 "../src/contacts-shell-search-provider.vala"
		g_application_quit ((GApplication*) _tmp14_);
#line 780 "contacts-shell-search-provider.c"
	}
#line 28 "../src/contacts-shell-search-provider.vala"
	matched_fields = (g_free (matched_fields), NULL);
#line 28 "../src/contacts-shell-search-provider.vala"
	return self;
#line 786 "contacts-shell-search-provider.c"
}

ContactsSearchProvider*
contacts_search_provider_new (ContactsSearchProviderApp* app)
{
#line 28 "../src/contacts-shell-search-provider.vala"
	return contacts_search_provider_construct (CONTACTS_TYPE_SEARCH_PROVIDER, app);
#line 794 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_GetInitialResultSet_data_free (gpointer _data)
{
	contacts_search_provider_GetInitialResultSetData* _data_;
	_data_ = _data;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->result = (_vala_array_free (_data_->result, _data_->result_length1, (GDestroyNotify) g_free), NULL);
#line 22 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (_data_->self);
#line 22 "../src/contacts-shell-search-provider.vala"
	g_slice_free (contacts_search_provider_GetInitialResultSetData, _data_);
#line 808 "contacts-shell-search-provider.c"
}

void
contacts_search_provider_GetInitialResultSet (ContactsSearchProvider* self,
                                              gchar** terms,
                                              gint terms_length1,
                                              GAsyncReadyCallback _callback_,
                                              gpointer _user_data_)
{
	contacts_search_provider_GetInitialResultSetData* _data_;
	ContactsSearchProvider* _tmp0_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_ = g_slice_new0 (contacts_search_provider_GetInitialResultSetData);
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 22 "../src/contacts-shell-search-provider.vala"
	g_task_set_task_data (_data_->_async_result, _data_, contacts_search_provider_GetInitialResultSet_data_free);
#line 22 "../src/contacts-shell-search-provider.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->self = _tmp0_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->terms = terms;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->terms_length1 = terms_length1;
#line 22 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_GetInitialResultSet_co (_data_);
#line 836 "contacts-shell-search-provider.c"
}

gchar**
contacts_search_provider_GetInitialResultSet_finish (ContactsSearchProvider* self,
                                                     GAsyncResult* _res_,
                                                     gint* result_length1,
                                                     GError** error)
{
	gchar** result;
	contacts_search_provider_GetInitialResultSetData* _data_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 22 "../src/contacts-shell-search-provider.vala"
	if (NULL == _data_) {
#line 22 "../src/contacts-shell-search-provider.vala"
		return NULL;
#line 853 "contacts-shell-search-provider.c"
	}
#line 22 "../src/contacts-shell-search-provider.vala"
	result = _data_->result;
#line 22 "../src/contacts-shell-search-provider.vala"
	*result_length1 = _data_->result_length1;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->result = NULL;
#line 22 "../src/contacts-shell-search-provider.vala"
	return result;
#line 863 "contacts-shell-search-provider.c"
}

static Block1Data*
block1_data_ref (Block1Data* _data1_)
{
#line 45 "../src/contacts-shell-search-provider.vala"
	g_atomic_int_inc (&_data1_->_ref_count_);
#line 45 "../src/contacts-shell-search-provider.vala"
	return _data1_;
#line 873 "contacts-shell-search-provider.c"
}

static void
block1_data_unref (void * _userdata_)
{
	Block1Data* _data1_;
	_data1_ = (Block1Data*) _userdata_;
#line 45 "../src/contacts-shell-search-provider.vala"
	if (g_atomic_int_dec_and_test (&_data1_->_ref_count_)) {
#line 883 "contacts-shell-search-provider.c"
		ContactsSearchProvider* self;
#line 45 "../src/contacts-shell-search-provider.vala"
		self = _data1_->self;
#line 45 "../src/contacts-shell-search-provider.vala"
		_g_object_unref0 (self);
#line 45 "../src/contacts-shell-search-provider.vala"
		g_slice_free (Block1Data, _data1_);
#line 891 "contacts-shell-search-provider.c"
	}
}

static void
___lambda4_ (Block1Data* _data1_)
{
	ContactsSearchProvider* self;
#line 48 "../src/contacts-shell-search-provider.vala"
	self = _data1_->self;
#line 49 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_GetInitialResultSet_co (_data1_->_async_data_);
#line 903 "contacts-shell-search-provider.c"
}

static void
____lambda4__g_object_notify (GObject* _sender,
                              GParamSpec* pspec,
                              gpointer self)
{
#line 48 "../src/contacts-shell-search-provider.vala"
	___lambda4_ (self);
#line 913 "contacts-shell-search-provider.c"
}

static gboolean
___lambda5_ (Block1Data* _data1_)
{
	ContactsSearchProvider* self;
	gboolean result = FALSE;
#line 53 "../src/contacts-shell-search-provider.vala"
	self = _data1_->self;
#line 54 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_GetInitialResultSet_co (_data1_->_async_data_);
#line 55 "../src/contacts-shell-search-provider.vala"
	result = FALSE;
#line 55 "../src/contacts-shell-search-provider.vala"
	return result;
#line 929 "contacts-shell-search-provider.c"
}

static gboolean
____lambda5__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda5_ (self);
#line 53 "../src/contacts-shell-search-provider.vala"
	return result;
#line 939 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_GetInitialResultSet_ready (GObject* source_object,
                                                    GAsyncResult* _res_,
                                                    gpointer _user_data_)
{
	contacts_search_provider_GetInitialResultSetData* _data_;
#line 61 "../src/contacts-shell-search-provider.vala"
	_data_ = _user_data_;
#line 61 "../src/contacts-shell-search-provider.vala"
	_data_->_source_object_ = source_object;
#line 61 "../src/contacts-shell-search-provider.vala"
	_data_->_res_ = _res_;
#line 61 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_GetInitialResultSet_co (_data_);
#line 956 "contacts-shell-search-provider.c"
}

static gboolean
contacts_search_provider_GetInitialResultSet_co (contacts_search_provider_GetInitialResultSetData* _data_)
{
#line 45 "../src/contacts-shell-search-provider.vala"
	switch (_data_->_state_) {
#line 45 "../src/contacts-shell-search-provider.vala"
		case 0:
#line 966 "contacts-shell-search-provider.c"
		goto _state_0;
#line 45 "../src/contacts-shell-search-provider.vala"
		case 1:
#line 970 "contacts-shell-search-provider.c"
		goto _state_1;
#line 45 "../src/contacts-shell-search-provider.vala"
		case 2:
#line 974 "contacts-shell-search-provider.c"
		goto _state_2;
#line 45 "../src/contacts-shell-search-provider.vala"
		case 3:
#line 978 "contacts-shell-search-provider.c"
		goto _state_3;
#line 45 "../src/contacts-shell-search-provider.vala"
		case 4:
#line 982 "contacts-shell-search-provider.c"
		goto _state_4;
		default:
#line 45 "../src/contacts-shell-search-provider.vala"
		g_assert_not_reached ();
#line 987 "contacts-shell-search-provider.c"
	}
	_state_0:
#line 45 "../src/contacts-shell-search-provider.vala"
	_data_->_data1_ = g_slice_new0 (Block1Data);
#line 45 "../src/contacts-shell-search-provider.vala"
	_data_->_data1_->_ref_count_ = 1;
#line 45 "../src/contacts-shell-search-provider.vala"
	_data_->_data1_->self = g_object_ref (_data_->self);
#line 45 "../src/contacts-shell-search-provider.vala"
	_data_->_data1_->_async_data_ = _data_;
#line 47 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp0_ = _data_->self->priv->aggregator;
#line 47 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp1_ = folks_individual_aggregator_get_is_quiescent (_data_->_tmp0_);
#line 47 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp2_ = _data_->_tmp1_;
#line 47 "../src/contacts-shell-search-provider.vala"
	if (!_data_->_tmp2_) {
#line 48 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp3_ = _data_->self->priv->aggregator;
#line 48 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp4_ = g_signal_connect_data ((GObject*) _data_->_tmp3_, "notify::is-quiescent", (GCallback) ____lambda4__g_object_notify, block1_data_ref (_data_->_data1_), (GClosureNotify) block1_data_unref, 0);
#line 48 "../src/contacts-shell-search-provider.vala"
		_data_->id = _data_->_tmp4_;
#line 53 "../src/contacts-shell-search-provider.vala"
		_data_->timeout = g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) 1500, ____lambda5__gsource_func, block1_data_ref (_data_->_data1_), block1_data_unref);
#line 57 "../src/contacts-shell-search-provider.vala"
		_data_->_state_ = 1;
#line 57 "../src/contacts-shell-search-provider.vala"
		return FALSE;
#line 1018 "contacts-shell-search-provider.c"
		_state_1:
		;
#line 58 "../src/contacts-shell-search-provider.vala"
		g_source_remove (_data_->timeout);
#line 59 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp5_ = _data_->self->priv->aggregator;
#line 59 "../src/contacts-shell-search-provider.vala"
		g_signal_handler_disconnect ((GObject*) _data_->_tmp5_, _data_->id);
#line 61 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp6_ = 0;
#line 61 "../src/contacts-shell-search-provider.vala"
		_data_->_state_ = 2;
#line 61 "../src/contacts-shell-search-provider.vala"
		contacts_search_provider_do_search (_data_->self, _data_->terms, (gint) _data_->terms_length1, contacts_search_provider_GetInitialResultSet_ready, _data_);
#line 61 "../src/contacts-shell-search-provider.vala"
		return FALSE;
#line 1035 "contacts-shell-search-provider.c"
		_state_2:
#line 61 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp7_ = contacts_search_provider_do_search_finish (_data_->self, _data_->_res_, &_data_->_tmp6_, &_data_->_inner_error0_);
#line 61 "../src/contacts-shell-search-provider.vala"
		_data_->results = _data_->_tmp7_;
#line 61 "../src/contacts-shell-search-provider.vala"
		_data_->results_length1 = _data_->_tmp6_;
#line 61 "../src/contacts-shell-search-provider.vala"
		_data_->_results_size_ = _data_->results_length1;
#line 61 "../src/contacts-shell-search-provider.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 61 "../src/contacts-shell-search-provider.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 61 "../src/contacts-shell-search-provider.vala"
			block1_data_unref (_data_->_data1_);
#line 61 "../src/contacts-shell-search-provider.vala"
			_data_->_data1_ = NULL;
#line 61 "../src/contacts-shell-search-provider.vala"
			g_object_unref (_data_->_async_result);
#line 61 "../src/contacts-shell-search-provider.vala"
			return FALSE;
#line 1057 "contacts-shell-search-provider.c"
		}
#line 62 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp8_ = _data_->results;
#line 62 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp8__length1 = _data_->results_length1;
#line 62 "../src/contacts-shell-search-provider.vala"
		if (_data_->_tmp8__length1 == 0) {
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp10_ = 0;
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->_state_ = 3;
#line 64 "../src/contacts-shell-search-provider.vala"
			contacts_search_provider_GetInitialResultSet (_data_->self, _data_->terms, (gint) _data_->terms_length1, contacts_search_provider_GetInitialResultSet_ready, _data_);
#line 64 "../src/contacts-shell-search-provider.vala"
			return FALSE;
#line 1073 "contacts-shell-search-provider.c"
			_state_3:
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp11_ = contacts_search_provider_GetInitialResultSet_finish (_data_->self, _data_->_res_, &_data_->_tmp10_, &_data_->_inner_error0_);
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp9_ = _data_->_tmp11_;
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp9__length1 = _data_->_tmp10_;
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->__tmp9__size_ = _data_->_tmp9__length1;
#line 64 "../src/contacts-shell-search-provider.vala"
			if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 64 "../src/contacts-shell-search-provider.vala"
				g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 64 "../src/contacts-shell-search-provider.vala"
				_data_->results = (_vala_array_free (_data_->results, _data_->results_length1, (GDestroyNotify) g_free), NULL);
#line 64 "../src/contacts-shell-search-provider.vala"
				block1_data_unref (_data_->_data1_);
#line 64 "../src/contacts-shell-search-provider.vala"
				_data_->_data1_ = NULL;
#line 64 "../src/contacts-shell-search-provider.vala"
				g_object_unref (_data_->_async_result);
#line 64 "../src/contacts-shell-search-provider.vala"
				return FALSE;
#line 1097 "contacts-shell-search-provider.c"
			}
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp12_ = _data_->_tmp9_;
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp12__length1 = _data_->_tmp9__length1;
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp9_ = NULL;
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp9__length1 = 0;
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp13_ = _data_->_tmp12_;
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp13__length1 = _data_->_tmp12__length1;
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->result_length1 = _data_->_tmp13__length1;
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->result = _data_->_tmp13_;
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp9_ = (_vala_array_free (_data_->_tmp9_, _data_->_tmp9__length1, (GDestroyNotify) g_free), NULL);
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->results = (_vala_array_free (_data_->results, _data_->results_length1, (GDestroyNotify) g_free), NULL);
#line 64 "../src/contacts-shell-search-provider.vala"
			block1_data_unref (_data_->_data1_);
#line 64 "../src/contacts-shell-search-provider.vala"
			_data_->_data1_ = NULL;
#line 64 "../src/contacts-shell-search-provider.vala"
			g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 64 "../src/contacts-shell-search-provider.vala"
			if (_data_->_state_ != 0) {
#line 64 "../src/contacts-shell-search-provider.vala"
				while (!g_task_get_completed (_data_->_async_result)) {
#line 64 "../src/contacts-shell-search-provider.vala"
					g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 1131 "contacts-shell-search-provider.c"
				}
			}
#line 64 "../src/contacts-shell-search-provider.vala"
			g_object_unref (_data_->_async_result);
#line 64 "../src/contacts-shell-search-provider.vala"
			return FALSE;
#line 1138 "contacts-shell-search-provider.c"
		} else {
#line 66 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp14_ = _data_->results;
#line 66 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp14__length1 = _data_->results_length1;
#line 66 "../src/contacts-shell-search-provider.vala"
			_data_->result_length1 = _data_->_tmp14__length1;
#line 66 "../src/contacts-shell-search-provider.vala"
			_data_->result = _data_->_tmp14_;
#line 66 "../src/contacts-shell-search-provider.vala"
			block1_data_unref (_data_->_data1_);
#line 66 "../src/contacts-shell-search-provider.vala"
			_data_->_data1_ = NULL;
#line 66 "../src/contacts-shell-search-provider.vala"
			g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 66 "../src/contacts-shell-search-provider.vala"
			if (_data_->_state_ != 0) {
#line 66 "../src/contacts-shell-search-provider.vala"
				while (!g_task_get_completed (_data_->_async_result)) {
#line 66 "../src/contacts-shell-search-provider.vala"
					g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 1160 "contacts-shell-search-provider.c"
				}
			}
#line 66 "../src/contacts-shell-search-provider.vala"
			g_object_unref (_data_->_async_result);
#line 66 "../src/contacts-shell-search-provider.vala"
			return FALSE;
#line 1167 "contacts-shell-search-provider.c"
		}
#line 47 "../src/contacts-shell-search-provider.vala"
		_data_->results = (_vala_array_free (_data_->results, _data_->results_length1, (GDestroyNotify) g_free), NULL);
#line 1171 "contacts-shell-search-provider.c"
	} else {
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp16_ = 0;
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->_state_ = 4;
#line 69 "../src/contacts-shell-search-provider.vala"
		contacts_search_provider_do_search (_data_->self, _data_->terms, (gint) _data_->terms_length1, contacts_search_provider_GetInitialResultSet_ready, _data_);
#line 69 "../src/contacts-shell-search-provider.vala"
		return FALSE;
#line 1181 "contacts-shell-search-provider.c"
		_state_4:
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp17_ = contacts_search_provider_do_search_finish (_data_->self, _data_->_res_, &_data_->_tmp16_, &_data_->_inner_error0_);
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp15_ = _data_->_tmp17_;
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp15__length1 = _data_->_tmp16_;
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->__tmp15__size_ = _data_->_tmp15__length1;
#line 69 "../src/contacts-shell-search-provider.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 69 "../src/contacts-shell-search-provider.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 69 "../src/contacts-shell-search-provider.vala"
			block1_data_unref (_data_->_data1_);
#line 69 "../src/contacts-shell-search-provider.vala"
			_data_->_data1_ = NULL;
#line 69 "../src/contacts-shell-search-provider.vala"
			g_object_unref (_data_->_async_result);
#line 69 "../src/contacts-shell-search-provider.vala"
			return FALSE;
#line 1203 "contacts-shell-search-provider.c"
		}
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp18_ = _data_->_tmp15_;
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp18__length1 = _data_->_tmp15__length1;
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp15_ = NULL;
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp15__length1 = 0;
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp19_ = _data_->_tmp18_;
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp19__length1 = _data_->_tmp18__length1;
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->result_length1 = _data_->_tmp19__length1;
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->result = _data_->_tmp19_;
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp15_ = (_vala_array_free (_data_->_tmp15_, _data_->_tmp15__length1, (GDestroyNotify) g_free), NULL);
#line 69 "../src/contacts-shell-search-provider.vala"
		block1_data_unref (_data_->_data1_);
#line 69 "../src/contacts-shell-search-provider.vala"
		_data_->_data1_ = NULL;
#line 69 "../src/contacts-shell-search-provider.vala"
		g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 69 "../src/contacts-shell-search-provider.vala"
		if (_data_->_state_ != 0) {
#line 69 "../src/contacts-shell-search-provider.vala"
			while (!g_task_get_completed (_data_->_async_result)) {
#line 69 "../src/contacts-shell-search-provider.vala"
				g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 1235 "contacts-shell-search-provider.c"
			}
		}
#line 69 "../src/contacts-shell-search-provider.vala"
		g_object_unref (_data_->_async_result);
#line 69 "../src/contacts-shell-search-provider.vala"
		return FALSE;
#line 1242 "contacts-shell-search-provider.c"
	}
#line 45 "../src/contacts-shell-search-provider.vala"
	block1_data_unref (_data_->_data1_);
#line 45 "../src/contacts-shell-search-provider.vala"
	_data_->_data1_ = NULL;
#line 1248 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_GetSubsearchResultSet_data_free (gpointer _data)
{
	contacts_search_provider_GetSubsearchResultSetData* _data_;
	_data_ = _data;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->result = (_vala_array_free (_data_->result, _data_->result_length1, (GDestroyNotify) g_free), NULL);
#line 22 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (_data_->self);
#line 22 "../src/contacts-shell-search-provider.vala"
	g_slice_free (contacts_search_provider_GetSubsearchResultSetData, _data_);
#line 1262 "contacts-shell-search-provider.c"
}

void
contacts_search_provider_GetSubsearchResultSet (ContactsSearchProvider* self,
                                                gchar** previous_results,
                                                gint previous_results_length1,
                                                gchar** new_terms,
                                                gint new_terms_length1,
                                                GAsyncReadyCallback _callback_,
                                                gpointer _user_data_)
{
	contacts_search_provider_GetSubsearchResultSetData* _data_;
	ContactsSearchProvider* _tmp0_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_ = g_slice_new0 (contacts_search_provider_GetSubsearchResultSetData);
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 22 "../src/contacts-shell-search-provider.vala"
	g_task_set_task_data (_data_->_async_result, _data_, contacts_search_provider_GetSubsearchResultSet_data_free);
#line 22 "../src/contacts-shell-search-provider.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->self = _tmp0_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->previous_results = previous_results;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->previous_results_length1 = previous_results_length1;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->new_terms = new_terms;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->new_terms_length1 = new_terms_length1;
#line 22 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_GetSubsearchResultSet_co (_data_);
#line 1296 "contacts-shell-search-provider.c"
}

gchar**
contacts_search_provider_GetSubsearchResultSet_finish (ContactsSearchProvider* self,
                                                       GAsyncResult* _res_,
                                                       gint* result_length1,
                                                       GError** error)
{
	gchar** result;
	contacts_search_provider_GetSubsearchResultSetData* _data_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 22 "../src/contacts-shell-search-provider.vala"
	if (NULL == _data_) {
#line 22 "../src/contacts-shell-search-provider.vala"
		return NULL;
#line 1313 "contacts-shell-search-provider.c"
	}
#line 22 "../src/contacts-shell-search-provider.vala"
	result = _data_->result;
#line 22 "../src/contacts-shell-search-provider.vala"
	*result_length1 = _data_->result_length1;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->result = NULL;
#line 22 "../src/contacts-shell-search-provider.vala"
	return result;
#line 1323 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_GetSubsearchResultSet_ready (GObject* source_object,
                                                      GAsyncResult* _res_,
                                                      gpointer _user_data_)
{
	contacts_search_provider_GetSubsearchResultSetData* _data_;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_ = _user_data_;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_source_object_ = source_object;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_res_ = _res_;
#line 75 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_GetSubsearchResultSet_co (_data_);
#line 1340 "contacts-shell-search-provider.c"
}

static gboolean
contacts_search_provider_GetSubsearchResultSet_co (contacts_search_provider_GetSubsearchResultSetData* _data_)
{
#line 73 "../src/contacts-shell-search-provider.vala"
	switch (_data_->_state_) {
#line 73 "../src/contacts-shell-search-provider.vala"
		case 0:
#line 1350 "contacts-shell-search-provider.c"
		goto _state_0;
#line 73 "../src/contacts-shell-search-provider.vala"
		case 1:
#line 1354 "contacts-shell-search-provider.c"
		goto _state_1;
		default:
#line 73 "../src/contacts-shell-search-provider.vala"
		g_assert_not_reached ();
#line 1359 "contacts-shell-search-provider.c"
	}
	_state_0:
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp1_ = 0;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_state_ = 1;
#line 75 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_GetInitialResultSet (_data_->self, _data_->new_terms, (gint) _data_->new_terms_length1, contacts_search_provider_GetSubsearchResultSet_ready, _data_);
#line 75 "../src/contacts-shell-search-provider.vala"
	return FALSE;
#line 1370 "contacts-shell-search-provider.c"
	_state_1:
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp2_ = contacts_search_provider_GetInitialResultSet_finish (_data_->self, _data_->_res_, &_data_->_tmp1_, &_data_->_inner_error0_);
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp0_ = _data_->_tmp2_;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp0__length1 = _data_->_tmp1_;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->__tmp0__size_ = _data_->_tmp0__length1;
#line 75 "../src/contacts-shell-search-provider.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 75 "../src/contacts-shell-search-provider.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 75 "../src/contacts-shell-search-provider.vala"
		g_object_unref (_data_->_async_result);
#line 75 "../src/contacts-shell-search-provider.vala"
		return FALSE;
#line 1388 "contacts-shell-search-provider.c"
	}
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp3_ = _data_->_tmp0_;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp3__length1 = _data_->_tmp0__length1;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp0_ = NULL;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp0__length1 = 0;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp4_ = _data_->_tmp3_;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp4__length1 = _data_->_tmp3__length1;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->result_length1 = _data_->_tmp4__length1;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->result = _data_->_tmp4_;
#line 75 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp0_ = (_vala_array_free (_data_->_tmp0_, _data_->_tmp0__length1, (GDestroyNotify) g_free), NULL);
#line 75 "../src/contacts-shell-search-provider.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 75 "../src/contacts-shell-search-provider.vala"
	if (_data_->_state_ != 0) {
#line 75 "../src/contacts-shell-search-provider.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 75 "../src/contacts-shell-search-provider.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 1416 "contacts-shell-search-provider.c"
		}
	}
#line 75 "../src/contacts-shell-search-provider.vala"
	g_object_unref (_data_->_async_result);
#line 75 "../src/contacts-shell-search-provider.vala"
	return FALSE;
#line 1423 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_do_search_data_free (gpointer _data)
{
	ContactsSearchProviderDoSearchData* _data_;
	_data_ = _data;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->result = (_vala_array_free (_data_->result, _data_->result_length1, (GDestroyNotify) g_free), NULL);
#line 22 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (_data_->self);
#line 22 "../src/contacts-shell-search-provider.vala"
	g_slice_free (ContactsSearchProviderDoSearchData, _data_);
#line 1437 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_do_search (ContactsSearchProvider* self,
                                    gchar** terms,
                                    gint terms_length1,
                                    GAsyncReadyCallback _callback_,
                                    gpointer _user_data_)
{
	ContactsSearchProviderDoSearchData* _data_;
	ContactsSearchProvider* _tmp0_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_ = g_slice_new0 (ContactsSearchProviderDoSearchData);
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 22 "../src/contacts-shell-search-provider.vala"
	g_task_set_task_data (_data_->_async_result, _data_, contacts_search_provider_do_search_data_free);
#line 22 "../src/contacts-shell-search-provider.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->self = _tmp0_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->terms = terms;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->terms_length1 = terms_length1;
#line 22 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_do_search_co (_data_);
#line 1465 "contacts-shell-search-provider.c"
}

static gchar**
contacts_search_provider_do_search_finish (ContactsSearchProvider* self,
                                           GAsyncResult* _res_,
                                           gint* result_length1,
                                           GError** error)
{
	gchar** result;
	ContactsSearchProviderDoSearchData* _data_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 22 "../src/contacts-shell-search-provider.vala"
	if (NULL == _data_) {
#line 22 "../src/contacts-shell-search-provider.vala"
		return NULL;
#line 1482 "contacts-shell-search-provider.c"
	}
#line 22 "../src/contacts-shell-search-provider.vala"
	result = _data_->result;
#line 22 "../src/contacts-shell-search-provider.vala"
	*result_length1 = _data_->result_length1;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->result = NULL;
#line 22 "../src/contacts-shell-search-provider.vala"
	return result;
#line 1492 "contacts-shell-search-provider.c"
}

static gchar*
_vala_g_strjoinv (const gchar* separator,
                  gchar** str_array,
                  gint str_array_length1)
{
	gboolean _tmp0_ = FALSE;
	gchar* result = NULL;
#line 1200 "glib-2.0.vapi"
	if (separator == NULL) {
#line 1201 "glib-2.0.vapi"
		separator = "";
#line 1506 "contacts-shell-search-provider.c"
	}
#line 1203 "glib-2.0.vapi"
	if (str_array != NULL) {
#line 1510 "contacts-shell-search-provider.c"
		gboolean _tmp1_ = FALSE;
#line 1203 "glib-2.0.vapi"
		if (str_array_length1 > 0) {
#line 1203 "glib-2.0.vapi"
			_tmp1_ = TRUE;
#line 1516 "contacts-shell-search-provider.c"
		} else {
			gboolean _tmp2_ = FALSE;
#line 1203 "glib-2.0.vapi"
			if (str_array_length1 == -1) {
#line 1521 "contacts-shell-search-provider.c"
				const gchar* _tmp3_;
#line 1203 "glib-2.0.vapi"
				_tmp3_ = str_array[0];
#line 1203 "glib-2.0.vapi"
				_tmp2_ = _tmp3_ != NULL;
#line 1527 "contacts-shell-search-provider.c"
			} else {
#line 1203 "glib-2.0.vapi"
				_tmp2_ = FALSE;
#line 1531 "contacts-shell-search-provider.c"
			}
#line 1203 "glib-2.0.vapi"
			_tmp1_ = _tmp2_;
#line 1535 "contacts-shell-search-provider.c"
		}
#line 1203 "glib-2.0.vapi"
		_tmp0_ = _tmp1_;
#line 1539 "contacts-shell-search-provider.c"
	} else {
#line 1203 "glib-2.0.vapi"
		_tmp0_ = FALSE;
#line 1543 "contacts-shell-search-provider.c"
	}
#line 1203 "glib-2.0.vapi"
	if (_tmp0_) {
#line 1547 "contacts-shell-search-provider.c"
		gint i = 0;
		gsize len = 0UL;
		gint _tmp16_;
		gint _tmp17_;
		const gchar* res = NULL;
		void* _tmp18_;
		void* ptr = NULL;
		const gchar* _tmp19_;
		const gchar* _tmp20_;
		void* _tmp21_;
		const gchar* _tmp31_;
#line 1205 "glib-2.0.vapi"
		len = (gsize) 1;
#line 1561 "contacts-shell-search-provider.c"
		{
			gboolean _tmp4_ = FALSE;
#line 1206 "glib-2.0.vapi"
			i = 0;
#line 1206 "glib-2.0.vapi"
			_tmp4_ = TRUE;
#line 1206 "glib-2.0.vapi"
			while (TRUE) {
#line 1570 "contacts-shell-search-provider.c"
				gboolean _tmp6_ = FALSE;
				gboolean _tmp7_ = FALSE;
				gint _tmp10_ = 0;
				const gchar* _tmp11_;
#line 1206 "glib-2.0.vapi"
				if (!_tmp4_) {
#line 1577 "contacts-shell-search-provider.c"
					gint _tmp5_;
#line 1206 "glib-2.0.vapi"
					_tmp5_ = i;
#line 1206 "glib-2.0.vapi"
					i = _tmp5_ + 1;
#line 1583 "contacts-shell-search-provider.c"
				}
#line 1206 "glib-2.0.vapi"
				_tmp4_ = FALSE;
#line 1206 "glib-2.0.vapi"
				if (str_array_length1 != -1) {
#line 1206 "glib-2.0.vapi"
					_tmp7_ = i < str_array_length1;
#line 1591 "contacts-shell-search-provider.c"
				} else {
#line 1206 "glib-2.0.vapi"
					_tmp7_ = FALSE;
#line 1595 "contacts-shell-search-provider.c"
				}
#line 1206 "glib-2.0.vapi"
				if (_tmp7_) {
#line 1206 "glib-2.0.vapi"
					_tmp6_ = TRUE;
#line 1601 "contacts-shell-search-provider.c"
				} else {
					gboolean _tmp8_ = FALSE;
#line 1206 "glib-2.0.vapi"
					if (str_array_length1 == -1) {
#line 1606 "contacts-shell-search-provider.c"
						const gchar* _tmp9_;
#line 1206 "glib-2.0.vapi"
						_tmp9_ = str_array[i];
#line 1206 "glib-2.0.vapi"
						_tmp8_ = _tmp9_ != NULL;
#line 1612 "contacts-shell-search-provider.c"
					} else {
#line 1206 "glib-2.0.vapi"
						_tmp8_ = FALSE;
#line 1616 "contacts-shell-search-provider.c"
					}
#line 1206 "glib-2.0.vapi"
					_tmp6_ = _tmp8_;
#line 1620 "contacts-shell-search-provider.c"
				}
#line 1206 "glib-2.0.vapi"
				if (!_tmp6_) {
#line 1206 "glib-2.0.vapi"
					break;
#line 1626 "contacts-shell-search-provider.c"
				}
#line 1207 "glib-2.0.vapi"
				_tmp11_ = str_array[i];
#line 1207 "glib-2.0.vapi"
				if (_tmp11_ != NULL) {
#line 1632 "contacts-shell-search-provider.c"
					const gchar* _tmp12_;
					gint _tmp13_;
					gint _tmp14_;
#line 1207 "glib-2.0.vapi"
					_tmp12_ = str_array[i];
#line 1207 "glib-2.0.vapi"
					_tmp13_ = strlen ((const gchar*) _tmp12_);
#line 1207 "glib-2.0.vapi"
					_tmp14_ = _tmp13_;
#line 1207 "glib-2.0.vapi"
					_tmp10_ = _tmp14_;
#line 1644 "contacts-shell-search-provider.c"
				} else {
#line 1207 "glib-2.0.vapi"
					_tmp10_ = 0;
#line 1648 "contacts-shell-search-provider.c"
				}
#line 1207 "glib-2.0.vapi"
				len += (gsize) _tmp10_;
#line 1652 "contacts-shell-search-provider.c"
			}
		}
#line 1209 "glib-2.0.vapi"
		if (i == 0) {
#line 1657 "contacts-shell-search-provider.c"
			gchar* _tmp15_;
#line 1210 "glib-2.0.vapi"
			_tmp15_ = g_strdup ("");
#line 1210 "glib-2.0.vapi"
			result = _tmp15_;
#line 1210 "glib-2.0.vapi"
			return result;
#line 1665 "contacts-shell-search-provider.c"
		}
#line 1212 "glib-2.0.vapi"
		str_array_length1 = i;
#line 1213 "glib-2.0.vapi"
		_tmp16_ = strlen ((const gchar*) separator);
#line 1213 "glib-2.0.vapi"
		_tmp17_ = _tmp16_;
#line 1213 "glib-2.0.vapi"
		len += (gsize) (_tmp17_ * (i - 1));
#line 1215 "glib-2.0.vapi"
		_tmp18_ = g_malloc (len);
#line 1215 "glib-2.0.vapi"
		res = _tmp18_;
#line 1216 "glib-2.0.vapi"
		_tmp19_ = res;
#line 1216 "glib-2.0.vapi"
		_tmp20_ = str_array[0];
#line 1216 "glib-2.0.vapi"
		_tmp21_ = g_stpcpy ((void*) _tmp19_, (const gchar*) _tmp20_);
#line 1216 "glib-2.0.vapi"
		ptr = _tmp21_;
#line 1687 "contacts-shell-search-provider.c"
		{
			gboolean _tmp22_ = FALSE;
#line 1217 "glib-2.0.vapi"
			i = 1;
#line 1217 "glib-2.0.vapi"
			_tmp22_ = TRUE;
#line 1217 "glib-2.0.vapi"
			while (TRUE) {
#line 1696 "contacts-shell-search-provider.c"
				void* _tmp24_;
				void* _tmp25_;
				const gchar* _tmp26_ = NULL;
				const gchar* _tmp27_;
				void* _tmp29_;
				void* _tmp30_;
#line 1217 "glib-2.0.vapi"
				if (!_tmp22_) {
#line 1705 "contacts-shell-search-provider.c"
					gint _tmp23_;
#line 1217 "glib-2.0.vapi"
					_tmp23_ = i;
#line 1217 "glib-2.0.vapi"
					i = _tmp23_ + 1;
#line 1711 "contacts-shell-search-provider.c"
				}
#line 1217 "glib-2.0.vapi"
				_tmp22_ = FALSE;
#line 1217 "glib-2.0.vapi"
				if (!(i < str_array_length1)) {
#line 1217 "glib-2.0.vapi"
					break;
#line 1719 "contacts-shell-search-provider.c"
				}
#line 1218 "glib-2.0.vapi"
				_tmp24_ = ptr;
#line 1218 "glib-2.0.vapi"
				_tmp25_ = g_stpcpy (_tmp24_, (const gchar*) separator);
#line 1218 "glib-2.0.vapi"
				ptr = _tmp25_;
#line 1219 "glib-2.0.vapi"
				_tmp27_ = str_array[i];
#line 1219 "glib-2.0.vapi"
				if (_tmp27_ != NULL) {
#line 1731 "contacts-shell-search-provider.c"
					const gchar* _tmp28_;
#line 1219 "glib-2.0.vapi"
					_tmp28_ = str_array[i];
#line 1219 "glib-2.0.vapi"
					_tmp26_ = (const gchar*) _tmp28_;
#line 1737 "contacts-shell-search-provider.c"
				} else {
#line 1219 "glib-2.0.vapi"
					_tmp26_ = "";
#line 1741 "contacts-shell-search-provider.c"
				}
#line 1219 "glib-2.0.vapi"
				_tmp29_ = ptr;
#line 1219 "glib-2.0.vapi"
				_tmp30_ = g_stpcpy (_tmp29_, _tmp26_);
#line 1219 "glib-2.0.vapi"
				ptr = _tmp30_;
#line 1749 "contacts-shell-search-provider.c"
			}
		}
#line 1222 "glib-2.0.vapi"
		_tmp31_ = res;
#line 1222 "glib-2.0.vapi"
		res = NULL;
#line 1222 "glib-2.0.vapi"
		result = (gchar*) _tmp31_;
#line 1222 "glib-2.0.vapi"
		return result;
#line 1760 "contacts-shell-search-provider.c"
	} else {
		gchar* _tmp32_;
#line 1224 "glib-2.0.vapi"
		_tmp32_ = g_strdup ("");
#line 1224 "glib-2.0.vapi"
		result = _tmp32_;
#line 1224 "glib-2.0.vapi"
		return result;
#line 1769 "contacts-shell-search-provider.c"
	}
}

static void
contacts_search_provider_do_search_ready (GObject* source_object,
                                          GAsyncResult* _res_,
                                          gpointer _user_data_)
{
	ContactsSearchProviderDoSearchData* _data_;
#line 85 "../src/contacts-shell-search-provider.vala"
	_data_ = _user_data_;
#line 85 "../src/contacts-shell-search-provider.vala"
	_data_->_source_object_ = source_object;
#line 85 "../src/contacts-shell-search-provider.vala"
	_data_->_res_ = _res_;
#line 85 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_do_search_co (_data_);
#line 1787 "contacts-shell-search-provider.c"
}

static gboolean
contacts_search_provider_do_search_co (ContactsSearchProviderDoSearchData* _data_)
{
#line 78 "../src/contacts-shell-search-provider.vala"
	switch (_data_->_state_) {
#line 78 "../src/contacts-shell-search-provider.vala"
		case 0:
#line 1797 "contacts-shell-search-provider.c"
		goto _state_0;
#line 78 "../src/contacts-shell-search-provider.vala"
		case 1:
#line 1801 "contacts-shell-search-provider.c"
		goto _state_1;
		default:
#line 78 "../src/contacts-shell-search-provider.vala"
		g_assert_not_reached ();
#line 1806 "contacts-shell-search-provider.c"
	}
	_state_0:
#line 79 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp0_ = _data_->self->priv->app;
#line 79 "../src/contacts-shell-search-provider.vala"
	g_application_hold ((GApplication*) _data_->_tmp0_);
#line 82 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp1_ = _data_->self->priv->query;
#line 82 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp2_ = _vala_g_strjoinv (" ", _data_->terms, (gint) _data_->terms_length1);
#line 82 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp3_ = _data_->_tmp2_;
#line 82 "../src/contacts-shell-search-provider.vala"
	folks_simple_query_set_query_string (_data_->_tmp1_, _data_->_tmp3_);
#line 82 "../src/contacts-shell-search-provider.vala"
	_g_free0 (_data_->_tmp3_);
#line 83 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp4_ = _data_->self->priv->aggregator;
#line 83 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp5_ = _data_->self->priv->query;
#line 83 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp6_ = folks_search_view_new (_data_->_tmp4_, (FolksQuery*) _data_->_tmp5_);
#line 83 "../src/contacts-shell-search-provider.vala"
	_data_->search_view = _data_->_tmp6_;
#line 1831 "contacts-shell-search-provider.c"
	{
#line 85 "../src/contacts-shell-search-provider.vala"
		_data_->_state_ = 1;
#line 85 "../src/contacts-shell-search-provider.vala"
		folks_search_view_prepare (_data_->search_view, contacts_search_provider_do_search_ready, _data_);
#line 85 "../src/contacts-shell-search-provider.vala"
		return FALSE;
#line 1839 "contacts-shell-search-provider.c"
		_state_1:
#line 85 "../src/contacts-shell-search-provider.vala"
		folks_search_view_prepare_finish (_data_->search_view, _data_->_res_, &_data_->_inner_error0_);
#line 85 "../src/contacts-shell-search-provider.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 1845 "contacts-shell-search-provider.c"
			goto __catch0_g_error;
		}
	}
	goto __finally0;
	__catch0_g_error:
	{
#line 84 "../src/contacts-shell-search-provider.vala"
		_data_->e = _data_->_inner_error0_;
#line 84 "../src/contacts-shell-search-provider.vala"
		_data_->_inner_error0_ = NULL;
#line 87 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp7_ = _data_->e->message;
#line 87 "../src/contacts-shell-search-provider.vala"
		g_error ("contacts-shell-search-provider.vala:87: Couldn't load SearchView: %s", _data_->_tmp7_);
#line 84 "../src/contacts-shell-search-provider.vala"
		_g_error_free0 (_data_->e);
#line 1862 "contacts-shell-search-provider.c"
	}
	__finally0:
#line 84 "../src/contacts-shell-search-provider.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 84 "../src/contacts-shell-search-provider.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 84 "../src/contacts-shell-search-provider.vala"
		_g_object_unref0 (_data_->search_view);
#line 84 "../src/contacts-shell-search-provider.vala"
		g_object_unref (_data_->_async_result);
#line 84 "../src/contacts-shell-search-provider.vala"
		return FALSE;
#line 1875 "contacts-shell-search-provider.c"
	}
#line 89 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp8_ = folks_search_view_get_individuals (_data_->search_view);
#line 89 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp9_ = _data_->_tmp8_;
#line 89 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp10_ = gee_collection_get_size ((GeeCollection*) _data_->_tmp9_);
#line 89 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp11_ = _data_->_tmp10_;
#line 89 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp12_ = g_new0 (gchar*, _data_->_tmp11_ + 1);
#line 89 "../src/contacts-shell-search-provider.vala"
	_data_->results = _data_->_tmp12_;
#line 89 "../src/contacts-shell-search-provider.vala"
	_data_->results_length1 = _data_->_tmp11_;
#line 89 "../src/contacts-shell-search-provider.vala"
	_data_->_results_size_ = _data_->results_length1;
#line 90 "../src/contacts-shell-search-provider.vala"
	_data_->i = 0;
#line 1895 "contacts-shell-search-provider.c"
	{
#line 91 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp13_ = folks_search_view_get_individuals (_data_->search_view);
#line 91 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp14_ = _data_->_tmp13_;
#line 91 "../src/contacts-shell-search-provider.vala"
		_data_->_tmp15_ = gee_iterable_iterator ((GeeIterable*) _data_->_tmp14_);
#line 91 "../src/contacts-shell-search-provider.vala"
		_data_->_individual_it = _data_->_tmp15_;
#line 91 "../src/contacts-shell-search-provider.vala"
		while (TRUE) {
#line 91 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp16_ = _data_->_individual_it;
#line 91 "../src/contacts-shell-search-provider.vala"
			if (!gee_iterator_next (_data_->_tmp16_)) {
#line 91 "../src/contacts-shell-search-provider.vala"
				break;
#line 1913 "contacts-shell-search-provider.c"
			}
#line 91 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp17_ = _data_->_individual_it;
#line 91 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp18_ = gee_iterator_get (_data_->_tmp17_);
#line 91 "../src/contacts-shell-search-provider.vala"
			_data_->individual = (FolksIndividual*) _data_->_tmp18_;
#line 92 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp19_ = _data_->results;
#line 92 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp19__length1 = _data_->results_length1;
#line 92 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp20_ = _data_->individual;
#line 92 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp21_ = folks_individual_get_id (_data_->_tmp20_);
#line 92 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp22_ = _data_->_tmp21_;
#line 92 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp23_ = g_strdup (_data_->_tmp22_);
#line 92 "../src/contacts-shell-search-provider.vala"
			_g_free0 (_data_->_tmp19_[_data_->i]);
#line 92 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp19_[_data_->i] = _data_->_tmp23_;
#line 93 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp24_ = _data_->i;
#line 93 "../src/contacts-shell-search-provider.vala"
			_data_->i = _data_->_tmp24_ + 1;
#line 91 "../src/contacts-shell-search-provider.vala"
			_g_object_unref0 (_data_->individual);
#line 1943 "contacts-shell-search-provider.c"
		}
#line 91 "../src/contacts-shell-search-provider.vala"
		_g_object_unref0 (_data_->_individual_it);
#line 1947 "contacts-shell-search-provider.c"
	}
#line 96 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp25_ = _data_->self->priv->app;
#line 96 "../src/contacts-shell-search-provider.vala"
	g_application_release ((GApplication*) _data_->_tmp25_);
#line 97 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp26_ = _data_->results;
#line 97 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp26__length1 = _data_->results_length1;
#line 97 "../src/contacts-shell-search-provider.vala"
	_data_->result_length1 = _data_->_tmp26__length1;
#line 97 "../src/contacts-shell-search-provider.vala"
	_data_->result = _data_->_tmp26_;
#line 97 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (_data_->search_view);
#line 97 "../src/contacts-shell-search-provider.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 97 "../src/contacts-shell-search-provider.vala"
	if (_data_->_state_ != 0) {
#line 97 "../src/contacts-shell-search-provider.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 97 "../src/contacts-shell-search-provider.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 1971 "contacts-shell-search-provider.c"
		}
	}
#line 97 "../src/contacts-shell-search-provider.vala"
	g_object_unref (_data_->_async_result);
#line 97 "../src/contacts-shell-search-provider.vala"
	return FALSE;
#line 1978 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_GetResultMetas_data_free (gpointer _data)
{
	contacts_search_provider_GetResultMetasData* _data_;
	_data_ = _data;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->result = (_vala_array_free (_data_->result, _data_->result_length1, (GDestroyNotify) g_hash_table_unref), NULL);
#line 22 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (_data_->self);
#line 22 "../src/contacts-shell-search-provider.vala"
	g_slice_free (contacts_search_provider_GetResultMetasData, _data_);
#line 1992 "contacts-shell-search-provider.c"
}

void
contacts_search_provider_GetResultMetas (ContactsSearchProvider* self,
                                         gchar** ids,
                                         gint ids_length1,
                                         GAsyncReadyCallback _callback_,
                                         gpointer _user_data_)
{
	contacts_search_provider_GetResultMetasData* _data_;
	ContactsSearchProvider* _tmp0_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_ = g_slice_new0 (contacts_search_provider_GetResultMetasData);
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 22 "../src/contacts-shell-search-provider.vala"
	g_task_set_task_data (_data_->_async_result, _data_, contacts_search_provider_GetResultMetas_data_free);
#line 22 "../src/contacts-shell-search-provider.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->self = _tmp0_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->ids = ids;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->ids_length1 = ids_length1;
#line 22 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_GetResultMetas_co (_data_);
#line 2020 "contacts-shell-search-provider.c"
}

GHashTable**
contacts_search_provider_GetResultMetas_finish (ContactsSearchProvider* self,
                                                GAsyncResult* _res_,
                                                gint* result_length1,
                                                GError** error)
{
	GHashTable** result;
	contacts_search_provider_GetResultMetasData* _data_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 22 "../src/contacts-shell-search-provider.vala"
	if (NULL == _data_) {
#line 22 "../src/contacts-shell-search-provider.vala"
		return NULL;
#line 2037 "contacts-shell-search-provider.c"
	}
#line 22 "../src/contacts-shell-search-provider.vala"
	result = _data_->result;
#line 22 "../src/contacts-shell-search-provider.vala"
	*result_length1 = _data_->result_length1;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->result = NULL;
#line 22 "../src/contacts-shell-search-provider.vala"
	return result;
#line 2047 "contacts-shell-search-provider.c"
}

static gchar**
_vala_array_dup2 (gchar** self,
                  gint length)
{
	gchar** result;
	gint i;
#line 101 "../src/contacts-shell-search-provider.vala"
	result = g_new0 (gchar*, length + 1);
#line 101 "../src/contacts-shell-search-provider.vala"
	for (i = 0; i < length; i++) {
#line 2060 "contacts-shell-search-provider.c"
		gchar* _tmp0_;
#line 101 "../src/contacts-shell-search-provider.vala"
		_tmp0_ = g_strdup (self[i]);
#line 101 "../src/contacts-shell-search-provider.vala"
		result[i] = _tmp0_;
#line 2066 "contacts-shell-search-provider.c"
	}
#line 101 "../src/contacts-shell-search-provider.vala"
	return result;
#line 2070 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_GetResultMetas_ready (GObject* source_object,
                                               GAsyncResult* _res_,
                                               gpointer _user_data_)
{
	contacts_search_provider_GetResultMetasData* _data_;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_ = _user_data_;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_source_object_ = source_object;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_res_ = _res_;
#line 101 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_GetResultMetas_co (_data_);
#line 2087 "contacts-shell-search-provider.c"
}

static gboolean
contacts_search_provider_GetResultMetas_co (contacts_search_provider_GetResultMetasData* _data_)
{
#line 100 "../src/contacts-shell-search-provider.vala"
	switch (_data_->_state_) {
#line 100 "../src/contacts-shell-search-provider.vala"
		case 0:
#line 2097 "contacts-shell-search-provider.c"
		goto _state_0;
#line 100 "../src/contacts-shell-search-provider.vala"
		case 1:
#line 2101 "contacts-shell-search-provider.c"
		goto _state_1;
		default:
#line 100 "../src/contacts-shell-search-provider.vala"
		g_assert_not_reached ();
#line 2106 "contacts-shell-search-provider.c"
	}
	_state_0:
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp1_ = (_data_->ids != NULL) ? _vala_array_dup2 (_data_->ids, _data_->ids_length1) : ((gpointer) _data_->ids);
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp1__length1 = _data_->ids_length1;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp2_ = 0;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_state_ = 1;
#line 101 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_get_metas (_data_->self, _data_->_tmp1_, (gint) _data_->_tmp1__length1, contacts_search_provider_GetResultMetas_ready, _data_);
#line 101 "../src/contacts-shell-search-provider.vala"
	return FALSE;
#line 2121 "contacts-shell-search-provider.c"
	_state_1:
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp3_ = contacts_search_provider_get_metas_finish (_data_->self, _data_->_res_, &_data_->_tmp2_, &_data_->_inner_error0_);
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp0_ = _data_->_tmp3_;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp0__length1 = _data_->_tmp2_;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->__tmp0__size_ = _data_->_tmp0__length1;
#line 101 "../src/contacts-shell-search-provider.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 101 "../src/contacts-shell-search-provider.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 101 "../src/contacts-shell-search-provider.vala"
		g_object_unref (_data_->_async_result);
#line 101 "../src/contacts-shell-search-provider.vala"
		return FALSE;
#line 2139 "contacts-shell-search-provider.c"
	}
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp4_ = _data_->_tmp0_;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp4__length1 = _data_->_tmp0__length1;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp0_ = NULL;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp0__length1 = 0;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp5_ = _data_->_tmp4_;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp5__length1 = _data_->_tmp4__length1;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->result_length1 = _data_->_tmp5__length1;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->result = _data_->_tmp5_;
#line 101 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp0_ = (_vala_array_free (_data_->_tmp0_, _data_->_tmp0__length1, (GDestroyNotify) g_hash_table_unref), NULL);
#line 101 "../src/contacts-shell-search-provider.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 101 "../src/contacts-shell-search-provider.vala"
	if (_data_->_state_ != 0) {
#line 101 "../src/contacts-shell-search-provider.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 101 "../src/contacts-shell-search-provider.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 2167 "contacts-shell-search-provider.c"
		}
	}
#line 101 "../src/contacts-shell-search-provider.vala"
	g_object_unref (_data_->_async_result);
#line 101 "../src/contacts-shell-search-provider.vala"
	return FALSE;
#line 2174 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_get_metas_data_free (gpointer _data)
{
	ContactsSearchProviderGetMetasData* _data_;
	_data_ = _data;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->ids = (_vala_array_free (_data_->ids, _data_->ids_length1, (GDestroyNotify) g_free), NULL);
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->result = (_vala_array_free (_data_->result, _data_->result_length1, (GDestroyNotify) g_hash_table_unref), NULL);
#line 22 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (_data_->self);
#line 22 "../src/contacts-shell-search-provider.vala"
	g_slice_free (ContactsSearchProviderGetMetasData, _data_);
#line 2190 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_get_metas (ContactsSearchProvider* self,
                                    gchar** ids,
                                    gint ids_length1,
                                    GAsyncReadyCallback _callback_,
                                    gpointer _user_data_)
{
	ContactsSearchProviderGetMetasData* _data_;
	ContactsSearchProvider* _tmp0_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_ = g_slice_new0 (ContactsSearchProviderGetMetasData);
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 22 "../src/contacts-shell-search-provider.vala"
	g_task_set_task_data (_data_->_async_result, _data_, contacts_search_provider_get_metas_data_free);
#line 22 "../src/contacts-shell-search-provider.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->self = _tmp0_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->ids = (_vala_array_free (_data_->ids, _data_->ids_length1, (GDestroyNotify) g_free), NULL);
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->ids = ids;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->ids_length1 = ids_length1;
#line 22 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_get_metas_co (_data_);
#line 2220 "contacts-shell-search-provider.c"
}

static GHashTable**
contacts_search_provider_get_metas_finish (ContactsSearchProvider* self,
                                           GAsyncResult* _res_,
                                           gint* result_length1,
                                           GError** error)
{
	GHashTable** result;
	ContactsSearchProviderGetMetasData* _data_;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 22 "../src/contacts-shell-search-provider.vala"
	if (NULL == _data_) {
#line 22 "../src/contacts-shell-search-provider.vala"
		return NULL;
#line 2237 "contacts-shell-search-provider.c"
	}
#line 22 "../src/contacts-shell-search-provider.vala"
	result = _data_->result;
#line 22 "../src/contacts-shell-search-provider.vala"
	*result_length1 = _data_->result_length1;
#line 22 "../src/contacts-shell-search-provider.vala"
	_data_->result = NULL;
#line 22 "../src/contacts-shell-search-provider.vala"
	return result;
#line 2247 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_get_metas_ready (GObject* source_object,
                                          GAsyncResult* _res_,
                                          gpointer _user_data_)
{
	ContactsSearchProviderGetMetasData* _data_;
#line 111 "../src/contacts-shell-search-provider.vala"
	_data_ = _user_data_;
#line 111 "../src/contacts-shell-search-provider.vala"
	_data_->_source_object_ = source_object;
#line 111 "../src/contacts-shell-search-provider.vala"
	_data_->_res_ = _res_;
#line 111 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_get_metas_co (_data_);
#line 2264 "contacts-shell-search-provider.c"
}

static void
_g_free0_ (gpointer var)
{
#line 118 "../src/contacts-shell-search-provider.vala"
	var = (g_free (var), NULL);
#line 2272 "contacts-shell-search-provider.c"
}

static void
_g_variant_unref0_ (gpointer var)
{
#line 118 "../src/contacts-shell-search-provider.vala"
	(var == NULL) ? NULL : (var = (g_variant_unref (var), NULL));
#line 2280 "contacts-shell-search-provider.c"
}

static gpointer
_g_variant_ref0 (gpointer self)
{
#line 121 "../src/contacts-shell-search-provider.vala"
	return self ? g_variant_ref (self) : NULL;
#line 2288 "contacts-shell-search-provider.c"
}

static GVariant*
_variant_new1 (const gchar* value)
{
#line 137 "../src/contacts-shell-search-provider.vala"
	return g_variant_ref_sink (g_variant_new_string (value));
#line 2296 "contacts-shell-search-provider.c"
}

static gboolean
contacts_search_provider_get_metas_co (ContactsSearchProviderGetMetasData* _data_)
{
#line 104 "../src/contacts-shell-search-provider.vala"
	switch (_data_->_state_) {
#line 104 "../src/contacts-shell-search-provider.vala"
		case 0:
#line 2306 "contacts-shell-search-provider.c"
		goto _state_0;
#line 104 "../src/contacts-shell-search-provider.vala"
		case 1:
#line 2310 "contacts-shell-search-provider.c"
		goto _state_1;
		default:
#line 104 "../src/contacts-shell-search-provider.vala"
		g_assert_not_reached ();
#line 2315 "contacts-shell-search-provider.c"
	}
	_state_0:
#line 105 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp0_ = _data_->self->priv->app;
#line 105 "../src/contacts-shell-search-provider.vala"
	g_application_hold ((GApplication*) _data_->_tmp0_);
#line 107 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp1_ = gee_array_list_new (G_TYPE_HASH_TABLE, (GBoxedCopyFunc) g_hash_table_ref, (GDestroyNotify) g_hash_table_unref, NULL, NULL, NULL);
#line 107 "../src/contacts-shell-search-provider.vala"
	_data_->results = _data_->_tmp1_;
#line 2326 "contacts-shell-search-provider.c"
	{
#line 108 "../src/contacts-shell-search-provider.vala"
		_data_->id_collection_length1 = 0;
#line 108 "../src/contacts-shell-search-provider.vala"
		_data_->_id_collection_size_ = 0;
#line 108 "../src/contacts-shell-search-provider.vala"
		_data_->id_collection = _data_->ids;
#line 108 "../src/contacts-shell-search-provider.vala"
		_data_->id_collection_length1 = _data_->ids_length1;
#line 108 "../src/contacts-shell-search-provider.vala"
		for (_data_->id_it = 0; _data_->id_it < _data_->id_collection_length1; _data_->id_it = _data_->id_it + 1) {
#line 108 "../src/contacts-shell-search-provider.vala"
			_data_->_tmp2_ = g_strdup (_data_->id_collection[_data_->id_it]);
#line 108 "../src/contacts-shell-search-provider.vala"
			_data_->id = _data_->_tmp2_;
#line 2342 "contacts-shell-search-provider.c"
			{
#line 109 "../src/contacts-shell-search-provider.vala"
				_data_->indiv = NULL;
#line 2346 "contacts-shell-search-provider.c"
				{
#line 111 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp4_ = _data_->self->priv->aggregator;
#line 111 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp5_ = _data_->id;
#line 111 "../src/contacts-shell-search-provider.vala"
					_data_->_state_ = 1;
#line 111 "../src/contacts-shell-search-provider.vala"
					folks_individual_aggregator_look_up_individual (_data_->_tmp4_, _data_->_tmp5_, contacts_search_provider_get_metas_ready, _data_);
#line 111 "../src/contacts-shell-search-provider.vala"
					return FALSE;
#line 2358 "contacts-shell-search-provider.c"
					_state_1:
#line 111 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp6_ = folks_individual_aggregator_look_up_individual_finish (_data_->_tmp4_, _data_->_res_, &_data_->_inner_error0_);
#line 111 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp3_ = _data_->_tmp6_;
#line 111 "../src/contacts-shell-search-provider.vala"
					if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 2366 "contacts-shell-search-provider.c"
						goto __catch1_g_error;
					}
#line 111 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp7_ = _data_->_tmp3_;
#line 111 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp3_ = NULL;
#line 111 "../src/contacts-shell-search-provider.vala"
					_g_object_unref0 (_data_->indiv);
#line 111 "../src/contacts-shell-search-provider.vala"
					_data_->indiv = _data_->_tmp7_;
#line 110 "../src/contacts-shell-search-provider.vala"
					_g_object_unref0 (_data_->_tmp3_);
#line 2379 "contacts-shell-search-provider.c"
				}
				goto __finally1;
				__catch1_g_error:
				{
#line 110 "../src/contacts-shell-search-provider.vala"
					_data_->e = _data_->_inner_error0_;
#line 110 "../src/contacts-shell-search-provider.vala"
					_data_->_inner_error0_ = NULL;
#line 113 "../src/contacts-shell-search-provider.vala"
					_g_error_free0 (_data_->e);
#line 113 "../src/contacts-shell-search-provider.vala"
					_g_object_unref0 (_data_->indiv);
#line 113 "../src/contacts-shell-search-provider.vala"
					_g_free0 (_data_->id);
#line 113 "../src/contacts-shell-search-provider.vala"
					continue;
#line 2396 "contacts-shell-search-provider.c"
				}
				__finally1:
#line 110 "../src/contacts-shell-search-provider.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 110 "../src/contacts-shell-search-provider.vala"
					g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 110 "../src/contacts-shell-search-provider.vala"
					_g_object_unref0 (_data_->indiv);
#line 110 "../src/contacts-shell-search-provider.vala"
					_g_free0 (_data_->id);
#line 110 "../src/contacts-shell-search-provider.vala"
					_g_object_unref0 (_data_->results);
#line 110 "../src/contacts-shell-search-provider.vala"
					_data_->ids = (_vala_array_free (_data_->ids, _data_->ids_length1, (GDestroyNotify) g_free), NULL);
#line 110 "../src/contacts-shell-search-provider.vala"
					g_object_unref (_data_->_async_result);
#line 110 "../src/contacts-shell-search-provider.vala"
					return FALSE;
#line 2415 "contacts-shell-search-provider.c"
				}
#line 115 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp8_ = _data_->indiv;
#line 115 "../src/contacts-shell-search-provider.vala"
				if (_data_->_tmp8_ == NULL) {
#line 116 "../src/contacts-shell-search-provider.vala"
					_g_object_unref0 (_data_->indiv);
#line 116 "../src/contacts-shell-search-provider.vala"
					_g_free0 (_data_->id);
#line 116 "../src/contacts-shell-search-provider.vala"
					continue;
#line 2427 "contacts-shell-search-provider.c"
				}
#line 118 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp9_ = g_str_hash;
#line 118 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp10_ = g_str_equal;
#line 118 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp11_ = g_hash_table_new_full (_data_->_tmp9_, _data_->_tmp10_, _g_free0_, _g_variant_unref0_);
#line 118 "../src/contacts-shell-search-provider.vala"
				_data_->meta = _data_->_tmp11_;
#line 119 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp12_ = _data_->meta;
#line 119 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp13_ = g_strdup ("id");
#line 119 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp14_ = _data_->id;
#line 119 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp15_ = g_variant_new_string (_data_->_tmp14_);
#line 119 "../src/contacts-shell-search-provider.vala"
				g_variant_ref_sink (_data_->_tmp15_);
#line 119 "../src/contacts-shell-search-provider.vala"
				g_hash_table_insert (_data_->_tmp12_, _data_->_tmp13_, _data_->_tmp15_);
#line 120 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp16_ = _data_->meta;
#line 120 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp17_ = g_strdup ("name");
#line 120 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp18_ = _data_->indiv;
#line 120 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp19_ = folks_individual_get_display_name (_data_->_tmp18_);
#line 120 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp20_ = _data_->_tmp19_;
#line 120 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp21_ = g_variant_new_string (_data_->_tmp20_);
#line 120 "../src/contacts-shell-search-provider.vala"
				g_variant_ref_sink (_data_->_tmp21_);
#line 120 "../src/contacts-shell-search-provider.vala"
				g_hash_table_insert (_data_->_tmp16_, _data_->_tmp17_, _data_->_tmp21_);
#line 121 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp23_ = _data_->indiv;
#line 121 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp24_ = folks_avatar_details_get_avatar ((FolksAvatarDetails*) _data_->_tmp23_);
#line 121 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp25_ = _data_->_tmp24_;
#line 121 "../src/contacts-shell-search-provider.vala"
				if (_data_->_tmp25_ != NULL) {
#line 121 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp26_ = _data_->indiv;
#line 121 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp27_ = folks_avatar_details_get_avatar ((FolksAvatarDetails*) _data_->_tmp26_);
#line 121 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp28_ = _data_->_tmp27_;
#line 121 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp29_ = g_icon_serialize ((GIcon*) _data_->_tmp28_);
#line 121 "../src/contacts-shell-search-provider.vala"
					_g_variant_unref0 (_data_->_tmp22_);
#line 121 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp22_ = _data_->_tmp29_;
#line 2485 "contacts-shell-search-provider.c"
				} else {
#line 121 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp30_ = _data_->self->priv->serialized_fallback_icon;
#line 121 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp31_ = _g_variant_ref0 (_data_->_tmp30_);
#line 121 "../src/contacts-shell-search-provider.vala"
					_g_variant_unref0 (_data_->_tmp22_);
#line 121 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp22_ = _data_->_tmp31_;
#line 2495 "contacts-shell-search-provider.c"
				}
#line 121 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp32_ = _data_->meta;
#line 121 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp33_ = g_strdup ("icon");
#line 121 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp34_ = _g_variant_ref0 (_data_->_tmp22_);
#line 121 "../src/contacts-shell-search-provider.vala"
				g_hash_table_insert (_data_->_tmp32_, _data_->_tmp33_, _data_->_tmp34_);
#line 124 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp35_ = g_string_new ("");
#line 124 "../src/contacts-shell-search-provider.vala"
				_data_->description = _data_->_tmp35_;
#line 126 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp36_ = _data_->indiv;
#line 126 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp37_ = folks_email_details_get_email_addresses ((FolksEmailDetails*) _data_->_tmp36_);
#line 126 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp38_ = _data_->_tmp37_;
#line 126 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp39_ = contacts_utils_get_first (FOLKS_TYPE_EMAIL_FIELD_DETAILS, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, (GeeCollection*) _data_->_tmp38_);
#line 126 "../src/contacts-shell-search-provider.vala"
				_data_->email = (FolksEmailFieldDetails*) _data_->_tmp39_;
#line 127 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp42_ = _data_->email;
#line 127 "../src/contacts-shell-search-provider.vala"
				if (_data_->_tmp42_ != NULL) {
#line 127 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp43_ = _data_->email;
#line 127 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp44_ = folks_abstract_field_details_get_value ((FolksAbstractFieldDetails*) _data_->_tmp43_);
#line 127 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp45_ = _data_->_tmp44_;
#line 127 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp41_ = ((const gchar*) _data_->_tmp45_) != NULL;
#line 2531 "contacts-shell-search-provider.c"
				} else {
#line 127 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp41_ = FALSE;
#line 2535 "contacts-shell-search-provider.c"
				}
#line 127 "../src/contacts-shell-search-provider.vala"
				if (_data_->_tmp41_) {
#line 127 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp46_ = _data_->email;
#line 127 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp47_ = folks_abstract_field_details_get_value ((FolksAbstractFieldDetails*) _data_->_tmp46_);
#line 127 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp48_ = _data_->_tmp47_;
#line 127 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp40_ = g_strcmp0 ((const gchar*) _data_->_tmp48_, "") != 0;
#line 2547 "contacts-shell-search-provider.c"
				} else {
#line 127 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp40_ = FALSE;
#line 2551 "contacts-shell-search-provider.c"
				}
#line 127 "../src/contacts-shell-search-provider.vala"
				if (_data_->_tmp40_) {
#line 128 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp49_ = _data_->description;
#line 128 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp50_ = _data_->email;
#line 128 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp51_ = folks_abstract_field_details_get_value ((FolksAbstractFieldDetails*) _data_->_tmp50_);
#line 128 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp52_ = _data_->_tmp51_;
#line 128 "../src/contacts-shell-search-provider.vala"
					g_string_append (_data_->_tmp49_, (const gchar*) _data_->_tmp52_);
#line 2565 "contacts-shell-search-provider.c"
				}
#line 130 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp53_ = _data_->indiv;
#line 130 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp54_ = folks_phone_details_get_phone_numbers ((FolksPhoneDetails*) _data_->_tmp53_);
#line 130 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp55_ = _data_->_tmp54_;
#line 130 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp56_ = contacts_utils_get_first (FOLKS_TYPE_PHONE_FIELD_DETAILS, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, (GeeCollection*) _data_->_tmp55_);
#line 130 "../src/contacts-shell-search-provider.vala"
				_data_->phone = (FolksPhoneFieldDetails*) _data_->_tmp56_;
#line 131 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp59_ = _data_->phone;
#line 131 "../src/contacts-shell-search-provider.vala"
				if (_data_->_tmp59_ != NULL) {
#line 131 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp60_ = _data_->phone;
#line 131 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp61_ = folks_abstract_field_details_get_value ((FolksAbstractFieldDetails*) _data_->_tmp60_);
#line 131 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp62_ = _data_->_tmp61_;
#line 131 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp58_ = ((const gchar*) _data_->_tmp62_) != NULL;
#line 2589 "contacts-shell-search-provider.c"
				} else {
#line 131 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp58_ = FALSE;
#line 2593 "contacts-shell-search-provider.c"
				}
#line 131 "../src/contacts-shell-search-provider.vala"
				if (_data_->_tmp58_) {
#line 131 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp63_ = _data_->phone;
#line 131 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp64_ = folks_abstract_field_details_get_value ((FolksAbstractFieldDetails*) _data_->_tmp63_);
#line 131 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp65_ = _data_->_tmp64_;
#line 131 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp57_ = g_strcmp0 ((const gchar*) _data_->_tmp65_, "") != 0;
#line 2605 "contacts-shell-search-provider.c"
				} else {
#line 131 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp57_ = FALSE;
#line 2609 "contacts-shell-search-provider.c"
				}
#line 131 "../src/contacts-shell-search-provider.vala"
				if (_data_->_tmp57_) {
#line 132 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp66_ = _data_->description;
#line 132 "../src/contacts-shell-search-provider.vala"
					if (_data_->_tmp66_->len > ((gssize) 0)) {
#line 133 "../src/contacts-shell-search-provider.vala"
						_data_->_tmp67_ = _data_->description;
#line 133 "../src/contacts-shell-search-provider.vala"
						g_string_append (_data_->_tmp67_, " / ");
#line 2621 "contacts-shell-search-provider.c"
					}
#line 134 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp68_ = _data_->description;
#line 134 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp69_ = _data_->phone;
#line 134 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp70_ = folks_abstract_field_details_get_value ((FolksAbstractFieldDetails*) _data_->_tmp69_);
#line 134 "../src/contacts-shell-search-provider.vala"
					_data_->_tmp71_ = _data_->_tmp70_;
#line 134 "../src/contacts-shell-search-provider.vala"
					g_string_append (_data_->_tmp68_, (const gchar*) _data_->_tmp71_);
#line 2633 "contacts-shell-search-provider.c"
				}
#line 137 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp72_ = _data_->meta;
#line 137 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp73_ = g_strdup ("description");
#line 137 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp74_ = _data_->description;
#line 137 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp75_ = _data_->_tmp74_->str;
#line 137 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp76_ = _variant_new1 (_data_->_tmp75_);
#line 137 "../src/contacts-shell-search-provider.vala"
				g_hash_table_insert (_data_->_tmp72_, _data_->_tmp73_, _data_->_tmp76_);
#line 139 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp77_ = _data_->results;
#line 139 "../src/contacts-shell-search-provider.vala"
				_data_->_tmp78_ = _data_->meta;
#line 139 "../src/contacts-shell-search-provider.vala"
				gee_abstract_collection_add ((GeeAbstractCollection*) _data_->_tmp77_, _data_->_tmp78_);
#line 108 "../src/contacts-shell-search-provider.vala"
				_g_object_unref0 (_data_->phone);
#line 108 "../src/contacts-shell-search-provider.vala"
				_g_object_unref0 (_data_->email);
#line 108 "../src/contacts-shell-search-provider.vala"
				_g_string_free0 (_data_->description);
#line 108 "../src/contacts-shell-search-provider.vala"
				_g_variant_unref0 (_data_->_tmp22_);
#line 108 "../src/contacts-shell-search-provider.vala"
				_g_hash_table_unref0 (_data_->meta);
#line 108 "../src/contacts-shell-search-provider.vala"
				_g_object_unref0 (_data_->indiv);
#line 108 "../src/contacts-shell-search-provider.vala"
				_g_free0 (_data_->id);
#line 2667 "contacts-shell-search-provider.c"
			}
		}
	}
#line 141 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp79_ = _data_->self->priv->app;
#line 141 "../src/contacts-shell-search-provider.vala"
	g_application_release ((GApplication*) _data_->_tmp79_);
#line 142 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp80_ = _data_->results;
#line 142 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp81_ = 0;
#line 142 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp82_ = gee_collection_to_array ((GeeCollection*) _data_->_tmp80_, &_data_->_tmp81_);
#line 142 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp83_ = _data_->_tmp82_;
#line 142 "../src/contacts-shell-search-provider.vala"
	_data_->_tmp83__length1 = _data_->_tmp81_;
#line 142 "../src/contacts-shell-search-provider.vala"
	_data_->result_length1 = _data_->_tmp83__length1;
#line 142 "../src/contacts-shell-search-provider.vala"
	_data_->result = _data_->_tmp83_;
#line 142 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (_data_->results);
#line 142 "../src/contacts-shell-search-provider.vala"
	_data_->ids = (_vala_array_free (_data_->ids, _data_->ids_length1, (GDestroyNotify) g_free), NULL);
#line 142 "../src/contacts-shell-search-provider.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 142 "../src/contacts-shell-search-provider.vala"
	if (_data_->_state_ != 0) {
#line 142 "../src/contacts-shell-search-provider.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 142 "../src/contacts-shell-search-provider.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 2701 "contacts-shell-search-provider.c"
		}
	}
#line 142 "../src/contacts-shell-search-provider.vala"
	g_object_unref (_data_->_async_result);
#line 142 "../src/contacts-shell-search-provider.vala"
	return FALSE;
#line 2708 "contacts-shell-search-provider.c"
}

void
contacts_search_provider_ActivateResult (ContactsSearchProvider* self,
                                         const gchar* id,
                                         gchar** terms,
                                         gint terms_length1,
                                         guint32 timestamp,
                                         GError** error)
{
	ContactsSearchProviderApp* _tmp0_;
	ContactsSearchProviderApp* _tmp6_;
	GError* _inner_error0_ = NULL;
#line 145 "../src/contacts-shell-search-provider.vala"
	g_return_if_fail (self != NULL);
#line 145 "../src/contacts-shell-search-provider.vala"
	g_return_if_fail (id != NULL);
#line 146 "../src/contacts-shell-search-provider.vala"
	_tmp0_ = self->priv->app;
#line 146 "../src/contacts-shell-search-provider.vala"
	g_application_hold ((GApplication*) _tmp0_);
#line 2730 "contacts-shell-search-provider.c"
	{
		gchar* _tmp1_;
		gchar* _tmp2_;
#line 149 "../src/contacts-shell-search-provider.vala"
		_tmp1_ = g_strconcat ("gnome-contacts -i ", id, NULL);
#line 149 "../src/contacts-shell-search-provider.vala"
		_tmp2_ = _tmp1_;
#line 149 "../src/contacts-shell-search-provider.vala"
		g_spawn_command_line_async (_tmp2_, &_inner_error0_);
#line 149 "../src/contacts-shell-search-provider.vala"
		_g_free0 (_tmp2_);
#line 149 "../src/contacts-shell-search-provider.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 149 "../src/contacts-shell-search-provider.vala"
			if (_inner_error0_->domain == G_SPAWN_ERROR) {
#line 2746 "contacts-shell-search-provider.c"
				goto __catch2_g_spawn_error;
			}
#line 149 "../src/contacts-shell-search-provider.vala"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 149 "../src/contacts-shell-search-provider.vala"
			g_clear_error (&_inner_error0_);
#line 149 "../src/contacts-shell-search-provider.vala"
			return;
#line 2755 "contacts-shell-search-provider.c"
		}
	}
	goto __finally2;
	__catch2_g_spawn_error:
	{
		GError* e = NULL;
		FILE* _tmp3_;
		GError* _tmp4_;
		const gchar* _tmp5_;
#line 148 "../src/contacts-shell-search-provider.vala"
		e = _inner_error0_;
#line 148 "../src/contacts-shell-search-provider.vala"
		_inner_error0_ = NULL;
#line 151 "../src/contacts-shell-search-provider.vala"
		_tmp3_ = stderr;
#line 151 "../src/contacts-shell-search-provider.vala"
		_tmp4_ = e;
#line 151 "../src/contacts-shell-search-provider.vala"
		_tmp5_ = _tmp4_->message;
#line 151 "../src/contacts-shell-search-provider.vala"
		fprintf (_tmp3_, "Failed to launch contact with id '%s': %s\n.", id, _tmp5_);
#line 148 "../src/contacts-shell-search-provider.vala"
		_g_error_free0 (e);
#line 2779 "contacts-shell-search-provider.c"
	}
	__finally2:
#line 148 "../src/contacts-shell-search-provider.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 148 "../src/contacts-shell-search-provider.vala"
		g_propagate_error (error, _inner_error0_);
#line 148 "../src/contacts-shell-search-provider.vala"
		return;
#line 2788 "contacts-shell-search-provider.c"
	}
#line 153 "../src/contacts-shell-search-provider.vala"
	_tmp6_ = self->priv->app;
#line 153 "../src/contacts-shell-search-provider.vala"
	g_application_release ((GApplication*) _tmp6_);
#line 2794 "contacts-shell-search-provider.c"
}

static void
_vala_array_add2 (gchar** * array,
                  gint* length,
                  gint* size,
                  gchar* value)
{
#line 163 "../src/contacts-shell-search-provider.vala"
	if ((*length) == (*size)) {
#line 163 "../src/contacts-shell-search-provider.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 163 "../src/contacts-shell-search-provider.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 2809 "contacts-shell-search-provider.c"
	}
#line 163 "../src/contacts-shell-search-provider.vala"
	(*array)[(*length)++] = value;
#line 163 "../src/contacts-shell-search-provider.vala"
	(*array)[*length] = NULL;
#line 2815 "contacts-shell-search-provider.c"
}

void
contacts_search_provider_LaunchSearch (ContactsSearchProvider* self,
                                       gchar** terms,
                                       gint terms_length1,
                                       guint32 timestamp,
                                       GError** error)
{
	ContactsSearchProviderApp* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	ContactsSearchProviderApp* _tmp10_;
	GError* _inner_error0_ = NULL;
#line 156 "../src/contacts-shell-search-provider.vala"
	g_return_if_fail (self != NULL);
#line 157 "../src/contacts-shell-search-provider.vala"
	_tmp0_ = self->priv->app;
#line 157 "../src/contacts-shell-search-provider.vala"
	g_application_hold ((GApplication*) _tmp0_);
#line 159 "../src/contacts-shell-search-provider.vala"
	_tmp1_ = _vala_g_strjoinv (", ", terms, (gint) terms_length1);
#line 159 "../src/contacts-shell-search-provider.vala"
	_tmp2_ = _tmp1_;
#line 159 "../src/contacts-shell-search-provider.vala"
	g_debug ("contacts-shell-search-provider.vala:159: LaunchSearch (%s)", _tmp2_);
#line 159 "../src/contacts-shell-search-provider.vala"
	_g_free0 (_tmp2_);
#line 2844 "contacts-shell-search-provider.c"
	{
		gchar** args = NULL;
		gchar* _tmp3_;
		gchar* _tmp4_;
		gchar** _tmp5_;
		gint args_length1;
		gint _args_size_;
		gchar** _tmp6_;
		gint _tmp6__length1;
		gchar* _tmp7_;
		gchar** _tmp8_;
		gint _tmp8__length1;
#line 162 "../src/contacts-shell-search-provider.vala"
		_tmp3_ = g_strdup ("gnome-contacts");
#line 162 "../src/contacts-shell-search-provider.vala"
		_tmp4_ = g_strdup ("--search");
#line 162 "../src/contacts-shell-search-provider.vala"
		_tmp5_ = g_new0 (gchar*, 2 + 1);
#line 162 "../src/contacts-shell-search-provider.vala"
		_tmp5_[0] = _tmp3_;
#line 162 "../src/contacts-shell-search-provider.vala"
		_tmp5_[1] = _tmp4_;
#line 162 "../src/contacts-shell-search-provider.vala"
		args = _tmp5_;
#line 162 "../src/contacts-shell-search-provider.vala"
		args_length1 = 2;
#line 162 "../src/contacts-shell-search-provider.vala"
		_args_size_ = args_length1;
#line 163 "../src/contacts-shell-search-provider.vala"
		_tmp6_ = args;
#line 163 "../src/contacts-shell-search-provider.vala"
		_tmp6__length1 = args_length1;
#line 163 "../src/contacts-shell-search-provider.vala"
		_tmp7_ = _vala_g_strjoinv (" ", terms, (gint) terms_length1);
#line 163 "../src/contacts-shell-search-provider.vala"
		_vala_array_add2 (&args, &args_length1, &_args_size_, _tmp7_);
#line 164 "../src/contacts-shell-search-provider.vala"
		_tmp8_ = args;
#line 164 "../src/contacts-shell-search-provider.vala"
		_tmp8__length1 = args_length1;
#line 164 "../src/contacts-shell-search-provider.vala"
		g_spawn_async (NULL, _tmp8_, NULL, G_SPAWN_SEARCH_PATH, NULL, NULL, NULL, &_inner_error0_);
#line 164 "../src/contacts-shell-search-provider.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 164 "../src/contacts-shell-search-provider.vala"
			args = (_vala_array_free (args, args_length1, (GDestroyNotify) g_free), NULL);
#line 164 "../src/contacts-shell-search-provider.vala"
			if (_inner_error0_->domain == G_SPAWN_ERROR) {
#line 2893 "contacts-shell-search-provider.c"
				goto __catch3_g_spawn_error;
			}
#line 164 "../src/contacts-shell-search-provider.vala"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 164 "../src/contacts-shell-search-provider.vala"
			g_clear_error (&_inner_error0_);
#line 164 "../src/contacts-shell-search-provider.vala"
			return;
#line 2902 "contacts-shell-search-provider.c"
		}
#line 161 "../src/contacts-shell-search-provider.vala"
		args = (_vala_array_free (args, args_length1, (GDestroyNotify) g_free), NULL);
#line 2906 "contacts-shell-search-provider.c"
	}
	goto __finally3;
	__catch3_g_spawn_error:
	{
		GError* _error_ = NULL;
		FILE* _tmp9_;
#line 161 "../src/contacts-shell-search-provider.vala"
		_error_ = _inner_error0_;
#line 161 "../src/contacts-shell-search-provider.vala"
		_inner_error0_ = NULL;
#line 166 "../src/contacts-shell-search-provider.vala"
		_tmp9_ = stderr;
#line 166 "../src/contacts-shell-search-provider.vala"
		fprintf (_tmp9_, "Failed to launch Contacts for search\n");
#line 161 "../src/contacts-shell-search-provider.vala"
		_g_error_free0 (_error_);
#line 2923 "contacts-shell-search-provider.c"
	}
	__finally3:
#line 161 "../src/contacts-shell-search-provider.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 161 "../src/contacts-shell-search-provider.vala"
		g_propagate_error (error, _inner_error0_);
#line 161 "../src/contacts-shell-search-provider.vala"
		return;
#line 2932 "contacts-shell-search-provider.c"
	}
#line 169 "../src/contacts-shell-search-provider.vala"
	_tmp10_ = self->priv->app;
#line 169 "../src/contacts-shell-search-provider.vala"
	g_application_release ((GApplication*) _tmp10_);
#line 2938 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_class_init (ContactsSearchProviderClass * klass,
                                     gpointer klass_data)
{
#line 22 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_parent_class = g_type_class_peek_parent (klass);
#line 22 "../src/contacts-shell-search-provider.vala"
	g_type_class_adjust_private_offset (klass, &ContactsSearchProvider_private_offset);
#line 22 "../src/contacts-shell-search-provider.vala"
	G_OBJECT_CLASS (klass)->finalize = contacts_search_provider_finalize;
#line 2951 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_instance_init (ContactsSearchProvider * self,
                                        gpointer klass)
{
#line 22 "../src/contacts-shell-search-provider.vala"
	self->priv = contacts_search_provider_get_instance_private (self);
#line 2960 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_finalize (GObject * obj)
{
	ContactsSearchProvider * self;
#line 22 "../src/contacts-shell-search-provider.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, CONTACTS_TYPE_SEARCH_PROVIDER, ContactsSearchProvider);
#line 23 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (self->priv->app);
#line 24 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (self->priv->aggregator);
#line 25 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (self->priv->query);
#line 26 "../src/contacts-shell-search-provider.vala"
	_g_variant_unref0 (self->priv->serialized_fallback_icon);
#line 22 "../src/contacts-shell-search-provider.vala"
	G_OBJECT_CLASS (contacts_search_provider_parent_class)->finalize (obj);
#line 2979 "contacts-shell-search-provider.c"
}

static GType
contacts_search_provider_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (ContactsSearchProviderClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) contacts_search_provider_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ContactsSearchProvider), 0, (GInstanceInitFunc) contacts_search_provider_instance_init, NULL };
	GType contacts_search_provider_type_id;
	contacts_search_provider_type_id = g_type_register_static (G_TYPE_OBJECT, "ContactsSearchProvider", &g_define_type_info, 0);
	g_type_set_qdata (contacts_search_provider_type_id, g_quark_from_static_string ("vala-dbus-register-object"), (void*) contacts_search_provider_register_object);
	ContactsSearchProvider_private_offset = g_type_add_instance_private (contacts_search_provider_type_id, sizeof (ContactsSearchProviderPrivate));
	return contacts_search_provider_type_id;
}

GType
contacts_search_provider_get_type (void)
{
	static volatile gsize contacts_search_provider_type_id__volatile = 0;
	if (g_once_init_enter (&contacts_search_provider_type_id__volatile)) {
		GType contacts_search_provider_type_id;
		contacts_search_provider_type_id = contacts_search_provider_get_type_once ();
		g_once_init_leave (&contacts_search_provider_type_id__volatile, contacts_search_provider_type_id);
	}
	return contacts_search_provider_type_id__volatile;
}

static void
_dbus_contacts_search_provider_GetInitialResultSet (ContactsSearchProvider* self,
                                                    GVariant* _parameters_,
                                                    GDBusMethodInvocation* invocation)
{
	GVariantIter _arguments_iter;
	contacts_search_provider_GetInitialResultSetReadyData* _ready_data;
	GVariant* _tmp0_;
	gchar** _tmp1_;
	gint _tmp1__length;
	gint _tmp1__size;
	gint _tmp1__length1;
	GVariantIter _tmp2_;
	GVariant* _tmp3_;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	_ready_data = g_slice_new0 (contacts_search_provider_GetInitialResultSetReadyData);
	_ready_data->_invocation_ = invocation;
	_tmp0_ = g_variant_iter_next_value (&_arguments_iter);
	_tmp1_ = g_new (gchar*, 5);
	_tmp1__length = 0;
	_tmp1__size = 4;
	_tmp1__length1 = 0;
	g_variant_iter_init (&_tmp2_, _tmp0_);
	for (; (_tmp3_ = g_variant_iter_next_value (&_tmp2_)) != NULL; _tmp1__length1++) {
		if (_tmp1__size == _tmp1__length) {
			_tmp1__size = 2 * _tmp1__size;
			_tmp1_ = g_renew (gchar*, _tmp1_, _tmp1__size + 1);
		}
		_tmp1_[_tmp1__length++] = g_variant_dup_string (_tmp3_, NULL);
		g_variant_unref (_tmp3_);
	}
	_ready_data->terms_length1 = _tmp1__length1;
	_tmp1_[_tmp1__length] = NULL;
	_ready_data->terms = _tmp1_;
	g_variant_unref (_tmp0_);
	contacts_search_provider_GetInitialResultSet (self, _ready_data->terms, _ready_data->terms_length1, (GAsyncReadyCallback) _dbus_contacts_search_provider_GetInitialResultSet_ready, _ready_data);
}

static void
_dbus_contacts_search_provider_GetInitialResultSet_ready (GObject * source_object,
                                                          GAsyncResult * _res_,
                                                          gpointer _user_data_)
{
	contacts_search_provider_GetInitialResultSetReadyData* _ready_data;
	GDBusMethodInvocation* invocation;
	GError* error = NULL;
	GDBusMessage* _reply_message = NULL;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	gchar** result;
	gint result_length1 = 0;
	gchar** _tmp4_;
	GVariantBuilder _tmp5_;
	gint _tmp6_;
	_ready_data = _user_data_;
	invocation = _ready_data->_invocation_;
	result = contacts_search_provider_GetInitialResultSet_finish ((ContactsSearchProvider*) source_object, _res_, &result_length1, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		g_error_free (error);
		goto _error;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	_tmp4_ = result;
	g_variant_builder_init (&_tmp5_, G_VARIANT_TYPE ("as"));
	for (_tmp6_ = 0; _tmp6_ < result_length1; _tmp6_++) {
		g_variant_builder_add_value (&_tmp5_, g_variant_new_string (*_tmp4_));
		_tmp4_++;
	}
	g_variant_builder_add_value (&_reply_builder, g_variant_builder_end (&_tmp5_));
	result = (_vala_array_free (result, result_length1, (GDestroyNotify) g_free), NULL);
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
	_error:
	_ready_data->terms = (_vala_array_free (_ready_data->terms, _ready_data->terms_length1, (GDestroyNotify) g_free), NULL);
	g_slice_free (contacts_search_provider_GetInitialResultSetReadyData, _ready_data);
}

static void
_dbus_contacts_search_provider_GetSubsearchResultSet (ContactsSearchProvider* self,
                                                      GVariant* _parameters_,
                                                      GDBusMethodInvocation* invocation)
{
	GVariantIter _arguments_iter;
	contacts_search_provider_GetSubsearchResultSetReadyData* _ready_data;
	GVariant* _tmp7_;
	gchar** _tmp8_;
	gint _tmp8__length;
	gint _tmp8__size;
	gint _tmp8__length1;
	GVariantIter _tmp9_;
	GVariant* _tmp10_;
	GVariant* _tmp11_;
	gchar** _tmp12_;
	gint _tmp12__length;
	gint _tmp12__size;
	gint _tmp12__length1;
	GVariantIter _tmp13_;
	GVariant* _tmp14_;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	_ready_data = g_slice_new0 (contacts_search_provider_GetSubsearchResultSetReadyData);
	_ready_data->_invocation_ = invocation;
	_tmp7_ = g_variant_iter_next_value (&_arguments_iter);
	_tmp8_ = g_new (gchar*, 5);
	_tmp8__length = 0;
	_tmp8__size = 4;
	_tmp8__length1 = 0;
	g_variant_iter_init (&_tmp9_, _tmp7_);
	for (; (_tmp10_ = g_variant_iter_next_value (&_tmp9_)) != NULL; _tmp8__length1++) {
		if (_tmp8__size == _tmp8__length) {
			_tmp8__size = 2 * _tmp8__size;
			_tmp8_ = g_renew (gchar*, _tmp8_, _tmp8__size + 1);
		}
		_tmp8_[_tmp8__length++] = g_variant_dup_string (_tmp10_, NULL);
		g_variant_unref (_tmp10_);
	}
	_ready_data->previous_results_length1 = _tmp8__length1;
	_tmp8_[_tmp8__length] = NULL;
	_ready_data->previous_results = _tmp8_;
	g_variant_unref (_tmp7_);
	_tmp11_ = g_variant_iter_next_value (&_arguments_iter);
	_tmp12_ = g_new (gchar*, 5);
	_tmp12__length = 0;
	_tmp12__size = 4;
	_tmp12__length1 = 0;
	g_variant_iter_init (&_tmp13_, _tmp11_);
	for (; (_tmp14_ = g_variant_iter_next_value (&_tmp13_)) != NULL; _tmp12__length1++) {
		if (_tmp12__size == _tmp12__length) {
			_tmp12__size = 2 * _tmp12__size;
			_tmp12_ = g_renew (gchar*, _tmp12_, _tmp12__size + 1);
		}
		_tmp12_[_tmp12__length++] = g_variant_dup_string (_tmp14_, NULL);
		g_variant_unref (_tmp14_);
	}
	_ready_data->new_terms_length1 = _tmp12__length1;
	_tmp12_[_tmp12__length] = NULL;
	_ready_data->new_terms = _tmp12_;
	g_variant_unref (_tmp11_);
	contacts_search_provider_GetSubsearchResultSet (self, _ready_data->previous_results, _ready_data->previous_results_length1, _ready_data->new_terms, _ready_data->new_terms_length1, (GAsyncReadyCallback) _dbus_contacts_search_provider_GetSubsearchResultSet_ready, _ready_data);
}

static void
_dbus_contacts_search_provider_GetSubsearchResultSet_ready (GObject * source_object,
                                                            GAsyncResult * _res_,
                                                            gpointer _user_data_)
{
	contacts_search_provider_GetSubsearchResultSetReadyData* _ready_data;
	GDBusMethodInvocation* invocation;
	GError* error = NULL;
	GDBusMessage* _reply_message = NULL;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	gchar** result;
	gint result_length1 = 0;
	gchar** _tmp15_;
	GVariantBuilder _tmp16_;
	gint _tmp17_;
	_ready_data = _user_data_;
	invocation = _ready_data->_invocation_;
	result = contacts_search_provider_GetSubsearchResultSet_finish ((ContactsSearchProvider*) source_object, _res_, &result_length1, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		g_error_free (error);
		goto _error;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	_tmp15_ = result;
	g_variant_builder_init (&_tmp16_, G_VARIANT_TYPE ("as"));
	for (_tmp17_ = 0; _tmp17_ < result_length1; _tmp17_++) {
		g_variant_builder_add_value (&_tmp16_, g_variant_new_string (*_tmp15_));
		_tmp15_++;
	}
	g_variant_builder_add_value (&_reply_builder, g_variant_builder_end (&_tmp16_));
	result = (_vala_array_free (result, result_length1, (GDestroyNotify) g_free), NULL);
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
	_error:
	_ready_data->previous_results = (_vala_array_free (_ready_data->previous_results, _ready_data->previous_results_length1, (GDestroyNotify) g_free), NULL);
	_ready_data->new_terms = (_vala_array_free (_ready_data->new_terms, _ready_data->new_terms_length1, (GDestroyNotify) g_free), NULL);
	g_slice_free (contacts_search_provider_GetSubsearchResultSetReadyData, _ready_data);
}

static void
_dbus_contacts_search_provider_GetResultMetas (ContactsSearchProvider* self,
                                               GVariant* _parameters_,
                                               GDBusMethodInvocation* invocation)
{
	GVariantIter _arguments_iter;
	contacts_search_provider_GetResultMetasReadyData* _ready_data;
	GVariant* _tmp18_;
	gchar** _tmp19_;
	gint _tmp19__length;
	gint _tmp19__size;
	gint _tmp19__length1;
	GVariantIter _tmp20_;
	GVariant* _tmp21_;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	_ready_data = g_slice_new0 (contacts_search_provider_GetResultMetasReadyData);
	_ready_data->_invocation_ = invocation;
	_tmp18_ = g_variant_iter_next_value (&_arguments_iter);
	_tmp19_ = g_new (gchar*, 5);
	_tmp19__length = 0;
	_tmp19__size = 4;
	_tmp19__length1 = 0;
	g_variant_iter_init (&_tmp20_, _tmp18_);
	for (; (_tmp21_ = g_variant_iter_next_value (&_tmp20_)) != NULL; _tmp19__length1++) {
		if (_tmp19__size == _tmp19__length) {
			_tmp19__size = 2 * _tmp19__size;
			_tmp19_ = g_renew (gchar*, _tmp19_, _tmp19__size + 1);
		}
		_tmp19_[_tmp19__length++] = g_variant_dup_string (_tmp21_, NULL);
		g_variant_unref (_tmp21_);
	}
	_ready_data->ids_length1 = _tmp19__length1;
	_tmp19_[_tmp19__length] = NULL;
	_ready_data->ids = _tmp19_;
	g_variant_unref (_tmp18_);
	contacts_search_provider_GetResultMetas (self, _ready_data->ids, _ready_data->ids_length1, (GAsyncReadyCallback) _dbus_contacts_search_provider_GetResultMetas_ready, _ready_data);
}

static void
_dbus_contacts_search_provider_GetResultMetas_ready (GObject * source_object,
                                                     GAsyncResult * _res_,
                                                     gpointer _user_data_)
{
	contacts_search_provider_GetResultMetasReadyData* _ready_data;
	GDBusMethodInvocation* invocation;
	GError* error = NULL;
	GDBusMessage* _reply_message = NULL;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	GHashTable** result;
	gint result_length1 = 0;
	GHashTable** _tmp22_;
	GVariantBuilder _tmp23_;
	gint _tmp24_;
	_ready_data = _user_data_;
	invocation = _ready_data->_invocation_;
	result = contacts_search_provider_GetResultMetas_finish ((ContactsSearchProvider*) source_object, _res_, &result_length1, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		g_error_free (error);
		goto _error;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	_tmp22_ = result;
	g_variant_builder_init (&_tmp23_, G_VARIANT_TYPE ("aa{sv}"));
	for (_tmp24_ = 0; _tmp24_ < result_length1; _tmp24_++) {
		GVariantBuilder _tmp25_;
		GHashTableIter _tmp26_;
		gpointer _tmp27_;
		gpointer _tmp28_;
		g_hash_table_iter_init (&_tmp26_, *_tmp22_);
		g_variant_builder_init (&_tmp25_, G_VARIANT_TYPE ("a{sv}"));
		while (g_hash_table_iter_next (&_tmp26_, &_tmp27_, &_tmp28_)) {
			gchar* _key;
			GVariant* _value;
			_key = (gchar*) _tmp27_;
			_value = (GVariant*) _tmp28_;
			g_variant_builder_add (&_tmp25_, "{?*}", g_variant_new_string (_key), g_variant_new_variant (_value));
		}
		g_variant_builder_add_value (&_tmp23_, g_variant_builder_end (&_tmp25_));
		_tmp22_++;
	}
	g_variant_builder_add_value (&_reply_builder, g_variant_builder_end (&_tmp23_));
	result = (_vala_array_free (result, result_length1, (GDestroyNotify) g_hash_table_unref), NULL);
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
	_error:
	_ready_data->ids = (_vala_array_free (_ready_data->ids, _ready_data->ids_length1, (GDestroyNotify) g_free), NULL);
	g_slice_free (contacts_search_provider_GetResultMetasReadyData, _ready_data);
}

static void
_dbus_contacts_search_provider_ActivateResult (ContactsSearchProvider* self,
                                               GVariant* _parameters_,
                                               GDBusMethodInvocation* invocation)
{
	GError* error = NULL;
	GVariantIter _arguments_iter;
	gchar* id = NULL;
	GVariant* _tmp29_;
	gchar** terms = NULL;
	gint terms_length1 = 0;
	GVariant* _tmp30_;
	gchar** _tmp31_;
	gint _tmp31__length;
	gint _tmp31__size;
	gint _tmp31__length1;
	GVariantIter _tmp32_;
	GVariant* _tmp33_;
	guint32 timestamp = 0U;
	GVariant* _tmp34_;
	GDBusMessage* _reply_message = NULL;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	_tmp29_ = g_variant_iter_next_value (&_arguments_iter);
	id = g_variant_dup_string (_tmp29_, NULL);
	g_variant_unref (_tmp29_);
	_tmp30_ = g_variant_iter_next_value (&_arguments_iter);
	_tmp31_ = g_new (gchar*, 5);
	_tmp31__length = 0;
	_tmp31__size = 4;
	_tmp31__length1 = 0;
	g_variant_iter_init (&_tmp32_, _tmp30_);
	for (; (_tmp33_ = g_variant_iter_next_value (&_tmp32_)) != NULL; _tmp31__length1++) {
		if (_tmp31__size == _tmp31__length) {
			_tmp31__size = 2 * _tmp31__size;
			_tmp31_ = g_renew (gchar*, _tmp31_, _tmp31__size + 1);
		}
		_tmp31_[_tmp31__length++] = g_variant_dup_string (_tmp33_, NULL);
		g_variant_unref (_tmp33_);
	}
	terms_length1 = _tmp31__length1;
	_tmp31_[_tmp31__length] = NULL;
	terms = _tmp31_;
	g_variant_unref (_tmp30_);
	_tmp34_ = g_variant_iter_next_value (&_arguments_iter);
	timestamp = g_variant_get_uint32 (_tmp34_);
	g_variant_unref (_tmp34_);
	contacts_search_provider_ActivateResult (self, id, terms, terms_length1, timestamp, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		g_error_free (error);
		return;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
	_g_free0 (id);
	terms = (_vala_array_free (terms, terms_length1, (GDestroyNotify) g_free), NULL);
}

static void
_dbus_contacts_search_provider_LaunchSearch (ContactsSearchProvider* self,
                                             GVariant* _parameters_,
                                             GDBusMethodInvocation* invocation)
{
	GError* error = NULL;
	GVariantIter _arguments_iter;
	gchar** terms = NULL;
	gint terms_length1 = 0;
	GVariant* _tmp35_;
	gchar** _tmp36_;
	gint _tmp36__length;
	gint _tmp36__size;
	gint _tmp36__length1;
	GVariantIter _tmp37_;
	GVariant* _tmp38_;
	guint32 timestamp = 0U;
	GVariant* _tmp39_;
	GDBusMessage* _reply_message = NULL;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	_tmp35_ = g_variant_iter_next_value (&_arguments_iter);
	_tmp36_ = g_new (gchar*, 5);
	_tmp36__length = 0;
	_tmp36__size = 4;
	_tmp36__length1 = 0;
	g_variant_iter_init (&_tmp37_, _tmp35_);
	for (; (_tmp38_ = g_variant_iter_next_value (&_tmp37_)) != NULL; _tmp36__length1++) {
		if (_tmp36__size == _tmp36__length) {
			_tmp36__size = 2 * _tmp36__size;
			_tmp36_ = g_renew (gchar*, _tmp36_, _tmp36__size + 1);
		}
		_tmp36_[_tmp36__length++] = g_variant_dup_string (_tmp38_, NULL);
		g_variant_unref (_tmp38_);
	}
	terms_length1 = _tmp36__length1;
	_tmp36_[_tmp36__length] = NULL;
	terms = _tmp36_;
	g_variant_unref (_tmp35_);
	_tmp39_ = g_variant_iter_next_value (&_arguments_iter);
	timestamp = g_variant_get_uint32 (_tmp39_);
	g_variant_unref (_tmp39_);
	contacts_search_provider_LaunchSearch (self, terms, terms_length1, timestamp, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		g_error_free (error);
		return;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
	terms = (_vala_array_free (terms, terms_length1, (GDestroyNotify) g_free), NULL);
}

static void
contacts_search_provider_dbus_interface_method_call (GDBusConnection* connection,
                                                     const gchar* sender,
                                                     const gchar* object_path,
                                                     const gchar* interface_name,
                                                     const gchar* method_name,
                                                     GVariant* parameters,
                                                     GDBusMethodInvocation* invocation,
                                                     gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	if (strcmp (method_name, "GetInitialResultSet") == 0) {
		_dbus_contacts_search_provider_GetInitialResultSet (object, parameters, invocation);
	} else if (strcmp (method_name, "GetSubsearchResultSet") == 0) {
		_dbus_contacts_search_provider_GetSubsearchResultSet (object, parameters, invocation);
	} else if (strcmp (method_name, "GetResultMetas") == 0) {
		_dbus_contacts_search_provider_GetResultMetas (object, parameters, invocation);
	} else if (strcmp (method_name, "ActivateResult") == 0) {
		_dbus_contacts_search_provider_ActivateResult (object, parameters, invocation);
	} else if (strcmp (method_name, "LaunchSearch") == 0) {
		_dbus_contacts_search_provider_LaunchSearch (object, parameters, invocation);
	} else {
		g_object_unref (invocation);
	}
}

static GVariant*
contacts_search_provider_dbus_interface_get_property (GDBusConnection* connection,
                                                      const gchar* sender,
                                                      const gchar* object_path,
                                                      const gchar* interface_name,
                                                      const gchar* property_name,
                                                      GError** error,
                                                      gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	return NULL;
}

static gboolean
contacts_search_provider_dbus_interface_set_property (GDBusConnection* connection,
                                                      const gchar* sender,
                                                      const gchar* object_path,
                                                      const gchar* interface_name,
                                                      const gchar* property_name,
                                                      GVariant* value,
                                                      GError** error,
                                                      gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	return FALSE;
}

guint
contacts_search_provider_register_object (gpointer object,
                                          GDBusConnection* connection,
                                          const gchar* path,
                                          GError** error)
{
	guint result;
	gpointer *data;
	data = g_new (gpointer, 3);
	data[0] = g_object_ref (object);
	data[1] = g_object_ref (connection);
	data[2] = g_strdup (path);
	result = g_dbus_connection_register_object (connection, path, (GDBusInterfaceInfo *) (&_contacts_search_provider_dbus_interface_info), &_contacts_search_provider_dbus_interface_vtable, data, _contacts_search_provider_unregister_object, error);
	if (!result) {
		return 0;
	}
	return result;
}

static void
_contacts_search_provider_unregister_object (gpointer user_data)
{
	gpointer* data;
	data = user_data;
	g_object_unref (data[0]);
	g_object_unref (data[1]);
	g_free (data[2]);
	g_free (data);
}

ContactsSearchProviderApp*
contacts_search_provider_app_construct (GType object_type)
{
	ContactsSearchProviderApp * self = NULL;
#line 175 "../src/contacts-shell-search-provider.vala"
	self = (ContactsSearchProviderApp*) g_object_new (object_type, "application-id", APP_ID ".SearchProvider", "flags", G_APPLICATION_IS_SERVICE, "inactivity-timeout", 10000, NULL);
#line 174 "../src/contacts-shell-search-provider.vala"
	return self;
#line 3514 "contacts-shell-search-provider.c"
}

ContactsSearchProviderApp*
contacts_search_provider_app_new (void)
{
#line 174 "../src/contacts-shell-search-provider.vala"
	return contacts_search_provider_app_construct (CONTACTS_TYPE_SEARCH_PROVIDER_APP);
#line 3522 "contacts-shell-search-provider.c"
}

static gboolean
contacts_search_provider_app_real_dbus_register (GApplication* base,
                                                 GDBusConnection* connection,
                                                 const gchar* object_path,
                                                 GError** error)
{
	ContactsSearchProviderApp * self;
	GError* _inner_error0_ = NULL;
	gboolean result = FALSE;
#line 180 "../src/contacts-shell-search-provider.vala"
	self = (ContactsSearchProviderApp*) base;
#line 180 "../src/contacts-shell-search-provider.vala"
	g_return_val_if_fail (connection != NULL, FALSE);
#line 180 "../src/contacts-shell-search-provider.vala"
	g_return_val_if_fail (object_path != NULL, FALSE);
#line 3540 "contacts-shell-search-provider.c"
	{
		ContactsSearchProvider* _tmp0_;
		ContactsSearchProvider* _tmp1_;
#line 182 "../src/contacts-shell-search-provider.vala"
		_tmp0_ = contacts_search_provider_new (self);
#line 182 "../src/contacts-shell-search-provider.vala"
		_tmp1_ = _tmp0_;
#line 182 "../src/contacts-shell-search-provider.vala"
		contacts_search_provider_register_object (_tmp1_, connection, object_path, &_inner_error0_);
#line 182 "../src/contacts-shell-search-provider.vala"
		_g_object_unref0 (_tmp1_);
#line 182 "../src/contacts-shell-search-provider.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 3554 "contacts-shell-search-provider.c"
			gboolean _tmp2_ = FALSE;
#line 182 "../src/contacts-shell-search-provider.vala"
			if (_inner_error0_->domain == G_IO_ERROR) {
#line 3558 "contacts-shell-search-provider.c"
				goto __catch4_g_io_error;
			}
#line 182 "../src/contacts-shell-search-provider.vala"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 182 "../src/contacts-shell-search-provider.vala"
			g_clear_error (&_inner_error0_);
#line 182 "../src/contacts-shell-search-provider.vala"
			return _tmp2_;
#line 3567 "contacts-shell-search-provider.c"
		}
	}
	goto __finally4;
	__catch4_g_io_error:
	{
		GError* _error_ = NULL;
		FILE* _tmp3_;
		GError* _tmp4_;
		const gchar* _tmp5_;
#line 181 "../src/contacts-shell-search-provider.vala"
		_error_ = _inner_error0_;
#line 181 "../src/contacts-shell-search-provider.vala"
		_inner_error0_ = NULL;
#line 184 "../src/contacts-shell-search-provider.vala"
		_tmp3_ = stderr;
#line 184 "../src/contacts-shell-search-provider.vala"
		_tmp4_ = _error_;
#line 184 "../src/contacts-shell-search-provider.vala"
		_tmp5_ = _tmp4_->message;
#line 184 "../src/contacts-shell-search-provider.vala"
		fprintf (_tmp3_, "Could not register service: %s", _tmp5_);
#line 185 "../src/contacts-shell-search-provider.vala"
		g_application_quit ((GApplication*) self);
#line 181 "../src/contacts-shell-search-provider.vala"
		_g_error_free0 (_error_);
#line 3593 "contacts-shell-search-provider.c"
	}
	__finally4:
#line 181 "../src/contacts-shell-search-provider.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 3598 "contacts-shell-search-provider.c"
		gboolean _tmp6_ = FALSE;
#line 181 "../src/contacts-shell-search-provider.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 181 "../src/contacts-shell-search-provider.vala"
		g_clear_error (&_inner_error0_);
#line 181 "../src/contacts-shell-search-provider.vala"
		return _tmp6_;
#line 3606 "contacts-shell-search-provider.c"
	}
#line 187 "../src/contacts-shell-search-provider.vala"
	result = TRUE;
#line 187 "../src/contacts-shell-search-provider.vala"
	return result;
#line 3612 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_app_real_startup (GApplication* base)
{
	ContactsSearchProviderApp * self;
	const gchar* _tmp0_;
#line 190 "../src/contacts-shell-search-provider.vala"
	self = (ContactsSearchProviderApp*) base;
#line 191 "../src/contacts-shell-search-provider.vala"
	_tmp0_ = g_getenv ("CONTACTS_SEARCH_PROVIDER_PERSIST");
#line 191 "../src/contacts-shell-search-provider.vala"
	if (_tmp0_ != NULL) {
#line 192 "../src/contacts-shell-search-provider.vala"
		g_application_hold ((GApplication*) self);
#line 3628 "contacts-shell-search-provider.c"
	}
#line 193 "../src/contacts-shell-search-provider.vala"
	G_APPLICATION_CLASS (contacts_search_provider_app_parent_class)->startup (G_TYPE_CHECK_INSTANCE_CAST (self, g_application_get_type (), GApplication));
#line 3632 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_app_class_init (ContactsSearchProviderAppClass * klass,
                                         gpointer klass_data)
{
#line 173 "../src/contacts-shell-search-provider.vala"
	contacts_search_provider_app_parent_class = g_type_class_peek_parent (klass);
#line 173 "../src/contacts-shell-search-provider.vala"
	((GApplicationClass *) klass)->dbus_register = (gboolean (*) (GApplication*, GDBusConnection*, const gchar*, GError**)) contacts_search_provider_app_real_dbus_register;
#line 173 "../src/contacts-shell-search-provider.vala"
	((GApplicationClass *) klass)->startup = (void (*) (GApplication*)) contacts_search_provider_app_real_startup;
#line 3645 "contacts-shell-search-provider.c"
}

static void
contacts_search_provider_app_instance_init (ContactsSearchProviderApp * self,
                                            gpointer klass)
{
}

static GType
contacts_search_provider_app_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (ContactsSearchProviderAppClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) contacts_search_provider_app_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ContactsSearchProviderApp), 0, (GInstanceInitFunc) contacts_search_provider_app_instance_init, NULL };
	GType contacts_search_provider_app_type_id;
	contacts_search_provider_app_type_id = g_type_register_static (g_application_get_type (), "ContactsSearchProviderApp", &g_define_type_info, 0);
	return contacts_search_provider_app_type_id;
}

GType
contacts_search_provider_app_get_type (void)
{
	static volatile gsize contacts_search_provider_app_type_id__volatile = 0;
	if (g_once_init_enter (&contacts_search_provider_app_type_id__volatile)) {
		GType contacts_search_provider_app_type_id;
		contacts_search_provider_app_type_id = contacts_search_provider_app_get_type_once ();
		g_once_init_leave (&contacts_search_provider_app_type_id__volatile, contacts_search_provider_app_type_id);
	}
	return contacts_search_provider_app_type_id__volatile;
}

gint
_vala_main (void)
{
	ContactsSearchProviderApp* _tmp0_;
	ContactsSearchProviderApp* _tmp1_;
	gint _tmp2_;
	gint result = 0;
#line 198 "../src/contacts-shell-search-provider.vala"
	_tmp0_ = contacts_search_provider_app_new ();
#line 198 "../src/contacts-shell-search-provider.vala"
	_tmp1_ = _tmp0_;
#line 198 "../src/contacts-shell-search-provider.vala"
	_tmp2_ = g_application_run ((GApplication*) _tmp1_, (gint) 0, NULL);
#line 198 "../src/contacts-shell-search-provider.vala"
	_g_object_unref0 (_tmp1_);
#line 198 "../src/contacts-shell-search-provider.vala"
	result = _tmp2_;
#line 198 "../src/contacts-shell-search-provider.vala"
	return result;
#line 3694 "contacts-shell-search-provider.c"
}

int
main (int argc,
      char ** argv)
{
#line 197 "../src/contacts-shell-search-provider.vala"
	return _vala_main ();
#line 3703 "contacts-shell-search-provider.c"
}

static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		gint i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}

static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}

