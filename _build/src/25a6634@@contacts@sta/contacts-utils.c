/* contacts-utils.c generated by valac 0.47.2.1-ce69, the Vala compiler
 * generated from contacts-utils.vala, do not modify */

/*
 * Copyright (C) 2011 Alexander Larsson <alexl@redhat.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

#include <stdlib.h>
#include <string.h>
#include <glib.h>
#include <gtk/gtk.h>
#include <glib-object.h>
#include <gio/gio.h>
#include <gdk/gdk.h>
#include <gio/gdesktopappinfo.h>
#include <gee.h>
#include <folks/folks.h>
#include <folks/folks-eds.h>
#include <glib/gi18n-lib.h>

#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define CONTACTS_TYPE_FREEDESKTOP_APPLICATION (contacts_freedesktop_application_get_type ())
#define CONTACTS_FREEDESKTOP_APPLICATION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CONTACTS_TYPE_FREEDESKTOP_APPLICATION, ContactsFreedesktopApplication))
#define CONTACTS_IS_FREEDESKTOP_APPLICATION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CONTACTS_TYPE_FREEDESKTOP_APPLICATION))
#define CONTACTS_FREEDESKTOP_APPLICATION_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), CONTACTS_TYPE_FREEDESKTOP_APPLICATION, ContactsFreedesktopApplicationIface))

typedef struct _ContactsFreedesktopApplication ContactsFreedesktopApplication;
typedef struct _ContactsFreedesktopApplicationIface ContactsFreedesktopApplicationIface;

#define CONTACTS_TYPE_FREEDESKTOP_APPLICATION_PROXY (contacts_freedesktop_application_proxy_get_type ())
typedef GDBusProxy ContactsFreedesktopApplicationProxy;
typedef GDBusProxyClass ContactsFreedesktopApplicationProxyClass;
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_hash_table_unref0(var) ((var == NULL) ? NULL : (var = (g_hash_table_unref (var), NULL)))
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define _g_dir_close0(var) ((var == NULL) ? NULL : (var = (g_dir_close (var), NULL)))

#define CONTACTS_TYPE_STORE (contacts_store_get_type ())
#define CONTACTS_STORE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CONTACTS_TYPE_STORE, ContactsStore))
#define CONTACTS_STORE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CONTACTS_TYPE_STORE, ContactsStoreClass))
#define CONTACTS_IS_STORE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CONTACTS_TYPE_STORE))
#define CONTACTS_IS_STORE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CONTACTS_TYPE_STORE))
#define CONTACTS_STORE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CONTACTS_TYPE_STORE, ContactsStoreClass))

typedef struct _ContactsStore ContactsStore;
typedef struct _ContactsStoreClass ContactsStoreClass;

#define CONTACTS_TYPE_TYPESET (contacts_typeset_get_type ())
#define CONTACTS_TYPESET(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CONTACTS_TYPE_TYPESET, ContactsTypeSet))
#define CONTACTS_TYPESET_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CONTACTS_TYPE_TYPESET, ContactsTypeSetClass))
#define CONTACTS_IS_TYPESET(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CONTACTS_TYPE_TYPESET))
#define CONTACTS_IS_TYPESET_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CONTACTS_TYPE_TYPESET))
#define CONTACTS_TYPESET_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CONTACTS_TYPE_TYPESET, ContactsTypeSetClass))

typedef struct _ContactsTypeSet ContactsTypeSet;
typedef struct _ContactsTypeSetClass ContactsTypeSetClass;
typedef struct _ContactsUtilsSetIndividualPropertyData ContactsUtilsSetIndividualPropertyData;
typedef struct _ContactsUtilsSetPersonaPropertyData ContactsUtilsSetPersonaPropertyData;

struct _ContactsFreedesktopApplicationIface {
	GTypeInterface parent_iface;
	void (*ActivateAction) (ContactsFreedesktopApplication* self, const gchar* action, GVariant** parameter, gint parameter_length1, GHashTable* data, GError** error);
};

struct _ContactsUtilsSetIndividualPropertyData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	FolksIndividual* individual;
	gchar* property_name;
	GValue value;
	FolksPersona** personas_copy;
	GeeSet* _tmp0_;
	GeeSet* _tmp1_;
	gint _tmp2_;
	gpointer* _tmp3_;
	gint personas_copy_length1;
	gint _personas_copy_size_;
	FolksPersona** _tmp4_;
	gint _tmp4__length1;
	FolksPersona** p_collection;
	gint p_collection_length1;
	gint _p_collection_size_;
	gint p_it;
	FolksPersona* _tmp5_;
	FolksPersona* p;
	FolksPersona* _tmp6_;
	gchar** _tmp7_;
	gint _tmp7__length1;
	gchar** _tmp8_;
	gint _tmp8__length1;
	FolksPersona* _tmp9_;
	GValue _tmp10_;
	GError* _inner_error0_;
};

struct _ContactsUtilsSetPersonaPropertyData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	FolksPersona* persona;
	gchar* property_name;
	GValue new_value;
	const gchar* _tmp0_;
	GQuark _tmp2_;
	GValue _tmp3_;
	GValue _tmp4_;
	GValue _tmp5_;
	GValue _tmp6_;
	GValue _tmp7_;
	GValue _tmp8_;
	GValue _tmp9_;
	GValue _tmp10_;
	GValue _tmp11_;
	GValue _tmp12_;
	GValue _tmp13_;
	GValue _tmp14_;
	GValue _tmp15_;
	GValue _tmp16_;
	GValue _tmp17_;
	GValue _tmp18_;
	GValue _tmp19_;
	GValue _tmp20_;
	GValue _tmp21_;
	GError* _inner_error0_;
};

gboolean contacts_is_set (const gchar* str);
void contacts_add_separator (GtkListBoxRow* row,
                             GtkListBoxRow* before_row);
GType contacts_freedesktop_application_proxy_get_type (void) G_GNUC_CONST;
guint contacts_freedesktop_application_register_object (void* object,
                                                        GDBusConnection* connection,
                                                        const gchar* path,
                                                        GError** error);
GType contacts_freedesktop_application_get_type (void) G_GNUC_CONST;
void contacts_freedesktop_application_ActivateAction (ContactsFreedesktopApplication* self,
                                                      const gchar* action,
                                                      GVariant** parameter,
                                                      gint parameter_length1,
                                                      GHashTable* data,
                                                      GError** error);
static GType contacts_freedesktop_application_get_type_once (void);
static void contacts_freedesktop_application_proxy_g_signal (GDBusProxy* proxy,
                                                      const gchar* sender_name,
                                                      const gchar* signal_name,
                                                      GVariant* parameters);
static void contacts_freedesktop_application_proxy_ActivateAction (ContactsFreedesktopApplication* self,
                                                            const gchar* action,
                                                            GVariant** parameter,
                                                            gint parameter_length1,
                                                            GHashTable* data,
                                                            GError** error);
static void contacts_freedesktop_application_proxy_contacts_freedesktop_application_interface_init (ContactsFreedesktopApplicationIface* iface);
static void _dbus_contacts_freedesktop_application_ActivateAction (ContactsFreedesktopApplication* self,
                                                            GVariant* _parameters_,
                                                            GDBusMethodInvocation* invocation);
static void contacts_freedesktop_application_dbus_interface_method_call (GDBusConnection* connection,
                                                                  const gchar* sender,
                                                                  const gchar* object_path,
                                                                  const gchar* interface_name,
                                                                  const gchar* method_name,
                                                                  GVariant* parameters,
                                                                  GDBusMethodInvocation* invocation,
                                                                  gpointer user_data);
static GVariant* contacts_freedesktop_application_dbus_interface_get_property (GDBusConnection* connection,
                                                                        const gchar* sender,
                                                                        const gchar* object_path,
                                                                        const gchar* interface_name,
                                                                        const gchar* property_name,
                                                                        GError** error,
                                                                        gpointer user_data);
static gboolean contacts_freedesktop_application_dbus_interface_set_property (GDBusConnection* connection,
                                                                       const gchar* sender,
                                                                       const gchar* object_path,
                                                                       const gchar* interface_name,
                                                                       const gchar* property_name,
                                                                       GVariant* value,
                                                                       GError** error,
                                                                       gpointer user_data);
static void _contacts_freedesktop_application_unregister_object (gpointer user_data);
void contacts_activate_action (const gchar* app_id,
                               const gchar* action,
                               GVariant* parameter,
                               guint32 timestamp);
static void _vala_array_add1 (GVariant** * array,
                       gint* length,
                       gint* size,
                       GVariant* value);
static void _g_object_unref0_ (gpointer var);
static inline void _g_list_free__g_object_unref0_ (GList* self);
static void _g_free0_ (gpointer var);
static void _g_variant_unref0_ (gpointer var);
void contacts_utils_compose_mail (const gchar* email);
gpointer contacts_utils_get_first (GType t_type,
                                   GBoxedCopyFunc t_dup_func,
                                   GDestroyNotify t_destroy_func,
                                   GeeCollection* collection);
void contacts_utils_grab_entry_focus_no_select (GtkEntry* entry);
gchar** contacts_utils_get_stock_avatars (gint* result_length1);
static gchar** _vala_array_dup2 (gchar** self,
                          gint length);
static void _vala_array_add2 (gchar** * array,
                       gint* length,
                       gint* size,
                       gchar* value);
GType contacts_store_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ContactsStore, g_object_unref)
FolksPersonaStore** contacts_utils_get_eds_address_books (ContactsStore* contacts_store,
                                                          gint* result_length1);
FolksBackendStore* contacts_store_get_backend_store (ContactsStore* self);
static void _vala_array_add3 (FolksPersonaStore** * array,
                       gint* length,
                       gint* size,
                       FolksPersonaStore* value);
void contacts_utils_show_error_dialog (const gchar* _error_,
                                       GtkWindow* toplevel);
gboolean contacts_utils_has_main_persona (FolksIndividual* individual);
gboolean contacts_utils_persona_is_google_other (FolksPersona* persona);
gboolean contacts_utils_is_ignorable (FolksIndividual* individual);
gboolean contacts_utils_suggest_link_to (ContactsStore* store,
                                         FolksIndividual* _self_,
                                         FolksIndividual* other);
gboolean contacts_utils_non_linkable (FolksIndividual* individual);
gboolean contacts_store_may_suggest_link (ContactsStore* self,
                                          FolksIndividual* a,
                                          FolksIndividual* b);
gboolean contacts_utils_has_mainable_persona (FolksIndividual* individual);
gboolean contacts_utils_has_pref (FolksAbstractFieldDetails* details);
GType contacts_typeset_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ContactsTypeSet, g_object_unref)
ContactsTypeSet* contacts_utils_select_typeset_from_fielddetails (FolksAbstractFieldDetails* a);
ContactsTypeSet* contacts_typeset_get_email (void);
ContactsTypeSet* contacts_typeset_get_phone (void);
ContactsTypeSet* contacts_typeset_get_general (void);
gint contacts_utils_compare_fields (void* _a,
                                    void* _b);
gchar* contacts_typeset_format_type (ContactsTypeSet* self,
                                     FolksAbstractFieldDetails* detail);
GeeList* contacts_utils_sort_fields (GType t_type,
                                     GBoxedCopyFunc t_dup_func,
                                     GDestroyNotify t_destroy_func,
                                     GeeCollection* fields);
static gint _contacts_utils_compare_fields_gcompare_data_func (gconstpointer a,
                                                        gconstpointer b,
                                                        gpointer self);
gchar** contacts_utils_format_address (FolksPostalAddress* addr,
                                       gint* result_length1);
static void _vala_array_add4 (gchar** * array,
                       gint* length,
                       gint* size,
                       gchar* value);
static void _vala_array_add5 (gchar** * array,
                       gint* length,
                       gint* size,
                       gchar* value);
static void _vala_array_add6 (gchar** * array,
                       gint* length,
                       gint* size,
                       gchar* value);
static void _vala_array_add7 (gchar** * array,
                       gint* length,
                       gint* size,
                       gchar* value);
static void _vala_array_add8 (gchar** * array,
                       gint* length,
                       gint* size,
                       gchar* value);
static void _vala_array_add9 (gchar** * array,
                       gint* length,
                       gint* size,
                       gchar* value);
static void _vala_array_add10 (gchar** * array,
                        gint* length,
                        gint* size,
                        gchar* value);
static void _vala_array_add11 (gchar** * array,
                        gint* length,
                        gint* size,
                        gchar* value);
gboolean contacts_utils_can_remove_personas (FolksIndividual* individual);
GeeList* contacts_utils_get_personas_for_display (FolksIndividual* individual);
static gint __lambda6_ (FolksPersona* a,
                 FolksPersona* b);
gboolean contacts_utils_persona_is_google (FolksPersona* persona);
static gint ___lambda6__gcompare_data_func (gconstpointer a,
                                     gconstpointer b,
                                     gpointer self);
FolksPersona* contacts_utils_find_primary_persona (FolksIndividual* individual);
FolksPersona* contacts_utils_find_persona_from_uid (FolksIndividual* individual,
                                                    const gchar* uid);
gchar* contacts_utils_format_persona_stores (FolksIndividual* individual);
gchar* contacts_utils_format_persona_store_name_for_contact (FolksPersona* persona);
gchar* contacts_utils_format_persona_store_name (FolksPersonaStore* store);
gchar* contacts_lookup_esource_name_by_uid (const gchar* uid);
gboolean contacts_utils_persona_is_google_profile (FolksPersona* persona);
gboolean contacts_esource_uid_is_google (const gchar* uid);
gchar* contacts_lookup_esource_name_by_uid_for_contact (const gchar* uid);
static void contacts_utils_set_individual_property_data_free (gpointer _data);
void contacts_utils_set_individual_property (FolksIndividual* individual,
                                             const gchar* property_name,
                                             GValue* value,
                                             GAsyncReadyCallback _callback_,
                                             gpointer _user_data_);
void contacts_utils_set_individual_property_finish (GAsyncResult* _res_,
                                                    GError** error);
static gboolean contacts_utils_set_individual_property_co (ContactsUtilsSetIndividualPropertyData* _data_);
static gboolean _vala_string_array_contains (gchar* * stack,
                                      gint stack_length,
                                      const gchar* needle);
void contacts_utils_set_persona_property (FolksPersona* persona,
                                          const gchar* property_name,
                                          GValue* new_value,
                                          GAsyncReadyCallback _callback_,
                                          gpointer _user_data_);
void contacts_utils_set_persona_property_finish (GAsyncResult* _res_,
                                                 GError** error);
static void contacts_utils_set_individual_property_ready (GObject* source_object,
                                                   GAsyncResult* _res_,
                                                   gpointer _user_data_);
static void contacts_utils_set_persona_property_data_free (gpointer _data);
static gboolean contacts_utils_set_persona_property_co (ContactsUtilsSetPersonaPropertyData* _data_);
static void contacts_utils_set_persona_property_ready (GObject* source_object,
                                                GAsyncResult* _res_,
                                                gpointer _user_data_);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);

static const GDBusArgInfo _contacts_freedesktop_application_dbus_arg_info_ActivateAction_action = {-1, "action", "s", NULL};
static const GDBusArgInfo _contacts_freedesktop_application_dbus_arg_info_ActivateAction_parameter = {-1, "parameter", "av", NULL};
static const GDBusArgInfo _contacts_freedesktop_application_dbus_arg_info_ActivateAction_data = {-1, "data", "a{sv}", NULL};
static const GDBusArgInfo * const _contacts_freedesktop_application_dbus_arg_info_ActivateAction_in[] = {&_contacts_freedesktop_application_dbus_arg_info_ActivateAction_action, &_contacts_freedesktop_application_dbus_arg_info_ActivateAction_parameter, &_contacts_freedesktop_application_dbus_arg_info_ActivateAction_data, NULL};
static const GDBusArgInfo * const _contacts_freedesktop_application_dbus_arg_info_ActivateAction_out[] = {NULL};
static const GDBusMethodInfo _contacts_freedesktop_application_dbus_method_info_ActivateAction = {-1, "ActivateAction", (GDBusArgInfo **) (&_contacts_freedesktop_application_dbus_arg_info_ActivateAction_in), (GDBusArgInfo **) (&_contacts_freedesktop_application_dbus_arg_info_ActivateAction_out), NULL};
static const GDBusMethodInfo * const _contacts_freedesktop_application_dbus_method_info[] = {&_contacts_freedesktop_application_dbus_method_info_ActivateAction, NULL};
static const GDBusSignalInfo * const _contacts_freedesktop_application_dbus_signal_info[] = {NULL};
static const GDBusPropertyInfo * const _contacts_freedesktop_application_dbus_property_info[] = {NULL};
static const GDBusInterfaceInfo _contacts_freedesktop_application_dbus_interface_info = {-1, "org.freedesktop.Application", (GDBusMethodInfo **) (&_contacts_freedesktop_application_dbus_method_info), (GDBusSignalInfo **) (&_contacts_freedesktop_application_dbus_signal_info), (GDBusPropertyInfo **) (&_contacts_freedesktop_application_dbus_property_info), NULL};
static const GDBusInterfaceVTable _contacts_freedesktop_application_dbus_interface_vtable = {contacts_freedesktop_application_dbus_interface_method_call, contacts_freedesktop_application_dbus_interface_get_property, contacts_freedesktop_application_dbus_interface_set_property};
static GRegex* _tmp_regex_0 = NULL;

gboolean
contacts_is_set (const gchar* str)
{
	gboolean _tmp0_ = FALSE;
	gboolean result = FALSE;
#line 27 "../src/contacts-utils.vala"
	if (str != NULL) {
#line 27 "../src/contacts-utils.vala"
		_tmp0_ = g_strcmp0 (str, "") != 0;
#line 374 "contacts-utils.c"
	} else {
#line 27 "../src/contacts-utils.vala"
		_tmp0_ = FALSE;
#line 378 "contacts-utils.c"
	}
#line 27 "../src/contacts-utils.vala"
	result = _tmp0_;
#line 27 "../src/contacts-utils.vala"
	return result;
#line 384 "contacts-utils.c"
}

void
contacts_add_separator (GtkListBoxRow* row,
                        GtkListBoxRow* before_row)
{
	GtkSeparator* _tmp0_;
	GtkSeparator* _tmp1_;
#line 30 "../src/contacts-utils.vala"
	g_return_if_fail (row != NULL);
#line 31 "../src/contacts-utils.vala"
	_tmp0_ = (GtkSeparator*) gtk_separator_new (GTK_ORIENTATION_HORIZONTAL);
#line 31 "../src/contacts-utils.vala"
	g_object_ref_sink (_tmp0_);
#line 31 "../src/contacts-utils.vala"
	_tmp1_ = _tmp0_;
#line 31 "../src/contacts-utils.vala"
	gtk_list_box_row_set_header (row, (GtkWidget*) _tmp1_);
#line 31 "../src/contacts-utils.vala"
	_g_object_unref0 (_tmp1_);
#line 405 "contacts-utils.c"
}

void
contacts_freedesktop_application_ActivateAction (ContactsFreedesktopApplication* self,
                                                 const gchar* action,
                                                 GVariant** parameter,
                                                 gint parameter_length1,
                                                 GHashTable* data,
                                                 GError** error)
{
#line 37 "../src/contacts-utils.vala"
	g_return_if_fail (self != NULL);
#line 37 "../src/contacts-utils.vala"
	CONTACTS_FREEDESKTOP_APPLICATION_GET_INTERFACE (self)->ActivateAction (self, action, parameter, parameter_length1, data, error);
#line 420 "contacts-utils.c"
}

static void
contacts_freedesktop_application_default_init (ContactsFreedesktopApplicationIface * iface,
                                               gpointer iface_data)
{
}

static GType
contacts_freedesktop_application_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (ContactsFreedesktopApplicationIface), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) contacts_freedesktop_application_default_init, (GClassFinalizeFunc) NULL, NULL, 0, 0, (GInstanceInitFunc) NULL, NULL };
	GType contacts_freedesktop_application_type_id;
	contacts_freedesktop_application_type_id = g_type_register_static (G_TYPE_INTERFACE, "ContactsFreedesktopApplication", &g_define_type_info, 0);
	g_type_interface_add_prerequisite (contacts_freedesktop_application_type_id, G_TYPE_OBJECT);
	g_type_set_qdata (contacts_freedesktop_application_type_id, g_quark_from_static_string ("vala-dbus-proxy-type"), (void*) contacts_freedesktop_application_proxy_get_type);
	g_type_set_qdata (contacts_freedesktop_application_type_id, g_quark_from_static_string ("vala-dbus-interface-name"), "org.freedesktop.Application");
	g_type_set_qdata (contacts_freedesktop_application_type_id, g_quark_from_static_string ("vala-dbus-interface-info"), (void*) (&_contacts_freedesktop_application_dbus_interface_info));
	g_type_set_qdata (contacts_freedesktop_application_type_id, g_quark_from_static_string ("vala-dbus-register-object"), (void*) contacts_freedesktop_application_register_object);
	return contacts_freedesktop_application_type_id;
}

GType
contacts_freedesktop_application_get_type (void)
{
	static volatile gsize contacts_freedesktop_application_type_id__volatile = 0;
	if (g_once_init_enter (&contacts_freedesktop_application_type_id__volatile)) {
		GType contacts_freedesktop_application_type_id;
		contacts_freedesktop_application_type_id = contacts_freedesktop_application_get_type_once ();
		g_once_init_leave (&contacts_freedesktop_application_type_id__volatile, contacts_freedesktop_application_type_id);
	}
	return contacts_freedesktop_application_type_id__volatile;
}

G_DEFINE_TYPE_EXTENDED (ContactsFreedesktopApplicationProxy, contacts_freedesktop_application_proxy, G_TYPE_DBUS_PROXY, 0, G_IMPLEMENT_INTERFACE (CONTACTS_TYPE_FREEDESKTOP_APPLICATION, contacts_freedesktop_application_proxy_contacts_freedesktop_application_interface_init) )
static void
contacts_freedesktop_application_proxy_class_init (ContactsFreedesktopApplicationProxyClass* klass)
{
	G_DBUS_PROXY_CLASS (klass)->g_signal = contacts_freedesktop_application_proxy_g_signal;
}

static void
contacts_freedesktop_application_proxy_g_signal (GDBusProxy* proxy,
                                                 const gchar* sender_name,
                                                 const gchar* signal_name,
                                                 GVariant* parameters)
{
}

static void
contacts_freedesktop_application_proxy_init (ContactsFreedesktopApplicationProxy* self)
{
}

static void
contacts_freedesktop_application_proxy_ActivateAction (ContactsFreedesktopApplication* self,
                                                       const gchar* action,
                                                       GVariant** parameter,
                                                       gint parameter_length1,
                                                       GHashTable* data,
                                                       GError** error)
{
	GDBusMessage *_message;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	GVariant** _tmp0_;
	GVariantBuilder _tmp1_;
	gint _tmp2_;
	GVariantBuilder _tmp3_;
	GHashTableIter _tmp4_;
	gpointer _tmp5_;
	gpointer _tmp6_;
	GDBusMessage *_reply_message;
	_message = g_dbus_message_new_method_call (g_dbus_proxy_get_name ((GDBusProxy *) self), g_dbus_proxy_get_object_path ((GDBusProxy *) self), "org.freedesktop.Application", "ActivateAction");
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_string (action));
	_tmp0_ = parameter;
	g_variant_builder_init (&_tmp1_, G_VARIANT_TYPE ("av"));
	for (_tmp2_ = 0; _tmp2_ < parameter_length1; _tmp2_++) {
		g_variant_builder_add_value (&_tmp1_, g_variant_new_variant (*_tmp0_));
		_tmp0_++;
	}
	g_variant_builder_add_value (&_arguments_builder, g_variant_builder_end (&_tmp1_));
	g_hash_table_iter_init (&_tmp4_, data);
	g_variant_builder_init (&_tmp3_, G_VARIANT_TYPE ("a{sv}"));
	while (g_hash_table_iter_next (&_tmp4_, &_tmp5_, &_tmp6_)) {
		gchar* _key;
		GVariant* _value;
		_key = (gchar*) _tmp5_;
		_value = (GVariant*) _tmp6_;
		g_variant_builder_add (&_tmp3_, "{?*}", g_variant_new_string (_key), g_variant_new_variant (_value));
	}
	g_variant_builder_add_value (&_arguments_builder, g_variant_builder_end (&_tmp3_));
	_arguments = g_variant_builder_end (&_arguments_builder);
	g_dbus_message_set_body (_message, _arguments);
	_reply_message = g_dbus_connection_send_message_with_reply_sync (g_dbus_proxy_get_connection ((GDBusProxy *) self), _message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, g_dbus_proxy_get_default_timeout ((GDBusProxy *) self), NULL, NULL, error);
	g_object_unref (_message);
	if (!_reply_message) {
		return;
	}
	if (g_dbus_message_to_gerror (_reply_message, error)) {
		g_object_unref (_reply_message);
		return;
	}
	g_object_unref (_reply_message);
}

static void
contacts_freedesktop_application_proxy_contacts_freedesktop_application_interface_init (ContactsFreedesktopApplicationIface* iface)
{
	iface->ActivateAction = contacts_freedesktop_application_proxy_ActivateAction;
}

static void
_dbus_contacts_freedesktop_application_ActivateAction (ContactsFreedesktopApplication* self,
                                                       GVariant* _parameters_,
                                                       GDBusMethodInvocation* invocation)
{
	GError* error = NULL;
	GVariantIter _arguments_iter;
	gchar* action = NULL;
	GVariant* _tmp7_;
	GVariant** parameter = NULL;
	gint parameter_length1 = 0;
	GVariant* _tmp8_;
	GVariant** _tmp9_;
	gint _tmp9__length;
	gint _tmp9__size;
	gint _tmp9__length1;
	GVariantIter _tmp10_;
	GVariant* _tmp11_;
	GHashTable* data = NULL;
	GVariant* _tmp12_;
	GHashTable* _tmp13_;
	GVariantIter _tmp14_;
	GVariant* _tmp15_;
	GVariant* _tmp16_;
	GDBusMessage* _reply_message = NULL;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	_tmp7_ = g_variant_iter_next_value (&_arguments_iter);
	action = g_variant_dup_string (_tmp7_, NULL);
	g_variant_unref (_tmp7_);
	_tmp8_ = g_variant_iter_next_value (&_arguments_iter);
	_tmp9_ = g_new (GVariant*, 5);
	_tmp9__length = 0;
	_tmp9__size = 4;
	_tmp9__length1 = 0;
	g_variant_iter_init (&_tmp10_, _tmp8_);
	for (; (_tmp11_ = g_variant_iter_next_value (&_tmp10_)) != NULL; _tmp9__length1++) {
		if (_tmp9__size == _tmp9__length) {
			_tmp9__size = 2 * _tmp9__size;
			_tmp9_ = g_renew (GVariant*, _tmp9_, _tmp9__size + 1);
		}
		_tmp9_[_tmp9__length++] = g_variant_get_variant (_tmp11_);
		g_variant_unref (_tmp11_);
	}
	parameter_length1 = _tmp9__length1;
	_tmp9_[_tmp9__length] = NULL;
	parameter = _tmp9_;
	g_variant_unref (_tmp8_);
	_tmp12_ = g_variant_iter_next_value (&_arguments_iter);
	_tmp13_ = g_hash_table_new_full (g_str_hash, g_str_equal, g_free, (GDestroyNotify) g_variant_unref);
	g_variant_iter_init (&_tmp14_, _tmp12_);
	while (g_variant_iter_loop (&_tmp14_, "{?*}", &_tmp15_, &_tmp16_)) {
		g_hash_table_insert (_tmp13_, g_variant_dup_string (_tmp15_, NULL), g_variant_get_variant (_tmp16_));
	}
	data = _tmp13_;
	g_variant_unref (_tmp12_);
	contacts_freedesktop_application_ActivateAction (self, action, parameter, parameter_length1, data, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		g_error_free (error);
		return;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
	_g_free0 (action);
	parameter = (_vala_array_free (parameter, parameter_length1, (GDestroyNotify) g_variant_unref), NULL);
	_g_hash_table_unref0 (data);
}

static void
contacts_freedesktop_application_dbus_interface_method_call (GDBusConnection* connection,
                                                             const gchar* sender,
                                                             const gchar* object_path,
                                                             const gchar* interface_name,
                                                             const gchar* method_name,
                                                             GVariant* parameters,
                                                             GDBusMethodInvocation* invocation,
                                                             gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	if (strcmp (method_name, "ActivateAction") == 0) {
		_dbus_contacts_freedesktop_application_ActivateAction (object, parameters, invocation);
	} else {
		g_object_unref (invocation);
	}
}

static GVariant*
contacts_freedesktop_application_dbus_interface_get_property (GDBusConnection* connection,
                                                              const gchar* sender,
                                                              const gchar* object_path,
                                                              const gchar* interface_name,
                                                              const gchar* property_name,
                                                              GError** error,
                                                              gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	return NULL;
}

static gboolean
contacts_freedesktop_application_dbus_interface_set_property (GDBusConnection* connection,
                                                              const gchar* sender,
                                                              const gchar* object_path,
                                                              const gchar* interface_name,
                                                              const gchar* property_name,
                                                              GVariant* value,
                                                              GError** error,
                                                              gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	return FALSE;
}

guint
contacts_freedesktop_application_register_object (gpointer object,
                                                  GDBusConnection* connection,
                                                  const gchar* path,
                                                  GError** error)
{
	guint result;
	gpointer *data;
	data = g_new (gpointer, 3);
	data[0] = g_object_ref (object);
	data[1] = g_object_ref (connection);
	data[2] = g_strdup (path);
	result = g_dbus_connection_register_object (connection, path, (GDBusInterfaceInfo *) (&_contacts_freedesktop_application_dbus_interface_info), &_contacts_freedesktop_application_dbus_interface_vtable, data, _contacts_freedesktop_application_unregister_object, error);
	if (!result) {
		return 0;
	}
	return result;
}

static void
_contacts_freedesktop_application_unregister_object (gpointer user_data)
{
	gpointer* data;
	data = user_data;
	g_object_unref (data[0]);
	g_object_unref (data[1]);
	g_free (data[2]);
	g_free (data);
}

static gchar*
string_replace (const gchar* self,
                const gchar* old,
                const gchar* replacement)
{
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	GError* _inner_error0_ = NULL;
	gchar* result = NULL;
#line 1534 "glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1534 "glib-2.0.vapi"
	g_return_val_if_fail (old != NULL, NULL);
#line 1534 "glib-2.0.vapi"
	g_return_val_if_fail (replacement != NULL, NULL);
#line 1535 "glib-2.0.vapi"
	if ((*((gchar*) self)) == '\0') {
#line 1535 "glib-2.0.vapi"
		_tmp1_ = TRUE;
#line 712 "contacts-utils.c"
	} else {
#line 1535 "glib-2.0.vapi"
		_tmp1_ = (*((gchar*) old)) == '\0';
#line 716 "contacts-utils.c"
	}
#line 1535 "glib-2.0.vapi"
	if (_tmp1_) {
#line 1535 "glib-2.0.vapi"
		_tmp0_ = TRUE;
#line 722 "contacts-utils.c"
	} else {
#line 1535 "glib-2.0.vapi"
		_tmp0_ = g_strcmp0 (old, replacement) == 0;
#line 726 "contacts-utils.c"
	}
#line 1535 "glib-2.0.vapi"
	if (_tmp0_) {
#line 730 "contacts-utils.c"
		gchar* _tmp2_;
#line 1536 "glib-2.0.vapi"
		_tmp2_ = g_strdup (self);
#line 1536 "glib-2.0.vapi"
		result = _tmp2_;
#line 1536 "glib-2.0.vapi"
		return result;
#line 738 "contacts-utils.c"
	}
	{
		GRegex* regex = NULL;
		gchar* _tmp3_;
		gchar* _tmp4_;
		GRegex* _tmp5_;
		GRegex* _tmp6_;
		gchar* _tmp7_ = NULL;
		GRegex* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
#line 1539 "glib-2.0.vapi"
		_tmp3_ = g_regex_escape_string (old, -1);
#line 1539 "glib-2.0.vapi"
		_tmp4_ = _tmp3_;
#line 1539 "glib-2.0.vapi"
		_tmp5_ = g_regex_new (_tmp4_, 0, 0, &_inner_error0_);
#line 1539 "glib-2.0.vapi"
		_tmp6_ = _tmp5_;
#line 1539 "glib-2.0.vapi"
		_g_free0 (_tmp4_);
#line 1539 "glib-2.0.vapi"
		regex = _tmp6_;
#line 1539 "glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1539 "glib-2.0.vapi"
			if (_inner_error0_->domain == G_REGEX_ERROR) {
#line 766 "contacts-utils.c"
				goto __catch8_g_regex_error;
			}
#line 1539 "glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1539 "glib-2.0.vapi"
			g_clear_error (&_inner_error0_);
#line 1539 "glib-2.0.vapi"
			return NULL;
#line 775 "contacts-utils.c"
		}
#line 1540 "glib-2.0.vapi"
		_tmp8_ = regex;
#line 1540 "glib-2.0.vapi"
		_tmp9_ = g_regex_replace_literal (_tmp8_, self, (gssize) -1, 0, replacement, 0, &_inner_error0_);
#line 1540 "glib-2.0.vapi"
		_tmp7_ = _tmp9_;
#line 1540 "glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1540 "glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1540 "glib-2.0.vapi"
			if (_inner_error0_->domain == G_REGEX_ERROR) {
#line 789 "contacts-utils.c"
				goto __catch8_g_regex_error;
			}
#line 1540 "glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1540 "glib-2.0.vapi"
			g_clear_error (&_inner_error0_);
#line 1540 "glib-2.0.vapi"
			return NULL;
#line 798 "contacts-utils.c"
		}
#line 1540 "glib-2.0.vapi"
		_tmp10_ = _tmp7_;
#line 1540 "glib-2.0.vapi"
		_tmp7_ = NULL;
#line 1540 "glib-2.0.vapi"
		result = _tmp10_;
#line 1540 "glib-2.0.vapi"
		_g_free0 (_tmp7_);
#line 1540 "glib-2.0.vapi"
		_g_regex_unref0 (regex);
#line 1540 "glib-2.0.vapi"
		return result;
#line 812 "contacts-utils.c"
	}
	goto __finally8;
	__catch8_g_regex_error:
	{
		GError* e = NULL;
#line 1538 "glib-2.0.vapi"
		e = _inner_error0_;
#line 1538 "glib-2.0.vapi"
		_inner_error0_ = NULL;
#line 1542 "glib-2.0.vapi"
		g_assert_not_reached ();
#line 1538 "glib-2.0.vapi"
		_g_error_free0 (e);
#line 826 "contacts-utils.c"
	}
	__finally8:
#line 1538 "glib-2.0.vapi"
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1538 "glib-2.0.vapi"
	g_clear_error (&_inner_error0_);
#line 1538 "glib-2.0.vapi"
	return NULL;
#line 835 "contacts-utils.c"
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 50 "../src/contacts-utils.vala"
	return self ? g_object_ref (self) : NULL;
#line 843 "contacts-utils.c"
}

static gpointer
_g_variant_ref0 (gpointer self)
{
#line 59 "../src/contacts-utils.vala"
	return self ? g_variant_ref (self) : NULL;
#line 851 "contacts-utils.c"
}

static void
_vala_array_add1 (GVariant** * array,
                  gint* length,
                  gint* size,
                  GVariant* value)
{
#line 59 "../src/contacts-utils.vala"
	if ((*length) == (*size)) {
#line 59 "../src/contacts-utils.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 59 "../src/contacts-utils.vala"
		*array = g_renew (GVariant*, *array, (*size) + 1);
#line 866 "contacts-utils.c"
	}
#line 59 "../src/contacts-utils.vala"
	(*array)[(*length)++] = value;
#line 59 "../src/contacts-utils.vala"
	(*array)[*length] = NULL;
#line 872 "contacts-utils.c"
}

static void
_g_object_unref0_ (gpointer var)
{
#line 61 "../src/contacts-utils.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 880 "contacts-utils.c"
}

static inline void
_g_list_free__g_object_unref0_ (GList* self)
{
#line 61 "../src/contacts-utils.vala"
	g_list_free_full (self, (GDestroyNotify) _g_object_unref0_);
#line 888 "contacts-utils.c"
}

static void
_g_free0_ (gpointer var)
{
#line 63 "../src/contacts-utils.vala"
	var = (g_free (var), NULL);
#line 896 "contacts-utils.c"
}

static void
_g_variant_unref0_ (gpointer var)
{
#line 63 "../src/contacts-utils.vala"
	(var == NULL) ? NULL : (var = (g_variant_unref (var), NULL));
#line 904 "contacts-utils.c"
}

void
contacts_activate_action (const gchar* app_id,
                          const gchar* action,
                          GVariant* parameter,
                          guint32 timestamp)
{
	ContactsFreedesktopApplication* con = NULL;
	GError* _inner_error0_ = NULL;
#line 42 "../src/contacts-utils.vala"
	g_return_if_fail (app_id != NULL);
#line 42 "../src/contacts-utils.vala"
	g_return_if_fail (action != NULL);
#line 46 "../src/contacts-utils.vala"
	con = NULL;
#line 921 "contacts-utils.c"
	{
		gchar* object_path = NULL;
		gchar* _tmp0_;
		gchar* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		GdkDisplay* display = NULL;
		GdkDisplay* _tmp4_;
		GdkDisplay* _tmp5_;
		GDesktopAppInfo* info = NULL;
		gchar* _tmp6_;
		gchar* _tmp7_;
		GDesktopAppInfo* _tmp8_;
		GDesktopAppInfo* _tmp9_;
		GdkAppLaunchContext* context = NULL;
		GdkDisplay* _tmp10_;
		GdkAppLaunchContext* _tmp11_;
		ContactsFreedesktopApplication* _tmp12_ = NULL;
		const gchar* _tmp13_;
		ContactsFreedesktopApplication* _tmp14_;
		ContactsFreedesktopApplication* _tmp15_;
		GdkAppLaunchContext* _tmp16_;
		GVariant** param_array = NULL;
		GVariant** _tmp17_;
		gint param_array_length1;
		gint _param_array_size_;
		gchar* startup_id = NULL;
		GdkAppLaunchContext* _tmp20_;
		GDesktopAppInfo* _tmp21_;
		GList* _tmp22_;
		gchar* _tmp23_;
		gchar* _tmp24_;
		GHashTable* data = NULL;
		GHashFunc _tmp25_;
		GEqualFunc _tmp26_;
		GHashTable* _tmp27_;
		GHashTable* _tmp28_;
		gchar* _tmp29_;
		const gchar* _tmp30_;
		GVariant* _tmp31_;
		ContactsFreedesktopApplication* _tmp32_;
		GVariant** _tmp33_;
		gint _tmp33__length1;
		GHashTable* _tmp34_;
#line 49 "../src/contacts-utils.vala"
		_tmp0_ = string_replace (app_id, ".", "/");
#line 49 "../src/contacts-utils.vala"
		_tmp1_ = _tmp0_;
#line 49 "../src/contacts-utils.vala"
		_tmp2_ = g_strconcat ("/", _tmp1_, NULL);
#line 49 "../src/contacts-utils.vala"
		_tmp3_ = _tmp2_;
#line 49 "../src/contacts-utils.vala"
		_g_free0 (_tmp1_);
#line 49 "../src/contacts-utils.vala"
		object_path = _tmp3_;
#line 50 "../src/contacts-utils.vala"
		_tmp4_ = gdk_display_get_default ();
#line 50 "../src/contacts-utils.vala"
		_tmp5_ = _g_object_ref0 (_tmp4_);
#line 50 "../src/contacts-utils.vala"
		display = _tmp5_;
#line 51 "../src/contacts-utils.vala"
		_tmp6_ = g_strconcat (app_id, ".desktop", NULL);
#line 51 "../src/contacts-utils.vala"
		_tmp7_ = _tmp6_;
#line 51 "../src/contacts-utils.vala"
		_tmp8_ = g_desktop_app_info_new (_tmp7_);
#line 51 "../src/contacts-utils.vala"
		_tmp9_ = _tmp8_;
#line 51 "../src/contacts-utils.vala"
		_g_free0 (_tmp7_);
#line 51 "../src/contacts-utils.vala"
		info = _tmp9_;
#line 52 "../src/contacts-utils.vala"
		_tmp10_ = display;
#line 52 "../src/contacts-utils.vala"
		_tmp11_ = gdk_display_get_app_launch_context (_tmp10_);
#line 52 "../src/contacts-utils.vala"
		context = _tmp11_;
#line 54 "../src/contacts-utils.vala"
		_tmp13_ = object_path;
#line 54 "../src/contacts-utils.vala"
		_tmp14_ = (ContactsFreedesktopApplication*) g_initable_new (CONTACTS_TYPE_FREEDESKTOP_APPLICATION_PROXY, NULL, &_inner_error0_, "g-flags", 0, "g-name", app_id, "g-bus-type", G_BUS_TYPE_SESSION, "g-object-path", _tmp13_, "g-interface-name", "org.freedesktop.Application", "g-interface-info", g_type_get_qdata (CONTACTS_TYPE_FREEDESKTOP_APPLICATION, g_quark_from_static_string ("vala-dbus-interface-info")), NULL);
#line 54 "../src/contacts-utils.vala"
		_tmp12_ = (ContactsFreedesktopApplication*) _tmp14_;
#line 54 "../src/contacts-utils.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 54 "../src/contacts-utils.vala"
			_g_object_unref0 (context);
#line 54 "../src/contacts-utils.vala"
			_g_object_unref0 (info);
#line 54 "../src/contacts-utils.vala"
			_g_object_unref0 (display);
#line 54 "../src/contacts-utils.vala"
			_g_free0 (object_path);
#line 1018 "contacts-utils.c"
			goto __catch7_g_error;
		}
#line 54 "../src/contacts-utils.vala"
		_tmp15_ = _tmp12_;
#line 54 "../src/contacts-utils.vala"
		_tmp12_ = NULL;
#line 54 "../src/contacts-utils.vala"
		_g_object_unref0 (con);
#line 54 "../src/contacts-utils.vala"
		con = _tmp15_;
#line 55 "../src/contacts-utils.vala"
		_tmp16_ = context;
#line 55 "../src/contacts-utils.vala"
		gdk_app_launch_context_set_timestamp (_tmp16_, timestamp);
#line 57 "../src/contacts-utils.vala"
		_tmp17_ = g_new0 (GVariant*, 0 + 1);
#line 57 "../src/contacts-utils.vala"
		param_array = _tmp17_;
#line 57 "../src/contacts-utils.vala"
		param_array_length1 = 0;
#line 57 "../src/contacts-utils.vala"
		_param_array_size_ = param_array_length1;
#line 58 "../src/contacts-utils.vala"
		if (parameter != NULL) {
#line 1043 "contacts-utils.c"
			GVariant** _tmp18_;
			gint _tmp18__length1;
			GVariant* _tmp19_;
#line 59 "../src/contacts-utils.vala"
			_tmp18_ = param_array;
#line 59 "../src/contacts-utils.vala"
			_tmp18__length1 = param_array_length1;
#line 59 "../src/contacts-utils.vala"
			_tmp19_ = _g_variant_ref0 (parameter);
#line 59 "../src/contacts-utils.vala"
			_vala_array_add1 (&param_array, &param_array_length1, &_param_array_size_, _tmp19_);
#line 1055 "contacts-utils.c"
		}
#line 61 "../src/contacts-utils.vala"
		_tmp20_ = context;
#line 61 "../src/contacts-utils.vala"
		_tmp21_ = info;
#line 61 "../src/contacts-utils.vala"
		_tmp22_ = NULL;
#line 61 "../src/contacts-utils.vala"
		_tmp23_ = g_app_launch_context_get_startup_notify_id ((GAppLaunchContext*) _tmp20_, (GAppInfo*) _tmp21_, _tmp22_);
#line 61 "../src/contacts-utils.vala"
		_tmp24_ = _tmp23_;
#line 61 "../src/contacts-utils.vala"
		(_tmp22_ == NULL) ? NULL : (_tmp22_ = (_g_list_free__g_object_unref0_ (_tmp22_), NULL));
#line 61 "../src/contacts-utils.vala"
		startup_id = _tmp24_;
#line 63 "../src/contacts-utils.vala"
		_tmp25_ = g_str_hash;
#line 63 "../src/contacts-utils.vala"
		_tmp26_ = g_str_equal;
#line 63 "../src/contacts-utils.vala"
		_tmp27_ = g_hash_table_new_full (_tmp25_, _tmp26_, _g_free0_, _g_variant_unref0_);
#line 63 "../src/contacts-utils.vala"
		data = _tmp27_;
#line 64 "../src/contacts-utils.vala"
		_tmp28_ = data;
#line 64 "../src/contacts-utils.vala"
		_tmp29_ = g_strdup ("desktop-startup-id");
#line 64 "../src/contacts-utils.vala"
		_tmp30_ = startup_id;
#line 64 "../src/contacts-utils.vala"
		_tmp31_ = g_variant_new_string (_tmp30_);
#line 64 "../src/contacts-utils.vala"
		g_variant_ref_sink (_tmp31_);
#line 64 "../src/contacts-utils.vala"
		g_hash_table_insert (_tmp28_, _tmp29_, _tmp31_);
#line 65 "../src/contacts-utils.vala"
		_tmp32_ = con;
#line 65 "../src/contacts-utils.vala"
		_tmp33_ = param_array;
#line 65 "../src/contacts-utils.vala"
		_tmp33__length1 = param_array_length1;
#line 65 "../src/contacts-utils.vala"
		_tmp34_ = data;
#line 65 "../src/contacts-utils.vala"
		contacts_freedesktop_application_ActivateAction (_tmp32_, action, _tmp33_, (gint) _tmp33__length1, _tmp34_, &_inner_error0_);
#line 65 "../src/contacts-utils.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 65 "../src/contacts-utils.vala"
			_g_hash_table_unref0 (data);
#line 65 "../src/contacts-utils.vala"
			_g_free0 (startup_id);
#line 65 "../src/contacts-utils.vala"
			param_array = (_vala_array_free (param_array, param_array_length1, (GDestroyNotify) g_variant_unref), NULL);
#line 65 "../src/contacts-utils.vala"
			_g_object_unref0 (_tmp12_);
#line 65 "../src/contacts-utils.vala"
			_g_object_unref0 (context);
#line 65 "../src/contacts-utils.vala"
			_g_object_unref0 (info);
#line 65 "../src/contacts-utils.vala"
			_g_object_unref0 (display);
#line 65 "../src/contacts-utils.vala"
			_g_free0 (object_path);
#line 1119 "contacts-utils.c"
			goto __catch7_g_error;
		}
#line 48 "../src/contacts-utils.vala"
		_g_hash_table_unref0 (data);
#line 48 "../src/contacts-utils.vala"
		_g_free0 (startup_id);
#line 48 "../src/contacts-utils.vala"
		param_array = (_vala_array_free (param_array, param_array_length1, (GDestroyNotify) g_variant_unref), NULL);
#line 48 "../src/contacts-utils.vala"
		_g_object_unref0 (_tmp12_);
#line 48 "../src/contacts-utils.vala"
		_g_object_unref0 (context);
#line 48 "../src/contacts-utils.vala"
		_g_object_unref0 (info);
#line 48 "../src/contacts-utils.vala"
		_g_object_unref0 (display);
#line 48 "../src/contacts-utils.vala"
		_g_free0 (object_path);
#line 1138 "contacts-utils.c"
	}
	goto __finally7;
	__catch7_g_error:
	{
		GError* e = NULL;
		gchar* _tmp35_;
		gchar* _tmp36_;
#line 48 "../src/contacts-utils.vala"
		e = _inner_error0_;
#line 48 "../src/contacts-utils.vala"
		_inner_error0_ = NULL;
#line 67 "../src/contacts-utils.vala"
		_tmp35_ = g_strconcat ("Failed to activate action", action, NULL);
#line 67 "../src/contacts-utils.vala"
		_tmp36_ = _tmp35_;
#line 67 "../src/contacts-utils.vala"
		g_debug ("contacts-utils.vala:67: %s", _tmp36_);
#line 67 "../src/contacts-utils.vala"
		_g_free0 (_tmp36_);
#line 48 "../src/contacts-utils.vala"
		_g_error_free0 (e);
#line 1160 "contacts-utils.c"
	}
	__finally7:
#line 48 "../src/contacts-utils.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 48 "../src/contacts-utils.vala"
		_g_object_unref0 (con);
#line 48 "../src/contacts-utils.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 48 "../src/contacts-utils.vala"
		g_clear_error (&_inner_error0_);
#line 48 "../src/contacts-utils.vala"
		return;
#line 1173 "contacts-utils.c"
	}
#line 42 "../src/contacts-utils.vala"
	_g_object_unref0 (con);
#line 1177 "contacts-utils.c"
}

void
contacts_utils_compose_mail (const gchar* email)
{
	gchar* mailto_uri = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	GError* _inner_error0_ = NULL;
#line 73 "../src/contacts-utils.vala"
	g_return_if_fail (email != NULL);
#line 74 "../src/contacts-utils.vala"
	_tmp0_ = g_uri_escape_string (email, "@", FALSE);
#line 74 "../src/contacts-utils.vala"
	_tmp1_ = _tmp0_;
#line 74 "../src/contacts-utils.vala"
	_tmp2_ = g_strconcat ("mailto:", _tmp1_, NULL);
#line 74 "../src/contacts-utils.vala"
	_tmp3_ = _tmp2_;
#line 74 "../src/contacts-utils.vala"
	_g_free0 (_tmp1_);
#line 74 "../src/contacts-utils.vala"
	mailto_uri = _tmp3_;
#line 1203 "contacts-utils.c"
	{
#line 76 "../src/contacts-utils.vala"
		gtk_show_uri_on_window (NULL, mailto_uri, (guint32) 0, &_inner_error0_);
#line 76 "../src/contacts-utils.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1209 "contacts-utils.c"
			goto __catch9_g_error;
		}
	}
	goto __finally9;
	__catch9_g_error:
	{
		GError* e = NULL;
		GError* _tmp4_;
		const gchar* _tmp5_;
#line 75 "../src/contacts-utils.vala"
		e = _inner_error0_;
#line 75 "../src/contacts-utils.vala"
		_inner_error0_ = NULL;
#line 78 "../src/contacts-utils.vala"
		_tmp4_ = e;
#line 78 "../src/contacts-utils.vala"
		_tmp5_ = _tmp4_->message;
#line 78 "../src/contacts-utils.vala"
		g_debug ("contacts-utils.vala:78: Couldn't launch URI \"%s\": %s", mailto_uri, _tmp5_);
#line 75 "../src/contacts-utils.vala"
		_g_error_free0 (e);
#line 1231 "contacts-utils.c"
	}
	__finally9:
#line 75 "../src/contacts-utils.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 75 "../src/contacts-utils.vala"
		_g_free0 (mailto_uri);
#line 75 "../src/contacts-utils.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 75 "../src/contacts-utils.vala"
		g_clear_error (&_inner_error0_);
#line 75 "../src/contacts-utils.vala"
		return;
#line 1244 "contacts-utils.c"
	}
#line 73 "../src/contacts-utils.vala"
	_g_free0 (mailto_uri);
#line 1248 "contacts-utils.c"
}

gpointer
contacts_utils_get_first (GType t_type,
                          GBoxedCopyFunc t_dup_func,
                          GDestroyNotify t_destroy_func,
                          GeeCollection* collection)
{
	GeeIterator* i = NULL;
	GeeIterator* _tmp0_;
	GeeIterator* _tmp1_;
	gpointer result = NULL;
#line 117 "../src/contacts-utils.vala"
	g_return_val_if_fail (collection != NULL, NULL);
#line 118 "../src/contacts-utils.vala"
	_tmp0_ = gee_iterable_iterator ((GeeIterable*) collection);
#line 118 "../src/contacts-utils.vala"
	i = _tmp0_;
#line 119 "../src/contacts-utils.vala"
	_tmp1_ = i;
#line 119 "../src/contacts-utils.vala"
	if (gee_iterator_next (_tmp1_)) {
#line 1271 "contacts-utils.c"
		GeeIterator* _tmp2_;
		gpointer _tmp3_;
#line 120 "../src/contacts-utils.vala"
		_tmp2_ = i;
#line 120 "../src/contacts-utils.vala"
		_tmp3_ = gee_iterator_get (_tmp2_);
#line 120 "../src/contacts-utils.vala"
		result = _tmp3_;
#line 120 "../src/contacts-utils.vala"
		_g_object_unref0 (i);
#line 120 "../src/contacts-utils.vala"
		return result;
#line 1284 "contacts-utils.c"
	}
#line 121 "../src/contacts-utils.vala"
	result = NULL;
#line 121 "../src/contacts-utils.vala"
	_g_object_unref0 (i);
#line 121 "../src/contacts-utils.vala"
	return result;
#line 1292 "contacts-utils.c"
}

void
contacts_utils_grab_entry_focus_no_select (GtkEntry* entry)
{
	gint start = 0;
	gint end = 0;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	gboolean _tmp2_;
#line 124 "../src/contacts-utils.vala"
	g_return_if_fail (entry != NULL);
#line 126 "../src/contacts-utils.vala"
	_tmp2_ = gtk_editable_get_selection_bounds ((GtkEditable*) entry, &_tmp0_, &_tmp1_);
#line 126 "../src/contacts-utils.vala"
	start = _tmp0_;
#line 126 "../src/contacts-utils.vala"
	end = _tmp1_;
#line 126 "../src/contacts-utils.vala"
	if (!_tmp2_) {
#line 127 "../src/contacts-utils.vala"
		end = gtk_editable_get_position ((GtkEditable*) entry);
#line 127 "../src/contacts-utils.vala"
		start = end;
#line 1317 "contacts-utils.c"
	}
#line 129 "../src/contacts-utils.vala"
	gtk_widget_grab_focus ((GtkWidget*) entry);
#line 130 "../src/contacts-utils.vala"
	gtk_editable_select_region ((GtkEditable*) entry, start, end);
#line 1323 "contacts-utils.c"
}

static gchar**
_vala_array_dup2 (gchar** self,
                  gint length)
{
	gchar** result;
	gint i;
#line 135 "../src/contacts-utils.vala"
	result = g_new0 (gchar*, length + 1);
#line 135 "../src/contacts-utils.vala"
	for (i = 0; i < length; i++) {
#line 1336 "contacts-utils.c"
		gchar* _tmp0_;
#line 135 "../src/contacts-utils.vala"
		_tmp0_ = g_strdup (self[i]);
#line 135 "../src/contacts-utils.vala"
		result[i] = _tmp0_;
#line 1342 "contacts-utils.c"
	}
#line 135 "../src/contacts-utils.vala"
	return result;
#line 1346 "contacts-utils.c"
}

static void
_vala_array_add2 (gchar** * array,
                  gint* length,
                  gint* size,
                  gchar* value)
{
#line 148 "../src/contacts-utils.vala"
	if ((*length) == (*size)) {
#line 148 "../src/contacts-utils.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 148 "../src/contacts-utils.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 1361 "contacts-utils.c"
	}
#line 148 "../src/contacts-utils.vala"
	(*array)[(*length)++] = value;
#line 148 "../src/contacts-utils.vala"
	(*array)[*length] = NULL;
#line 1367 "contacts-utils.c"
}

gchar**
contacts_utils_get_stock_avatars (gint* result_length1)
{
	gchar** files = NULL;
	gchar** _tmp0_;
	gint files_length1;
	gint _files_size_;
	gchar** system_data_dirs = NULL;
	gchar** _tmp1_;
	gchar** _tmp2_;
	gchar** _tmp3_;
	gint _tmp3__length1;
	gint system_data_dirs_length1;
	gint _system_data_dirs_size_;
	gchar** _tmp4_;
	gint _tmp4__length1;
	gchar** _tmp26_;
	gint _tmp26__length1;
	GError* _inner_error0_ = NULL;
	gchar** result = NULL;
#line 134 "../src/contacts-utils.vala"
	_tmp0_ = g_new0 (gchar*, 0 + 1);
#line 134 "../src/contacts-utils.vala"
	files = _tmp0_;
#line 134 "../src/contacts-utils.vala"
	files_length1 = 0;
#line 134 "../src/contacts-utils.vala"
	_files_size_ = files_length1;
#line 135 "../src/contacts-utils.vala"
	_tmp2_ = _tmp1_ = g_get_system_data_dirs ();
#line 135 "../src/contacts-utils.vala"
	_tmp3_ = (_tmp2_ != NULL) ? _vala_array_dup2 (_tmp2_, _vala_array_length (_tmp1_)) : ((gpointer) _tmp2_);
#line 135 "../src/contacts-utils.vala"
	_tmp3__length1 = _vala_array_length (_tmp1_);
#line 135 "../src/contacts-utils.vala"
	system_data_dirs = _tmp3_;
#line 135 "../src/contacts-utils.vala"
	system_data_dirs_length1 = _tmp3__length1;
#line 135 "../src/contacts-utils.vala"
	_system_data_dirs_size_ = system_data_dirs_length1;
#line 136 "../src/contacts-utils.vala"
	_tmp4_ = system_data_dirs;
#line 136 "../src/contacts-utils.vala"
	_tmp4__length1 = system_data_dirs_length1;
#line 1414 "contacts-utils.c"
	{
		gchar** data_dir_collection = NULL;
		gint data_dir_collection_length1 = 0;
		gint _data_dir_collection_size_ = 0;
		gint data_dir_it = 0;
#line 136 "../src/contacts-utils.vala"
		data_dir_collection = _tmp4_;
#line 136 "../src/contacts-utils.vala"
		data_dir_collection_length1 = _tmp4__length1;
#line 136 "../src/contacts-utils.vala"
		for (data_dir_it = 0; data_dir_it < data_dir_collection_length1; data_dir_it = data_dir_it + 1) {
#line 1426 "contacts-utils.c"
			gchar* _tmp5_;
			gchar* data_dir = NULL;
#line 136 "../src/contacts-utils.vala"
			_tmp5_ = g_strdup (data_dir_collection[data_dir_it]);
#line 136 "../src/contacts-utils.vala"
			data_dir = _tmp5_;
#line 1433 "contacts-utils.c"
			{
				gchar* path = NULL;
				const gchar* _tmp6_;
				gchar* _tmp7_;
				GDir* dir = NULL;
				GDir* _tmp15_;
#line 137 "../src/contacts-utils.vala"
				_tmp6_ = data_dir;
#line 137 "../src/contacts-utils.vala"
				_tmp7_ = g_build_filename (_tmp6_, "pixmaps", "faces", NULL);
#line 137 "../src/contacts-utils.vala"
				path = _tmp7_;
#line 138 "../src/contacts-utils.vala"
				dir = NULL;
#line 1448 "contacts-utils.c"
				{
					GDir* _tmp8_ = NULL;
					const gchar* _tmp9_;
					GDir* _tmp10_;
					GDir* _tmp11_;
#line 140 "../src/contacts-utils.vala"
					_tmp9_ = path;
#line 140 "../src/contacts-utils.vala"
					_tmp10_ = g_dir_open (_tmp9_, (guint) 0, &_inner_error0_);
#line 140 "../src/contacts-utils.vala"
					_tmp8_ = _tmp10_;
#line 140 "../src/contacts-utils.vala"
					if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1462 "contacts-utils.c"
						goto __catch10_g_error;
					}
#line 140 "../src/contacts-utils.vala"
					_tmp11_ = _tmp8_;
#line 140 "../src/contacts-utils.vala"
					_tmp8_ = NULL;
#line 140 "../src/contacts-utils.vala"
					_g_dir_close0 (dir);
#line 140 "../src/contacts-utils.vala"
					dir = _tmp11_;
#line 139 "../src/contacts-utils.vala"
					_g_dir_close0 (_tmp8_);
#line 1475 "contacts-utils.c"
				}
				goto __finally10;
				__catch10_g_error:
				{
					GError* e = NULL;
					const gchar* _tmp12_;
					GError* _tmp13_;
					const gchar* _tmp14_;
#line 139 "../src/contacts-utils.vala"
					e = _inner_error0_;
#line 139 "../src/contacts-utils.vala"
					_inner_error0_ = NULL;
#line 142 "../src/contacts-utils.vala"
					_tmp12_ = path;
#line 142 "../src/contacts-utils.vala"
					_tmp13_ = e;
#line 142 "../src/contacts-utils.vala"
					_tmp14_ = _tmp13_->message;
#line 142 "../src/contacts-utils.vala"
					g_debug ("contacts-utils.vala:142: Couldn't open stock avatars folder \"%s\": %s", _tmp12_, _tmp14_);
#line 139 "../src/contacts-utils.vala"
					_g_error_free0 (e);
#line 1498 "contacts-utils.c"
				}
				__finally10:
#line 139 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 139 "../src/contacts-utils.vala"
					_g_dir_close0 (dir);
#line 139 "../src/contacts-utils.vala"
					_g_free0 (path);
#line 139 "../src/contacts-utils.vala"
					_g_free0 (data_dir);
#line 139 "../src/contacts-utils.vala"
					system_data_dirs = (_vala_array_free (system_data_dirs, system_data_dirs_length1, (GDestroyNotify) g_free), NULL);
#line 139 "../src/contacts-utils.vala"
					files = (_vala_array_free (files, files_length1, (GDestroyNotify) g_free), NULL);
#line 139 "../src/contacts-utils.vala"
					g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 139 "../src/contacts-utils.vala"
					g_clear_error (&_inner_error0_);
#line 139 "../src/contacts-utils.vala"
					return NULL;
#line 1519 "contacts-utils.c"
				}
#line 144 "../src/contacts-utils.vala"
				_tmp15_ = dir;
#line 144 "../src/contacts-utils.vala"
				if (_tmp15_ != NULL) {
#line 1525 "contacts-utils.c"
					gchar* face = NULL;
#line 146 "../src/contacts-utils.vala"
					while (TRUE) {
#line 1529 "contacts-utils.c"
						GDir* _tmp16_;
						const gchar* _tmp17_;
						gchar* _tmp18_;
						const gchar* _tmp19_;
						gchar* filename = NULL;
						const gchar* _tmp20_;
						const gchar* _tmp21_;
						gchar* _tmp22_;
						gchar** _tmp23_;
						gint _tmp23__length1;
						const gchar* _tmp24_;
						gchar* _tmp25_;
#line 146 "../src/contacts-utils.vala"
						_tmp16_ = dir;
#line 146 "../src/contacts-utils.vala"
						_tmp17_ = g_dir_read_name (_tmp16_);
#line 146 "../src/contacts-utils.vala"
						_tmp18_ = g_strdup (_tmp17_);
#line 146 "../src/contacts-utils.vala"
						_g_free0 (face);
#line 146 "../src/contacts-utils.vala"
						face = _tmp18_;
#line 146 "../src/contacts-utils.vala"
						_tmp19_ = face;
#line 146 "../src/contacts-utils.vala"
						if (!(_tmp19_ != NULL)) {
#line 146 "../src/contacts-utils.vala"
							break;
#line 1558 "contacts-utils.c"
						}
#line 147 "../src/contacts-utils.vala"
						_tmp20_ = path;
#line 147 "../src/contacts-utils.vala"
						_tmp21_ = face;
#line 147 "../src/contacts-utils.vala"
						_tmp22_ = g_build_filename (_tmp20_, _tmp21_, NULL);
#line 147 "../src/contacts-utils.vala"
						filename = _tmp22_;
#line 148 "../src/contacts-utils.vala"
						_tmp23_ = files;
#line 148 "../src/contacts-utils.vala"
						_tmp23__length1 = files_length1;
#line 148 "../src/contacts-utils.vala"
						_tmp24_ = filename;
#line 148 "../src/contacts-utils.vala"
						_tmp25_ = g_strdup (_tmp24_);
#line 148 "../src/contacts-utils.vala"
						_vala_array_add2 (&files, &files_length1, &_files_size_, _tmp25_);
#line 146 "../src/contacts-utils.vala"
						_g_free0 (filename);
#line 1580 "contacts-utils.c"
					}
#line 144 "../src/contacts-utils.vala"
					_g_free0 (face);
#line 1584 "contacts-utils.c"
				}
#line 136 "../src/contacts-utils.vala"
				_g_dir_close0 (dir);
#line 136 "../src/contacts-utils.vala"
				_g_free0 (path);
#line 136 "../src/contacts-utils.vala"
				_g_free0 (data_dir);
#line 1592 "contacts-utils.c"
			}
		}
	}
#line 152 "../src/contacts-utils.vala"
	_tmp26_ = files;
#line 152 "../src/contacts-utils.vala"
	_tmp26__length1 = files_length1;
#line 152 "../src/contacts-utils.vala"
	if (result_length1) {
#line 152 "../src/contacts-utils.vala"
		*result_length1 = _tmp26__length1;
#line 1604 "contacts-utils.c"
	}
#line 152 "../src/contacts-utils.vala"
	result = _tmp26_;
#line 152 "../src/contacts-utils.vala"
	system_data_dirs = (_vala_array_free (system_data_dirs, system_data_dirs_length1, (GDestroyNotify) g_free), NULL);
#line 152 "../src/contacts-utils.vala"
	return result;
#line 1612 "contacts-utils.c"
}

static void
_vala_array_add3 (FolksPersonaStore** * array,
                  gint* length,
                  gint* size,
                  FolksPersonaStore* value)
{
#line 160 "../src/contacts-utils.vala"
	if ((*length) == (*size)) {
#line 160 "../src/contacts-utils.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 160 "../src/contacts-utils.vala"
		*array = g_renew (FolksPersonaStore*, *array, (*size) + 1);
#line 1627 "contacts-utils.c"
	}
#line 160 "../src/contacts-utils.vala"
	(*array)[(*length)++] = value;
#line 160 "../src/contacts-utils.vala"
	(*array)[*length] = NULL;
#line 1633 "contacts-utils.c"
}

FolksPersonaStore**
contacts_utils_get_eds_address_books (ContactsStore* contacts_store,
                                      gint* result_length1)
{
	FolksPersonaStore** stores = NULL;
	FolksPersonaStore** _tmp0_;
	gint stores_length1;
	gint _stores_size_;
	FolksPersonaStore** _tmp30_;
	gint _tmp30__length1;
	FolksPersonaStore** result = NULL;
#line 155 "../src/contacts-utils.vala"
	g_return_val_if_fail (contacts_store != NULL, NULL);
#line 156 "../src/contacts-utils.vala"
	_tmp0_ = g_new0 (FolksPersonaStore*, 0 + 1);
#line 156 "../src/contacts-utils.vala"
	stores = _tmp0_;
#line 156 "../src/contacts-utils.vala"
	stores_length1 = 0;
#line 156 "../src/contacts-utils.vala"
	_stores_size_ = stores_length1;
#line 1657 "contacts-utils.c"
	{
		GeeIterator* _backend_it = NULL;
		FolksBackendStore* _tmp1_;
		FolksBackendStore* _tmp2_;
		GeeMap* _tmp3_;
		GeeMap* _tmp4_;
		GeeCollection* _tmp5_;
		GeeCollection* _tmp6_;
		GeeCollection* _tmp7_;
		GeeIterator* _tmp8_;
		GeeIterator* _tmp9_;
#line 157 "../src/contacts-utils.vala"
		_tmp1_ = contacts_store_get_backend_store (contacts_store);
#line 157 "../src/contacts-utils.vala"
		_tmp2_ = _tmp1_;
#line 157 "../src/contacts-utils.vala"
		_tmp3_ = folks_backend_store_get_enabled_backends (_tmp2_);
#line 157 "../src/contacts-utils.vala"
		_tmp4_ = _tmp3_;
#line 157 "../src/contacts-utils.vala"
		_tmp5_ = gee_map_get_values (_tmp4_);
#line 157 "../src/contacts-utils.vala"
		_tmp6_ = _tmp5_;
#line 157 "../src/contacts-utils.vala"
		_tmp7_ = _tmp6_;
#line 157 "../src/contacts-utils.vala"
		_tmp8_ = gee_iterable_iterator ((GeeIterable*) _tmp7_);
#line 157 "../src/contacts-utils.vala"
		_tmp9_ = _tmp8_;
#line 157 "../src/contacts-utils.vala"
		_g_object_unref0 (_tmp7_);
#line 157 "../src/contacts-utils.vala"
		_backend_it = _tmp9_;
#line 157 "../src/contacts-utils.vala"
		while (TRUE) {
#line 1693 "contacts-utils.c"
			GeeIterator* _tmp10_;
			FolksBackend* backend = NULL;
			GeeIterator* _tmp11_;
			gpointer _tmp12_;
#line 157 "../src/contacts-utils.vala"
			_tmp10_ = _backend_it;
#line 157 "../src/contacts-utils.vala"
			if (!gee_iterator_next (_tmp10_)) {
#line 157 "../src/contacts-utils.vala"
				break;
#line 1704 "contacts-utils.c"
			}
#line 157 "../src/contacts-utils.vala"
			_tmp11_ = _backend_it;
#line 157 "../src/contacts-utils.vala"
			_tmp12_ = gee_iterator_get (_tmp11_);
#line 157 "../src/contacts-utils.vala"
			backend = (FolksBackend*) _tmp12_;
#line 1712 "contacts-utils.c"
			{
				GeeIterator* _persona_store_it = NULL;
				FolksBackend* _tmp13_;
				GeeMap* _tmp14_;
				GeeMap* _tmp15_;
				GeeCollection* _tmp16_;
				GeeCollection* _tmp17_;
				GeeCollection* _tmp18_;
				GeeIterator* _tmp19_;
				GeeIterator* _tmp20_;
#line 158 "../src/contacts-utils.vala"
				_tmp13_ = backend;
#line 158 "../src/contacts-utils.vala"
				_tmp14_ = folks_backend_get_persona_stores (_tmp13_);
#line 158 "../src/contacts-utils.vala"
				_tmp15_ = _tmp14_;
#line 158 "../src/contacts-utils.vala"
				_tmp16_ = gee_map_get_values (_tmp15_);
#line 158 "../src/contacts-utils.vala"
				_tmp17_ = _tmp16_;
#line 158 "../src/contacts-utils.vala"
				_tmp18_ = _tmp17_;
#line 158 "../src/contacts-utils.vala"
				_tmp19_ = gee_iterable_iterator ((GeeIterable*) _tmp18_);
#line 158 "../src/contacts-utils.vala"
				_tmp20_ = _tmp19_;
#line 158 "../src/contacts-utils.vala"
				_g_object_unref0 (_tmp18_);
#line 158 "../src/contacts-utils.vala"
				_persona_store_it = _tmp20_;
#line 158 "../src/contacts-utils.vala"
				while (TRUE) {
#line 1745 "contacts-utils.c"
					GeeIterator* _tmp21_;
					FolksPersonaStore* persona_store = NULL;
					GeeIterator* _tmp22_;
					gpointer _tmp23_;
					FolksPersonaStore* _tmp24_;
					const gchar* _tmp25_;
					const gchar* _tmp26_;
#line 158 "../src/contacts-utils.vala"
					_tmp21_ = _persona_store_it;
#line 158 "../src/contacts-utils.vala"
					if (!gee_iterator_next (_tmp21_)) {
#line 158 "../src/contacts-utils.vala"
						break;
#line 1759 "contacts-utils.c"
					}
#line 158 "../src/contacts-utils.vala"
					_tmp22_ = _persona_store_it;
#line 158 "../src/contacts-utils.vala"
					_tmp23_ = gee_iterator_get (_tmp22_);
#line 158 "../src/contacts-utils.vala"
					persona_store = (FolksPersonaStore*) _tmp23_;
#line 159 "../src/contacts-utils.vala"
					_tmp24_ = persona_store;
#line 159 "../src/contacts-utils.vala"
					_tmp25_ = folks_persona_store_get_type_id (_tmp24_);
#line 159 "../src/contacts-utils.vala"
					_tmp26_ = _tmp25_;
#line 159 "../src/contacts-utils.vala"
					if (g_strcmp0 (_tmp26_, "eds") == 0) {
#line 1775 "contacts-utils.c"
						FolksPersonaStore** _tmp27_;
						gint _tmp27__length1;
						FolksPersonaStore* _tmp28_;
						FolksPersonaStore* _tmp29_;
#line 160 "../src/contacts-utils.vala"
						_tmp27_ = stores;
#line 160 "../src/contacts-utils.vala"
						_tmp27__length1 = stores_length1;
#line 160 "../src/contacts-utils.vala"
						_tmp28_ = persona_store;
#line 160 "../src/contacts-utils.vala"
						_tmp29_ = _g_object_ref0 (_tmp28_);
#line 160 "../src/contacts-utils.vala"
						_vala_array_add3 (&stores, &stores_length1, &_stores_size_, _tmp29_);
#line 1790 "contacts-utils.c"
					}
#line 158 "../src/contacts-utils.vala"
					_g_object_unref0 (persona_store);
#line 1794 "contacts-utils.c"
				}
#line 158 "../src/contacts-utils.vala"
				_g_object_unref0 (_persona_store_it);
#line 1798 "contacts-utils.c"
			}
#line 157 "../src/contacts-utils.vala"
			_g_object_unref0 (backend);
#line 1802 "contacts-utils.c"
		}
#line 157 "../src/contacts-utils.vala"
		_g_object_unref0 (_backend_it);
#line 1806 "contacts-utils.c"
	}
#line 164 "../src/contacts-utils.vala"
	_tmp30_ = stores;
#line 164 "../src/contacts-utils.vala"
	_tmp30__length1 = stores_length1;
#line 164 "../src/contacts-utils.vala"
	if (result_length1) {
#line 164 "../src/contacts-utils.vala"
		*result_length1 = _tmp30__length1;
#line 1816 "contacts-utils.c"
	}
#line 164 "../src/contacts-utils.vala"
	result = _tmp30_;
#line 164 "../src/contacts-utils.vala"
	return result;
#line 1822 "contacts-utils.c"
}

void
contacts_utils_show_error_dialog (const gchar* _error_,
                                  GtkWindow* toplevel)
{
	GtkMessageDialog* dialog = NULL;
	GtkMessageDialog* _tmp0_;
#line 167 "../src/contacts-utils.vala"
	g_return_if_fail (_error_ != NULL);
#line 167 "../src/contacts-utils.vala"
	g_return_if_fail (toplevel != NULL);
#line 168 "../src/contacts-utils.vala"
	_tmp0_ = (GtkMessageDialog*) gtk_message_dialog_new (toplevel, GTK_DIALOG_MODAL, GTK_MESSAGE_ERROR, GTK_BUTTONS_OK, "%s", _error_);
#line 168 "../src/contacts-utils.vala"
	g_object_ref_sink (_tmp0_);
#line 168 "../src/contacts-utils.vala"
	dialog = _tmp0_;
#line 173 "../src/contacts-utils.vala"
	gtk_dialog_run ((GtkDialog*) dialog);
#line 174 "../src/contacts-utils.vala"
	gtk_widget_destroy ((GtkWidget*) dialog);
#line 167 "../src/contacts-utils.vala"
	_g_object_unref0 (dialog);
#line 1847 "contacts-utils.c"
}

gboolean
contacts_utils_has_main_persona (FolksIndividual* individual)
{
	gboolean _result_ = FALSE;
	gboolean result = FALSE;
#line 177 "../src/contacts-utils.vala"
	g_return_val_if_fail (individual != NULL, FALSE);
#line 178 "../src/contacts-utils.vala"
	_result_ = FALSE;
#line 1859 "contacts-utils.c"
	{
		GeeIterator* _p_it = NULL;
		GeeSet* _tmp0_;
		GeeSet* _tmp1_;
		GeeIterator* _tmp2_;
#line 179 "../src/contacts-utils.vala"
		_tmp0_ = folks_individual_get_personas (individual);
#line 179 "../src/contacts-utils.vala"
		_tmp1_ = _tmp0_;
#line 179 "../src/contacts-utils.vala"
		_tmp2_ = gee_iterable_iterator ((GeeIterable*) _tmp1_);
#line 179 "../src/contacts-utils.vala"
		_p_it = _tmp2_;
#line 179 "../src/contacts-utils.vala"
		while (TRUE) {
#line 1875 "contacts-utils.c"
			GeeIterator* _tmp3_;
			FolksPersona* p = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			gboolean _tmp6_ = FALSE;
			FolksPersona* _tmp7_;
			FolksPersonaStore* _tmp8_;
			FolksPersonaStore* _tmp9_;
			gboolean _tmp10_;
			gboolean _tmp11_;
#line 179 "../src/contacts-utils.vala"
			_tmp3_ = _p_it;
#line 179 "../src/contacts-utils.vala"
			if (!gee_iterator_next (_tmp3_)) {
#line 179 "../src/contacts-utils.vala"
				break;
#line 1892 "contacts-utils.c"
			}
#line 179 "../src/contacts-utils.vala"
			_tmp4_ = _p_it;
#line 179 "../src/contacts-utils.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 179 "../src/contacts-utils.vala"
			p = (FolksPersona*) _tmp5_;
#line 180 "../src/contacts-utils.vala"
			_tmp7_ = p;
#line 180 "../src/contacts-utils.vala"
			_tmp8_ = folks_persona_get_store (_tmp7_);
#line 180 "../src/contacts-utils.vala"
			_tmp9_ = _tmp8_;
#line 180 "../src/contacts-utils.vala"
			_tmp10_ = folks_persona_store_get_is_primary_store (_tmp9_);
#line 180 "../src/contacts-utils.vala"
			_tmp11_ = _tmp10_;
#line 180 "../src/contacts-utils.vala"
			if (_tmp11_) {
#line 1912 "contacts-utils.c"
				FolksPersona* _tmp12_;
#line 180 "../src/contacts-utils.vala"
				_tmp12_ = p;
#line 180 "../src/contacts-utils.vala"
				_tmp6_ = !contacts_utils_persona_is_google_other (_tmp12_);
#line 1918 "contacts-utils.c"
			} else {
#line 180 "../src/contacts-utils.vala"
				_tmp6_ = FALSE;
#line 1922 "contacts-utils.c"
			}
#line 180 "../src/contacts-utils.vala"
			_result_ |= _tmp6_;
#line 179 "../src/contacts-utils.vala"
			_g_object_unref0 (p);
#line 1928 "contacts-utils.c"
		}
#line 179 "../src/contacts-utils.vala"
		_g_object_unref0 (_p_it);
#line 1932 "contacts-utils.c"
	}
#line 182 "../src/contacts-utils.vala"
	result = _result_;
#line 182 "../src/contacts-utils.vala"
	return result;
#line 1938 "contacts-utils.c"
}

gboolean
contacts_utils_is_ignorable (FolksIndividual* individual)
{
	GeeIterator* i = NULL;
	GeeSet* _tmp0_;
	GeeSet* _tmp1_;
	GeeIterator* _tmp2_;
	gboolean _tmp3_ = FALSE;
	GeeIterator* _tmp4_;
	gboolean result = FALSE;
#line 185 "../src/contacts-utils.vala"
	g_return_val_if_fail (individual != NULL, FALSE);
#line 186 "../src/contacts-utils.vala"
	_tmp0_ = folks_individual_get_personas (individual);
#line 186 "../src/contacts-utils.vala"
	_tmp1_ = _tmp0_;
#line 186 "../src/contacts-utils.vala"
	_tmp2_ = gee_iterable_iterator ((GeeIterable*) _tmp1_);
#line 186 "../src/contacts-utils.vala"
	i = _tmp2_;
#line 189 "../src/contacts-utils.vala"
	_tmp4_ = i;
#line 189 "../src/contacts-utils.vala"
	if (gee_iterator_next (_tmp4_)) {
#line 1965 "contacts-utils.c"
		GeeIterator* _tmp5_;
#line 189 "../src/contacts-utils.vala"
		_tmp5_ = i;
#line 189 "../src/contacts-utils.vala"
		_tmp3_ = !gee_iterator_has_next (_tmp5_);
#line 1971 "contacts-utils.c"
	} else {
#line 189 "../src/contacts-utils.vala"
		_tmp3_ = FALSE;
#line 1975 "contacts-utils.c"
	}
#line 189 "../src/contacts-utils.vala"
	if (_tmp3_) {
#line 1979 "contacts-utils.c"
		FolksPersonaStore* persona_store = NULL;
		GeeIterator* _tmp6_;
		gpointer _tmp7_;
		FolksPersona* _tmp8_;
		FolksPersonaStore* _tmp9_;
		FolksPersonaStore* _tmp10_;
		FolksPersonaStore* _tmp11_;
		FolksPersonaStore* _tmp12_;
		FolksPersonaStore* _tmp13_;
		const gchar* _tmp14_;
		const gchar* _tmp15_;
		gboolean _tmp16_ = FALSE;
		FolksPersonaStore* _tmp17_;
		const gchar* _tmp18_;
		const gchar* _tmp19_;
#line 190 "../src/contacts-utils.vala"
		_tmp6_ = i;
#line 190 "../src/contacts-utils.vala"
		_tmp7_ = gee_iterator_get (_tmp6_);
#line 190 "../src/contacts-utils.vala"
		_tmp8_ = (FolksPersona*) _tmp7_;
#line 190 "../src/contacts-utils.vala"
		_tmp9_ = folks_persona_get_store (_tmp8_);
#line 190 "../src/contacts-utils.vala"
		_tmp10_ = _tmp9_;
#line 190 "../src/contacts-utils.vala"
		_tmp11_ = _g_object_ref0 (_tmp10_);
#line 190 "../src/contacts-utils.vala"
		_tmp12_ = _tmp11_;
#line 190 "../src/contacts-utils.vala"
		_g_object_unref0 (_tmp8_);
#line 190 "../src/contacts-utils.vala"
		persona_store = _tmp12_;
#line 193 "../src/contacts-utils.vala"
		_tmp13_ = persona_store;
#line 193 "../src/contacts-utils.vala"
		_tmp14_ = folks_persona_store_get_type_id (_tmp13_);
#line 193 "../src/contacts-utils.vala"
		_tmp15_ = _tmp14_;
#line 193 "../src/contacts-utils.vala"
		if (g_strcmp0 (_tmp15_, "key-file") == 0) {
#line 194 "../src/contacts-utils.vala"
			result = TRUE;
#line 194 "../src/contacts-utils.vala"
			_g_object_unref0 (persona_store);
#line 194 "../src/contacts-utils.vala"
			_g_object_unref0 (i);
#line 194 "../src/contacts-utils.vala"
			return result;
#line 2029 "contacts-utils.c"
		}
#line 197 "../src/contacts-utils.vala"
		_tmp17_ = persona_store;
#line 197 "../src/contacts-utils.vala"
		_tmp18_ = folks_persona_store_get_type_id (_tmp17_);
#line 197 "../src/contacts-utils.vala"
		_tmp19_ = _tmp18_;
#line 197 "../src/contacts-utils.vala"
		if (g_strcmp0 (_tmp19_, "telepathy") == 0) {
#line 2039 "contacts-utils.c"
			FolksPersonaStore* _tmp20_;
			FolksPersonaStoreTrust _tmp21_;
			FolksPersonaStoreTrust _tmp22_;
#line 198 "../src/contacts-utils.vala"
			_tmp20_ = persona_store;
#line 198 "../src/contacts-utils.vala"
			_tmp21_ = folks_persona_store_get_trust_level (_tmp20_);
#line 198 "../src/contacts-utils.vala"
			_tmp22_ = _tmp21_;
#line 198 "../src/contacts-utils.vala"
			_tmp16_ = _tmp22_ == FOLKS_PERSONA_STORE_TRUST_NONE;
#line 2051 "contacts-utils.c"
		} else {
#line 197 "../src/contacts-utils.vala"
			_tmp16_ = FALSE;
#line 2055 "contacts-utils.c"
		}
#line 197 "../src/contacts-utils.vala"
		if (_tmp16_) {
#line 199 "../src/contacts-utils.vala"
			result = TRUE;
#line 199 "../src/contacts-utils.vala"
			_g_object_unref0 (persona_store);
#line 199 "../src/contacts-utils.vala"
			_g_object_unref0 (i);
#line 199 "../src/contacts-utils.vala"
			return result;
#line 2067 "contacts-utils.c"
		}
#line 189 "../src/contacts-utils.vala"
		_g_object_unref0 (persona_store);
#line 2071 "contacts-utils.c"
	}
#line 202 "../src/contacts-utils.vala"
	result = FALSE;
#line 202 "../src/contacts-utils.vala"
	_g_object_unref0 (i);
#line 202 "../src/contacts-utils.vala"
	return result;
#line 2079 "contacts-utils.c"
}

gboolean
contacts_utils_suggest_link_to (ContactsStore* store,
                                FolksIndividual* _self_,
                                FolksIndividual* other)
{
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gboolean result = FALSE;
#line 205 "../src/contacts-utils.vala"
	g_return_val_if_fail (store != NULL, FALSE);
#line 205 "../src/contacts-utils.vala"
	g_return_val_if_fail (_self_ != NULL, FALSE);
#line 205 "../src/contacts-utils.vala"
	g_return_val_if_fail (other != NULL, FALSE);
#line 206 "../src/contacts-utils.vala"
	if (contacts_utils_non_linkable (_self_)) {
#line 206 "../src/contacts-utils.vala"
		_tmp0_ = TRUE;
#line 2100 "contacts-utils.c"
	} else {
#line 206 "../src/contacts-utils.vala"
		_tmp0_ = contacts_utils_non_linkable (other);
#line 2104 "contacts-utils.c"
	}
#line 206 "../src/contacts-utils.vala"
	if (_tmp0_) {
#line 207 "../src/contacts-utils.vala"
		result = FALSE;
#line 207 "../src/contacts-utils.vala"
		return result;
#line 2112 "contacts-utils.c"
	}
#line 209 "../src/contacts-utils.vala"
	if (!contacts_store_may_suggest_link (store, _self_, other)) {
#line 210 "../src/contacts-utils.vala"
		result = FALSE;
#line 210 "../src/contacts-utils.vala"
		return result;
#line 2120 "contacts-utils.c"
	}
#line 214 "../src/contacts-utils.vala"
	if (!contacts_utils_has_main_persona (_self_)) {
#line 214 "../src/contacts-utils.vala"
		_tmp1_ = TRUE;
#line 2126 "contacts-utils.c"
	} else {
#line 214 "../src/contacts-utils.vala"
		_tmp1_ = !contacts_utils_has_mainable_persona (other);
#line 2130 "contacts-utils.c"
	}
#line 214 "../src/contacts-utils.vala"
	result = _tmp1_;
#line 214 "../src/contacts-utils.vala"
	return result;
#line 2136 "contacts-utils.c"
}

gboolean
contacts_utils_has_pref (FolksAbstractFieldDetails* details)
{
	GeeCollection* evolution_pref = NULL;
	GeeCollection* _tmp0_;
	gboolean _tmp1_ = FALSE;
	GeeCollection* _tmp2_;
	gboolean result = FALSE;
#line 217 "../src/contacts-utils.vala"
	g_return_val_if_fail (details != NULL, FALSE);
#line 218 "../src/contacts-utils.vala"
	_tmp0_ = folks_abstract_field_details_get_parameter_values (details, "x-evolution-ui-slot");
#line 218 "../src/contacts-utils.vala"
	evolution_pref = _tmp0_;
#line 219 "../src/contacts-utils.vala"
	_tmp2_ = evolution_pref;
#line 219 "../src/contacts-utils.vala"
	if (_tmp2_ != NULL) {
#line 2157 "contacts-utils.c"
		GeeCollection* _tmp3_;
		gpointer _tmp4_;
		gchar* _tmp5_;
#line 219 "../src/contacts-utils.vala"
		_tmp3_ = evolution_pref;
#line 219 "../src/contacts-utils.vala"
		_tmp4_ = contacts_utils_get_first (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, _tmp3_);
#line 219 "../src/contacts-utils.vala"
		_tmp5_ = (gchar*) _tmp4_;
#line 219 "../src/contacts-utils.vala"
		_tmp1_ = g_strcmp0 (_tmp5_, "1") == 0;
#line 219 "../src/contacts-utils.vala"
		_g_free0 (_tmp5_);
#line 2171 "contacts-utils.c"
	} else {
#line 219 "../src/contacts-utils.vala"
		_tmp1_ = FALSE;
#line 2175 "contacts-utils.c"
	}
#line 219 "../src/contacts-utils.vala"
	if (_tmp1_) {
#line 220 "../src/contacts-utils.vala"
		result = TRUE;
#line 220 "../src/contacts-utils.vala"
		_g_object_unref0 (evolution_pref);
#line 220 "../src/contacts-utils.vala"
		return result;
#line 2185 "contacts-utils.c"
	}
	{
		GeeIterator* _param_it = NULL;
		GeeMultiMap* _tmp6_;
		GeeMultiMap* _tmp7_;
		GeeCollection* _tmp8_;
		GeeCollection* _tmp9_;
		GeeIterator* _tmp10_;
		GeeIterator* _tmp11_;
#line 222 "../src/contacts-utils.vala"
		_tmp6_ = folks_abstract_field_details_get_parameters (details);
#line 222 "../src/contacts-utils.vala"
		_tmp7_ = _tmp6_;
#line 222 "../src/contacts-utils.vala"
		_tmp8_ = gee_multi_map_get (_tmp7_, "type");
#line 222 "../src/contacts-utils.vala"
		_tmp9_ = _tmp8_;
#line 222 "../src/contacts-utils.vala"
		_tmp10_ = gee_iterable_iterator ((GeeIterable*) _tmp9_);
#line 222 "../src/contacts-utils.vala"
		_tmp11_ = _tmp10_;
#line 222 "../src/contacts-utils.vala"
		_g_object_unref0 (_tmp9_);
#line 222 "../src/contacts-utils.vala"
		_param_it = _tmp11_;
#line 222 "../src/contacts-utils.vala"
		while (TRUE) {
#line 2213 "contacts-utils.c"
			GeeIterator* _tmp12_;
			gchar* param = NULL;
			GeeIterator* _tmp13_;
			gpointer _tmp14_;
			const gchar* _tmp15_;
#line 222 "../src/contacts-utils.vala"
			_tmp12_ = _param_it;
#line 222 "../src/contacts-utils.vala"
			if (!gee_iterator_next (_tmp12_)) {
#line 222 "../src/contacts-utils.vala"
				break;
#line 2225 "contacts-utils.c"
			}
#line 222 "../src/contacts-utils.vala"
			_tmp13_ = _param_it;
#line 222 "../src/contacts-utils.vala"
			_tmp14_ = gee_iterator_get (_tmp13_);
#line 222 "../src/contacts-utils.vala"
			param = (gchar*) _tmp14_;
#line 223 "../src/contacts-utils.vala"
			_tmp15_ = param;
#line 223 "../src/contacts-utils.vala"
			if (g_ascii_strcasecmp (_tmp15_, "PREF") == 0) {
#line 224 "../src/contacts-utils.vala"
				result = TRUE;
#line 224 "../src/contacts-utils.vala"
				_g_free0 (param);
#line 224 "../src/contacts-utils.vala"
				_g_object_unref0 (_param_it);
#line 224 "../src/contacts-utils.vala"
				_g_object_unref0 (evolution_pref);
#line 224 "../src/contacts-utils.vala"
				return result;
#line 2247 "contacts-utils.c"
			}
#line 222 "../src/contacts-utils.vala"
			_g_free0 (param);
#line 2251 "contacts-utils.c"
		}
#line 222 "../src/contacts-utils.vala"
		_g_object_unref0 (_param_it);
#line 2255 "contacts-utils.c"
	}
#line 226 "../src/contacts-utils.vala"
	result = FALSE;
#line 226 "../src/contacts-utils.vala"
	_g_object_unref0 (evolution_pref);
#line 226 "../src/contacts-utils.vala"
	return result;
#line 2263 "contacts-utils.c"
}

ContactsTypeSet*
contacts_utils_select_typeset_from_fielddetails (FolksAbstractFieldDetails* a)
{
	ContactsTypeSet* _tmp6_;
	ContactsTypeSet* _tmp7_;
	ContactsTypeSet* _tmp8_;
	ContactsTypeSet* result = NULL;
#line 229 "../src/contacts-utils.vala"
	g_return_val_if_fail (a != NULL, NULL);
#line 230 "../src/contacts-utils.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (a, FOLKS_TYPE_EMAIL_FIELD_DETAILS)) {
#line 2277 "contacts-utils.c"
		ContactsTypeSet* _tmp0_;
		ContactsTypeSet* _tmp1_;
		ContactsTypeSet* _tmp2_;
#line 231 "../src/contacts-utils.vala"
		_tmp0_ = contacts_typeset_get_email ();
#line 231 "../src/contacts-utils.vala"
		_tmp1_ = _tmp0_;
#line 231 "../src/contacts-utils.vala"
		_tmp2_ = _g_object_ref0 (_tmp1_);
#line 231 "../src/contacts-utils.vala"
		result = _tmp2_;
#line 231 "../src/contacts-utils.vala"
		return result;
#line 2291 "contacts-utils.c"
	}
#line 232 "../src/contacts-utils.vala"
	if (G_TYPE_CHECK_INSTANCE_TYPE (a, FOLKS_TYPE_PHONE_FIELD_DETAILS)) {
#line 2295 "contacts-utils.c"
		ContactsTypeSet* _tmp3_;
		ContactsTypeSet* _tmp4_;
		ContactsTypeSet* _tmp5_;
#line 233 "../src/contacts-utils.vala"
		_tmp3_ = contacts_typeset_get_phone ();
#line 233 "../src/contacts-utils.vala"
		_tmp4_ = _tmp3_;
#line 233 "../src/contacts-utils.vala"
		_tmp5_ = _g_object_ref0 (_tmp4_);
#line 233 "../src/contacts-utils.vala"
		result = _tmp5_;
#line 233 "../src/contacts-utils.vala"
		return result;
#line 2309 "contacts-utils.c"
	}
#line 234 "../src/contacts-utils.vala"
	_tmp6_ = contacts_typeset_get_general ();
#line 234 "../src/contacts-utils.vala"
	_tmp7_ = _tmp6_;
#line 234 "../src/contacts-utils.vala"
	_tmp8_ = _g_object_ref0 (_tmp7_);
#line 234 "../src/contacts-utils.vala"
	result = _tmp8_;
#line 234 "../src/contacts-utils.vala"
	return result;
#line 2321 "contacts-utils.c"
}

gint
contacts_utils_compare_fields (void* _a,
                               void* _b)
{
	FolksAbstractFieldDetails* a = NULL;
	FolksAbstractFieldDetails* _tmp0_;
	FolksAbstractFieldDetails* b = NULL;
	FolksAbstractFieldDetails* _tmp1_;
	gboolean a_has_pref = FALSE;
	FolksAbstractFieldDetails* _tmp2_;
	FolksAbstractFieldDetails* _tmp3_;
	ContactsTypeSet* type_set = NULL;
	FolksAbstractFieldDetails* _tmp5_;
	ContactsTypeSet* _tmp6_;
	gint _result_ = 0;
	ContactsTypeSet* _tmp7_;
	FolksAbstractFieldDetails* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	ContactsTypeSet* _tmp11_;
	FolksAbstractFieldDetails* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	gint _tmp15_;
	FolksAbstractFieldDetails* aa = NULL;
	FolksAbstractFieldDetails* _tmp16_;
	FolksAbstractFieldDetails* _tmp17_;
	FolksAbstractFieldDetails* bb = NULL;
	FolksAbstractFieldDetails* _tmp18_;
	FolksAbstractFieldDetails* _tmp19_;
	gboolean _tmp20_ = FALSE;
	FolksAbstractFieldDetails* _tmp21_;
	gint result = 0;
#line 238 "../src/contacts-utils.vala"
	_tmp0_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_a, FOLKS_TYPE_ABSTRACT_FIELD_DETAILS, FolksAbstractFieldDetails));
#line 238 "../src/contacts-utils.vala"
	a = _tmp0_;
#line 239 "../src/contacts-utils.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_b, FOLKS_TYPE_ABSTRACT_FIELD_DETAILS, FolksAbstractFieldDetails));
#line 239 "../src/contacts-utils.vala"
	b = _tmp1_;
#line 242 "../src/contacts-utils.vala"
	_tmp2_ = a;
#line 242 "../src/contacts-utils.vala"
	a_has_pref = contacts_utils_has_pref (_tmp2_);
#line 243 "../src/contacts-utils.vala"
	_tmp3_ = b;
#line 243 "../src/contacts-utils.vala"
	if (a_has_pref != contacts_utils_has_pref (_tmp3_)) {
#line 2373 "contacts-utils.c"
		gint _tmp4_ = 0;
#line 244 "../src/contacts-utils.vala"
		if (a_has_pref) {
#line 244 "../src/contacts-utils.vala"
			_tmp4_ = -1;
#line 2379 "contacts-utils.c"
		} else {
#line 244 "../src/contacts-utils.vala"
			_tmp4_ = 1;
#line 2383 "contacts-utils.c"
		}
#line 244 "../src/contacts-utils.vala"
		result = _tmp4_;
#line 244 "../src/contacts-utils.vala"
		_g_object_unref0 (b);
#line 244 "../src/contacts-utils.vala"
		_g_object_unref0 (a);
#line 244 "../src/contacts-utils.vala"
		return result;
#line 2393 "contacts-utils.c"
	}
#line 247 "../src/contacts-utils.vala"
	_tmp5_ = a;
#line 247 "../src/contacts-utils.vala"
	_tmp6_ = contacts_utils_select_typeset_from_fielddetails (_tmp5_);
#line 247 "../src/contacts-utils.vala"
	type_set = _tmp6_;
#line 248 "../src/contacts-utils.vala"
	_tmp7_ = type_set;
#line 248 "../src/contacts-utils.vala"
	_tmp8_ = a;
#line 248 "../src/contacts-utils.vala"
	_tmp9_ = contacts_typeset_format_type (_tmp7_, _tmp8_);
#line 248 "../src/contacts-utils.vala"
	_tmp10_ = _tmp9_;
#line 248 "../src/contacts-utils.vala"
	_tmp11_ = type_set;
#line 248 "../src/contacts-utils.vala"
	_tmp12_ = b;
#line 248 "../src/contacts-utils.vala"
	_tmp13_ = contacts_typeset_format_type (_tmp11_, _tmp12_);
#line 248 "../src/contacts-utils.vala"
	_tmp14_ = _tmp13_;
#line 248 "../src/contacts-utils.vala"
	_tmp15_ = g_ascii_strcasecmp (_tmp10_, _tmp14_);
#line 248 "../src/contacts-utils.vala"
	_g_free0 (_tmp14_);
#line 248 "../src/contacts-utils.vala"
	_g_free0 (_tmp10_);
#line 248 "../src/contacts-utils.vala"
	_result_ = _tmp15_;
#line 249 "../src/contacts-utils.vala"
	if (_result_ != 0) {
#line 250 "../src/contacts-utils.vala"
		result = _result_;
#line 250 "../src/contacts-utils.vala"
		_g_object_unref0 (type_set);
#line 250 "../src/contacts-utils.vala"
		_g_object_unref0 (b);
#line 250 "../src/contacts-utils.vala"
		_g_object_unref0 (a);
#line 250 "../src/contacts-utils.vala"
		return result;
#line 2437 "contacts-utils.c"
	}
#line 253 "../src/contacts-utils.vala"
	_tmp16_ = a;
#line 253 "../src/contacts-utils.vala"
	_tmp17_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp16_, FOLKS_TYPE_ABSTRACT_FIELD_DETAILS) ? ((FolksAbstractFieldDetails*) _tmp16_) : NULL);
#line 253 "../src/contacts-utils.vala"
	aa = _tmp17_;
#line 254 "../src/contacts-utils.vala"
	_tmp18_ = b;
#line 254 "../src/contacts-utils.vala"
	_tmp19_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp18_, FOLKS_TYPE_ABSTRACT_FIELD_DETAILS) ? ((FolksAbstractFieldDetails*) _tmp18_) : NULL);
#line 254 "../src/contacts-utils.vala"
	bb = _tmp19_;
#line 255 "../src/contacts-utils.vala"
	_tmp21_ = aa;
#line 255 "../src/contacts-utils.vala"
	if (_tmp21_ != NULL) {
#line 2455 "contacts-utils.c"
		FolksAbstractFieldDetails* _tmp22_;
#line 255 "../src/contacts-utils.vala"
		_tmp22_ = bb;
#line 255 "../src/contacts-utils.vala"
		_tmp20_ = _tmp22_ != NULL;
#line 2461 "contacts-utils.c"
	} else {
#line 255 "../src/contacts-utils.vala"
		_tmp20_ = FALSE;
#line 2465 "contacts-utils.c"
	}
#line 255 "../src/contacts-utils.vala"
	if (_tmp20_) {
#line 2469 "contacts-utils.c"
		GCompareFunc _tmp23_;
		FolksAbstractFieldDetails* _tmp24_;
		gconstpointer _tmp25_;
		const gchar* _tmp26_;
		FolksAbstractFieldDetails* _tmp27_;
		gconstpointer _tmp28_;
		const gchar* _tmp29_;
#line 256 "../src/contacts-utils.vala"
		_tmp23_ = ((GCompareFunc) g_strcmp0);
#line 256 "../src/contacts-utils.vala"
		_tmp24_ = aa;
#line 256 "../src/contacts-utils.vala"
		_tmp25_ = folks_abstract_field_details_get_value (_tmp24_);
#line 256 "../src/contacts-utils.vala"
		_tmp26_ = _tmp25_;
#line 256 "../src/contacts-utils.vala"
		_tmp27_ = bb;
#line 256 "../src/contacts-utils.vala"
		_tmp28_ = folks_abstract_field_details_get_value (_tmp27_);
#line 256 "../src/contacts-utils.vala"
		_tmp29_ = _tmp28_;
#line 256 "../src/contacts-utils.vala"
		result = _tmp23_ ((const gchar*) _tmp26_, (const gchar*) _tmp29_);
#line 256 "../src/contacts-utils.vala"
		_g_object_unref0 (bb);
#line 256 "../src/contacts-utils.vala"
		_g_object_unref0 (aa);
#line 256 "../src/contacts-utils.vala"
		_g_object_unref0 (type_set);
#line 256 "../src/contacts-utils.vala"
		_g_object_unref0 (b);
#line 256 "../src/contacts-utils.vala"
		_g_object_unref0 (a);
#line 256 "../src/contacts-utils.vala"
		return result;
#line 2505 "contacts-utils.c"
	}
#line 259 "../src/contacts-utils.vala"
	g_warning ("contacts-utils.vala:259: Unsupported AbstractFieldDetails value type");
#line 260 "../src/contacts-utils.vala"
	result = 0;
#line 260 "../src/contacts-utils.vala"
	_g_object_unref0 (bb);
#line 260 "../src/contacts-utils.vala"
	_g_object_unref0 (aa);
#line 260 "../src/contacts-utils.vala"
	_g_object_unref0 (type_set);
#line 260 "../src/contacts-utils.vala"
	_g_object_unref0 (b);
#line 260 "../src/contacts-utils.vala"
	_g_object_unref0 (a);
#line 260 "../src/contacts-utils.vala"
	return result;
#line 2523 "contacts-utils.c"
}

static gint
_contacts_utils_compare_fields_gcompare_data_func (gconstpointer a,
                                                   gconstpointer b,
                                                   gpointer self)
{
	gint result;
	result = contacts_utils_compare_fields (a, b);
#line 266 "../src/contacts-utils.vala"
	return result;
#line 2535 "contacts-utils.c"
}

GeeList*
contacts_utils_sort_fields (GType t_type,
                            GBoxedCopyFunc t_dup_func,
                            GDestroyNotify t_destroy_func,
                            GeeCollection* fields)
{
	GeeArrayList* res = NULL;
	GeeArrayList* _tmp0_;
	GeeList* result = NULL;
#line 263 "../src/contacts-utils.vala"
	g_return_val_if_fail (fields != NULL, NULL);
#line 264 "../src/contacts-utils.vala"
	_tmp0_ = gee_array_list_new (t_type, (GBoxedCopyFunc) t_dup_func, (GDestroyNotify) t_destroy_func, NULL, NULL, NULL);
#line 264 "../src/contacts-utils.vala"
	res = _tmp0_;
#line 265 "../src/contacts-utils.vala"
	gee_array_list_add_all (res, fields);
#line 266 "../src/contacts-utils.vala"
	gee_list_sort ((GeeList*) res, _contacts_utils_compare_fields_gcompare_data_func, NULL, NULL);
#line 267 "../src/contacts-utils.vala"
	result = (GeeList*) res;
#line 267 "../src/contacts-utils.vala"
	return result;
#line 2561 "contacts-utils.c"
}

static void
_vala_array_add4 (gchar** * array,
                  gint* length,
                  gint* size,
                  gchar* value)
{
#line 274 "../src/contacts-utils.vala"
	if ((*length) == (*size)) {
#line 274 "../src/contacts-utils.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 274 "../src/contacts-utils.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 2576 "contacts-utils.c"
	}
#line 274 "../src/contacts-utils.vala"
	(*array)[(*length)++] = value;
#line 274 "../src/contacts-utils.vala"
	(*array)[*length] = NULL;
#line 2582 "contacts-utils.c"
}

static void
_vala_array_add5 (gchar** * array,
                  gint* length,
                  gint* size,
                  gchar* value)
{
#line 277 "../src/contacts-utils.vala"
	if ((*length) == (*size)) {
#line 277 "../src/contacts-utils.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 277 "../src/contacts-utils.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 2597 "contacts-utils.c"
	}
#line 277 "../src/contacts-utils.vala"
	(*array)[(*length)++] = value;
#line 277 "../src/contacts-utils.vala"
	(*array)[*length] = NULL;
#line 2603 "contacts-utils.c"
}

static void
_vala_array_add6 (gchar** * array,
                  gint* length,
                  gint* size,
                  gchar* value)
{
#line 280 "../src/contacts-utils.vala"
	if ((*length) == (*size)) {
#line 280 "../src/contacts-utils.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 280 "../src/contacts-utils.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 2618 "contacts-utils.c"
	}
#line 280 "../src/contacts-utils.vala"
	(*array)[(*length)++] = value;
#line 280 "../src/contacts-utils.vala"
	(*array)[*length] = NULL;
#line 2624 "contacts-utils.c"
}

static void
_vala_array_add7 (gchar** * array,
                  gint* length,
                  gint* size,
                  gchar* value)
{
#line 283 "../src/contacts-utils.vala"
	if ((*length) == (*size)) {
#line 283 "../src/contacts-utils.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 283 "../src/contacts-utils.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 2639 "contacts-utils.c"
	}
#line 283 "../src/contacts-utils.vala"
	(*array)[(*length)++] = value;
#line 283 "../src/contacts-utils.vala"
	(*array)[*length] = NULL;
#line 2645 "contacts-utils.c"
}

static void
_vala_array_add8 (gchar** * array,
                  gint* length,
                  gint* size,
                  gchar* value)
{
#line 286 "../src/contacts-utils.vala"
	if ((*length) == (*size)) {
#line 286 "../src/contacts-utils.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 286 "../src/contacts-utils.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 2660 "contacts-utils.c"
	}
#line 286 "../src/contacts-utils.vala"
	(*array)[(*length)++] = value;
#line 286 "../src/contacts-utils.vala"
	(*array)[*length] = NULL;
#line 2666 "contacts-utils.c"
}

static void
_vala_array_add9 (gchar** * array,
                  gint* length,
                  gint* size,
                  gchar* value)
{
#line 289 "../src/contacts-utils.vala"
	if ((*length) == (*size)) {
#line 289 "../src/contacts-utils.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 289 "../src/contacts-utils.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 2681 "contacts-utils.c"
	}
#line 289 "../src/contacts-utils.vala"
	(*array)[(*length)++] = value;
#line 289 "../src/contacts-utils.vala"
	(*array)[*length] = NULL;
#line 2687 "contacts-utils.c"
}

static void
_vala_array_add10 (gchar** * array,
                   gint* length,
                   gint* size,
                   gchar* value)
{
#line 292 "../src/contacts-utils.vala"
	if ((*length) == (*size)) {
#line 292 "../src/contacts-utils.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 292 "../src/contacts-utils.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 2702 "contacts-utils.c"
	}
#line 292 "../src/contacts-utils.vala"
	(*array)[(*length)++] = value;
#line 292 "../src/contacts-utils.vala"
	(*array)[*length] = NULL;
#line 2708 "contacts-utils.c"
}

static void
_vala_array_add11 (gchar** * array,
                   gint* length,
                   gint* size,
                   gchar* value)
{
#line 295 "../src/contacts-utils.vala"
	if ((*length) == (*size)) {
#line 295 "../src/contacts-utils.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 295 "../src/contacts-utils.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 2723 "contacts-utils.c"
	}
#line 295 "../src/contacts-utils.vala"
	(*array)[(*length)++] = value;
#line 295 "../src/contacts-utils.vala"
	(*array)[*length] = NULL;
#line 2729 "contacts-utils.c"
}

gchar**
contacts_utils_format_address (FolksPostalAddress* addr,
                               gint* result_length1)
{
	gchar** lines = NULL;
	gchar** _tmp0_;
	gint lines_length1;
	gint _lines_size_;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	const gchar* _tmp7_;
	const gchar* _tmp8_;
	const gchar* _tmp13_;
	const gchar* _tmp14_;
	const gchar* _tmp19_;
	const gchar* _tmp20_;
	const gchar* _tmp25_;
	const gchar* _tmp26_;
	const gchar* _tmp31_;
	const gchar* _tmp32_;
	const gchar* _tmp37_;
	const gchar* _tmp38_;
	const gchar* _tmp43_;
	const gchar* _tmp44_;
	gchar** _tmp49_;
	gint _tmp49__length1;
	gchar** result = NULL;
#line 270 "../src/contacts-utils.vala"
	g_return_val_if_fail (addr != NULL, NULL);
#line 271 "../src/contacts-utils.vala"
	_tmp0_ = g_new0 (gchar*, 0 + 1);
#line 271 "../src/contacts-utils.vala"
	lines = _tmp0_;
#line 271 "../src/contacts-utils.vala"
	lines_length1 = 0;
#line 271 "../src/contacts-utils.vala"
	_lines_size_ = lines_length1;
#line 273 "../src/contacts-utils.vala"
	_tmp1_ = folks_postal_address_get_street (addr);
#line 273 "../src/contacts-utils.vala"
	_tmp2_ = _tmp1_;
#line 273 "../src/contacts-utils.vala"
	if (contacts_is_set (_tmp2_)) {
#line 2775 "contacts-utils.c"
		gchar** _tmp3_;
		gint _tmp3__length1;
		const gchar* _tmp4_;
		const gchar* _tmp5_;
		gchar* _tmp6_;
#line 274 "../src/contacts-utils.vala"
		_tmp3_ = lines;
#line 274 "../src/contacts-utils.vala"
		_tmp3__length1 = lines_length1;
#line 274 "../src/contacts-utils.vala"
		_tmp4_ = folks_postal_address_get_street (addr);
#line 274 "../src/contacts-utils.vala"
		_tmp5_ = _tmp4_;
#line 274 "../src/contacts-utils.vala"
		_tmp6_ = g_strdup (_tmp5_);
#line 274 "../src/contacts-utils.vala"
		_vala_array_add4 (&lines, &lines_length1, &_lines_size_, _tmp6_);
#line 2793 "contacts-utils.c"
	}
#line 276 "../src/contacts-utils.vala"
	_tmp7_ = folks_postal_address_get_extension (addr);
#line 276 "../src/contacts-utils.vala"
	_tmp8_ = _tmp7_;
#line 276 "../src/contacts-utils.vala"
	if (contacts_is_set (_tmp8_)) {
#line 2801 "contacts-utils.c"
		gchar** _tmp9_;
		gint _tmp9__length1;
		const gchar* _tmp10_;
		const gchar* _tmp11_;
		gchar* _tmp12_;
#line 277 "../src/contacts-utils.vala"
		_tmp9_ = lines;
#line 277 "../src/contacts-utils.vala"
		_tmp9__length1 = lines_length1;
#line 277 "../src/contacts-utils.vala"
		_tmp10_ = folks_postal_address_get_extension (addr);
#line 277 "../src/contacts-utils.vala"
		_tmp11_ = _tmp10_;
#line 277 "../src/contacts-utils.vala"
		_tmp12_ = g_strdup (_tmp11_);
#line 277 "../src/contacts-utils.vala"
		_vala_array_add5 (&lines, &lines_length1, &_lines_size_, _tmp12_);
#line 2819 "contacts-utils.c"
	}
#line 279 "../src/contacts-utils.vala"
	_tmp13_ = folks_postal_address_get_locality (addr);
#line 279 "../src/contacts-utils.vala"
	_tmp14_ = _tmp13_;
#line 279 "../src/contacts-utils.vala"
	if (contacts_is_set (_tmp14_)) {
#line 2827 "contacts-utils.c"
		gchar** _tmp15_;
		gint _tmp15__length1;
		const gchar* _tmp16_;
		const gchar* _tmp17_;
		gchar* _tmp18_;
#line 280 "../src/contacts-utils.vala"
		_tmp15_ = lines;
#line 280 "../src/contacts-utils.vala"
		_tmp15__length1 = lines_length1;
#line 280 "../src/contacts-utils.vala"
		_tmp16_ = folks_postal_address_get_locality (addr);
#line 280 "../src/contacts-utils.vala"
		_tmp17_ = _tmp16_;
#line 280 "../src/contacts-utils.vala"
		_tmp18_ = g_strdup (_tmp17_);
#line 280 "../src/contacts-utils.vala"
		_vala_array_add6 (&lines, &lines_length1, &_lines_size_, _tmp18_);
#line 2845 "contacts-utils.c"
	}
#line 282 "../src/contacts-utils.vala"
	_tmp19_ = folks_postal_address_get_region (addr);
#line 282 "../src/contacts-utils.vala"
	_tmp20_ = _tmp19_;
#line 282 "../src/contacts-utils.vala"
	if (contacts_is_set (_tmp20_)) {
#line 2853 "contacts-utils.c"
		gchar** _tmp21_;
		gint _tmp21__length1;
		const gchar* _tmp22_;
		const gchar* _tmp23_;
		gchar* _tmp24_;
#line 283 "../src/contacts-utils.vala"
		_tmp21_ = lines;
#line 283 "../src/contacts-utils.vala"
		_tmp21__length1 = lines_length1;
#line 283 "../src/contacts-utils.vala"
		_tmp22_ = folks_postal_address_get_region (addr);
#line 283 "../src/contacts-utils.vala"
		_tmp23_ = _tmp22_;
#line 283 "../src/contacts-utils.vala"
		_tmp24_ = g_strdup (_tmp23_);
#line 283 "../src/contacts-utils.vala"
		_vala_array_add7 (&lines, &lines_length1, &_lines_size_, _tmp24_);
#line 2871 "contacts-utils.c"
	}
#line 285 "../src/contacts-utils.vala"
	_tmp25_ = folks_postal_address_get_postal_code (addr);
#line 285 "../src/contacts-utils.vala"
	_tmp26_ = _tmp25_;
#line 285 "../src/contacts-utils.vala"
	if (contacts_is_set (_tmp26_)) {
#line 2879 "contacts-utils.c"
		gchar** _tmp27_;
		gint _tmp27__length1;
		const gchar* _tmp28_;
		const gchar* _tmp29_;
		gchar* _tmp30_;
#line 286 "../src/contacts-utils.vala"
		_tmp27_ = lines;
#line 286 "../src/contacts-utils.vala"
		_tmp27__length1 = lines_length1;
#line 286 "../src/contacts-utils.vala"
		_tmp28_ = folks_postal_address_get_postal_code (addr);
#line 286 "../src/contacts-utils.vala"
		_tmp29_ = _tmp28_;
#line 286 "../src/contacts-utils.vala"
		_tmp30_ = g_strdup (_tmp29_);
#line 286 "../src/contacts-utils.vala"
		_vala_array_add8 (&lines, &lines_length1, &_lines_size_, _tmp30_);
#line 2897 "contacts-utils.c"
	}
#line 288 "../src/contacts-utils.vala"
	_tmp31_ = folks_postal_address_get_po_box (addr);
#line 288 "../src/contacts-utils.vala"
	_tmp32_ = _tmp31_;
#line 288 "../src/contacts-utils.vala"
	if (contacts_is_set (_tmp32_)) {
#line 2905 "contacts-utils.c"
		gchar** _tmp33_;
		gint _tmp33__length1;
		const gchar* _tmp34_;
		const gchar* _tmp35_;
		gchar* _tmp36_;
#line 289 "../src/contacts-utils.vala"
		_tmp33_ = lines;
#line 289 "../src/contacts-utils.vala"
		_tmp33__length1 = lines_length1;
#line 289 "../src/contacts-utils.vala"
		_tmp34_ = folks_postal_address_get_po_box (addr);
#line 289 "../src/contacts-utils.vala"
		_tmp35_ = _tmp34_;
#line 289 "../src/contacts-utils.vala"
		_tmp36_ = g_strdup (_tmp35_);
#line 289 "../src/contacts-utils.vala"
		_vala_array_add9 (&lines, &lines_length1, &_lines_size_, _tmp36_);
#line 2923 "contacts-utils.c"
	}
#line 291 "../src/contacts-utils.vala"
	_tmp37_ = folks_postal_address_get_country (addr);
#line 291 "../src/contacts-utils.vala"
	_tmp38_ = _tmp37_;
#line 291 "../src/contacts-utils.vala"
	if (contacts_is_set (_tmp38_)) {
#line 2931 "contacts-utils.c"
		gchar** _tmp39_;
		gint _tmp39__length1;
		const gchar* _tmp40_;
		const gchar* _tmp41_;
		gchar* _tmp42_;
#line 292 "../src/contacts-utils.vala"
		_tmp39_ = lines;
#line 292 "../src/contacts-utils.vala"
		_tmp39__length1 = lines_length1;
#line 292 "../src/contacts-utils.vala"
		_tmp40_ = folks_postal_address_get_country (addr);
#line 292 "../src/contacts-utils.vala"
		_tmp41_ = _tmp40_;
#line 292 "../src/contacts-utils.vala"
		_tmp42_ = g_strdup (_tmp41_);
#line 292 "../src/contacts-utils.vala"
		_vala_array_add10 (&lines, &lines_length1, &_lines_size_, _tmp42_);
#line 2949 "contacts-utils.c"
	}
#line 294 "../src/contacts-utils.vala"
	_tmp43_ = folks_postal_address_get_address_format (addr);
#line 294 "../src/contacts-utils.vala"
	_tmp44_ = _tmp43_;
#line 294 "../src/contacts-utils.vala"
	if (contacts_is_set (_tmp44_)) {
#line 2957 "contacts-utils.c"
		gchar** _tmp45_;
		gint _tmp45__length1;
		const gchar* _tmp46_;
		const gchar* _tmp47_;
		gchar* _tmp48_;
#line 295 "../src/contacts-utils.vala"
		_tmp45_ = lines;
#line 295 "../src/contacts-utils.vala"
		_tmp45__length1 = lines_length1;
#line 295 "../src/contacts-utils.vala"
		_tmp46_ = folks_postal_address_get_address_format (addr);
#line 295 "../src/contacts-utils.vala"
		_tmp47_ = _tmp46_;
#line 295 "../src/contacts-utils.vala"
		_tmp48_ = g_strdup (_tmp47_);
#line 295 "../src/contacts-utils.vala"
		_vala_array_add11 (&lines, &lines_length1, &_lines_size_, _tmp48_);
#line 2975 "contacts-utils.c"
	}
#line 297 "../src/contacts-utils.vala"
	_tmp49_ = lines;
#line 297 "../src/contacts-utils.vala"
	_tmp49__length1 = lines_length1;
#line 297 "../src/contacts-utils.vala"
	if (result_length1) {
#line 297 "../src/contacts-utils.vala"
		*result_length1 = _tmp49__length1;
#line 2985 "contacts-utils.c"
	}
#line 297 "../src/contacts-utils.vala"
	result = _tmp49_;
#line 297 "../src/contacts-utils.vala"
	return result;
#line 2991 "contacts-utils.c"
}

gboolean
contacts_utils_can_remove_personas (FolksIndividual* individual)
{
	gboolean result = FALSE;
#line 315 "../src/contacts-utils.vala"
	g_return_val_if_fail (individual != NULL, FALSE);
#line 3000 "contacts-utils.c"
	{
		GeeIterator* _p_it = NULL;
		GeeSet* _tmp0_;
		GeeSet* _tmp1_;
		GeeIterator* _tmp2_;
#line 316 "../src/contacts-utils.vala"
		_tmp0_ = folks_individual_get_personas (individual);
#line 316 "../src/contacts-utils.vala"
		_tmp1_ = _tmp0_;
#line 316 "../src/contacts-utils.vala"
		_tmp2_ = gee_iterable_iterator ((GeeIterable*) _tmp1_);
#line 316 "../src/contacts-utils.vala"
		_p_it = _tmp2_;
#line 316 "../src/contacts-utils.vala"
		while (TRUE) {
#line 3016 "contacts-utils.c"
			GeeIterator* _tmp3_;
			FolksPersona* p = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			FolksPersona* _tmp6_;
			FolksPersonaStore* _tmp7_;
			FolksPersonaStore* _tmp8_;
			FolksMaybeBool _tmp9_;
			FolksMaybeBool _tmp10_;
#line 316 "../src/contacts-utils.vala"
			_tmp3_ = _p_it;
#line 316 "../src/contacts-utils.vala"
			if (!gee_iterator_next (_tmp3_)) {
#line 316 "../src/contacts-utils.vala"
				break;
#line 3032 "contacts-utils.c"
			}
#line 316 "../src/contacts-utils.vala"
			_tmp4_ = _p_it;
#line 316 "../src/contacts-utils.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 316 "../src/contacts-utils.vala"
			p = (FolksPersona*) _tmp5_;
#line 317 "../src/contacts-utils.vala"
			_tmp6_ = p;
#line 317 "../src/contacts-utils.vala"
			_tmp7_ = folks_persona_get_store (_tmp6_);
#line 317 "../src/contacts-utils.vala"
			_tmp8_ = _tmp7_;
#line 317 "../src/contacts-utils.vala"
			_tmp9_ = folks_persona_store_get_can_remove_personas (_tmp8_);
#line 317 "../src/contacts-utils.vala"
			_tmp10_ = _tmp9_;
#line 317 "../src/contacts-utils.vala"
			if (_tmp10_ == FOLKS_MAYBE_BOOL_TRUE) {
#line 318 "../src/contacts-utils.vala"
				result = TRUE;
#line 318 "../src/contacts-utils.vala"
				_g_object_unref0 (p);
#line 318 "../src/contacts-utils.vala"
				_g_object_unref0 (_p_it);
#line 318 "../src/contacts-utils.vala"
				return result;
#line 3060 "contacts-utils.c"
			}
#line 316 "../src/contacts-utils.vala"
			_g_object_unref0 (p);
#line 3064 "contacts-utils.c"
		}
#line 316 "../src/contacts-utils.vala"
		_g_object_unref0 (_p_it);
#line 3068 "contacts-utils.c"
	}
#line 320 "../src/contacts-utils.vala"
	result = FALSE;
#line 320 "../src/contacts-utils.vala"
	return result;
#line 3074 "contacts-utils.c"
}

static gint
__lambda6_ (FolksPersona* a,
            FolksPersona* b)
{
	FolksPersonaStore* store_a = NULL;
	FolksPersonaStore* _tmp0_;
	FolksPersonaStore* _tmp1_;
	FolksPersonaStore* _tmp2_;
	FolksPersonaStore* store_b = NULL;
	FolksPersonaStore* _tmp3_;
	FolksPersonaStore* _tmp4_;
	FolksPersonaStore* _tmp5_;
	FolksPersonaStore* _tmp6_;
	FolksPersonaStore* _tmp7_;
	FolksPersonaStore* _tmp9_;
	gboolean _tmp10_;
	gboolean _tmp11_;
	FolksPersonaStore* _tmp12_;
	gboolean _tmp13_;
	gboolean _tmp14_;
	FolksPersonaStore* _tmp19_;
	const gchar* _tmp20_;
	const gchar* _tmp21_;
	FolksPersonaStore* _tmp22_;
	const gchar* _tmp23_;
	const gchar* _tmp24_;
	GCompareFunc _tmp29_;
	FolksPersonaStore* _tmp30_;
	const gchar* _tmp31_;
	const gchar* _tmp32_;
	FolksPersonaStore* _tmp33_;
	const gchar* _tmp34_;
	const gchar* _tmp35_;
	gint result = 0;
#line 324 "../src/contacts-utils.vala"
	g_return_val_if_fail (a != NULL, 0);
#line 324 "../src/contacts-utils.vala"
	g_return_val_if_fail (b != NULL, 0);
#line 325 "../src/contacts-utils.vala"
	_tmp0_ = folks_persona_get_store (a);
#line 325 "../src/contacts-utils.vala"
	_tmp1_ = _tmp0_;
#line 325 "../src/contacts-utils.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 325 "../src/contacts-utils.vala"
	store_a = _tmp2_;
#line 326 "../src/contacts-utils.vala"
	_tmp3_ = folks_persona_get_store (b);
#line 326 "../src/contacts-utils.vala"
	_tmp4_ = _tmp3_;
#line 326 "../src/contacts-utils.vala"
	_tmp5_ = _g_object_ref0 (_tmp4_);
#line 326 "../src/contacts-utils.vala"
	store_b = _tmp5_;
#line 329 "../src/contacts-utils.vala"
	_tmp6_ = store_a;
#line 329 "../src/contacts-utils.vala"
	_tmp7_ = store_b;
#line 329 "../src/contacts-utils.vala"
	if (_tmp6_ == _tmp7_) {
#line 3137 "contacts-utils.c"
		gboolean a_is_other = FALSE;
#line 330 "../src/contacts-utils.vala"
		if (!contacts_utils_persona_is_google (a)) {
#line 331 "../src/contacts-utils.vala"
			result = 0;
#line 331 "../src/contacts-utils.vala"
			_g_object_unref0 (store_b);
#line 331 "../src/contacts-utils.vala"
			_g_object_unref0 (store_a);
#line 331 "../src/contacts-utils.vala"
			return result;
#line 3149 "contacts-utils.c"
		}
#line 333 "../src/contacts-utils.vala"
		a_is_other = contacts_utils_persona_is_google_other (a);
#line 334 "../src/contacts-utils.vala"
		if (a_is_other != contacts_utils_persona_is_google_other (b)) {
#line 3155 "contacts-utils.c"
			gint _tmp8_ = 0;
#line 335 "../src/contacts-utils.vala"
			if (a_is_other) {
#line 335 "../src/contacts-utils.vala"
				_tmp8_ = 1;
#line 3161 "contacts-utils.c"
			} else {
#line 335 "../src/contacts-utils.vala"
				_tmp8_ = -1;
#line 3165 "contacts-utils.c"
			}
#line 335 "../src/contacts-utils.vala"
			result = _tmp8_;
#line 335 "../src/contacts-utils.vala"
			_g_object_unref0 (store_b);
#line 335 "../src/contacts-utils.vala"
			_g_object_unref0 (store_a);
#line 335 "../src/contacts-utils.vala"
			return result;
#line 3175 "contacts-utils.c"
		}
	}
#line 339 "../src/contacts-utils.vala"
	_tmp9_ = store_a;
#line 339 "../src/contacts-utils.vala"
	_tmp10_ = folks_persona_store_get_is_primary_store (_tmp9_);
#line 339 "../src/contacts-utils.vala"
	_tmp11_ = _tmp10_;
#line 339 "../src/contacts-utils.vala"
	_tmp12_ = store_b;
#line 339 "../src/contacts-utils.vala"
	_tmp13_ = folks_persona_store_get_is_primary_store (_tmp12_);
#line 339 "../src/contacts-utils.vala"
	_tmp14_ = _tmp13_;
#line 339 "../src/contacts-utils.vala"
	if (_tmp11_ != _tmp14_) {
#line 3192 "contacts-utils.c"
		gint _tmp15_ = 0;
		FolksPersonaStore* _tmp16_;
		gboolean _tmp17_;
		gboolean _tmp18_;
#line 340 "../src/contacts-utils.vala"
		_tmp16_ = store_a;
#line 340 "../src/contacts-utils.vala"
		_tmp17_ = folks_persona_store_get_is_primary_store (_tmp16_);
#line 340 "../src/contacts-utils.vala"
		_tmp18_ = _tmp17_;
#line 340 "../src/contacts-utils.vala"
		if (_tmp18_) {
#line 340 "../src/contacts-utils.vala"
			_tmp15_ = -1;
#line 3207 "contacts-utils.c"
		} else {
#line 340 "../src/contacts-utils.vala"
			_tmp15_ = 1;
#line 3211 "contacts-utils.c"
		}
#line 340 "../src/contacts-utils.vala"
		result = _tmp15_;
#line 340 "../src/contacts-utils.vala"
		_g_object_unref0 (store_b);
#line 340 "../src/contacts-utils.vala"
		_g_object_unref0 (store_a);
#line 340 "../src/contacts-utils.vala"
		return result;
#line 3221 "contacts-utils.c"
	}
#line 343 "../src/contacts-utils.vala"
	_tmp19_ = store_a;
#line 343 "../src/contacts-utils.vala"
	_tmp20_ = folks_persona_store_get_type_id (_tmp19_);
#line 343 "../src/contacts-utils.vala"
	_tmp21_ = _tmp20_;
#line 343 "../src/contacts-utils.vala"
	_tmp22_ = store_b;
#line 343 "../src/contacts-utils.vala"
	_tmp23_ = folks_persona_store_get_type_id (_tmp22_);
#line 343 "../src/contacts-utils.vala"
	_tmp24_ = _tmp23_;
#line 343 "../src/contacts-utils.vala"
	if ((g_strcmp0 (_tmp21_, "eds") == 0) != (g_strcmp0 (_tmp24_, "eds") == 0)) {
#line 3237 "contacts-utils.c"
		gint _tmp25_ = 0;
		FolksPersonaStore* _tmp26_;
		const gchar* _tmp27_;
		const gchar* _tmp28_;
#line 344 "../src/contacts-utils.vala"
		_tmp26_ = store_a;
#line 344 "../src/contacts-utils.vala"
		_tmp27_ = folks_persona_store_get_type_id (_tmp26_);
#line 344 "../src/contacts-utils.vala"
		_tmp28_ = _tmp27_;
#line 344 "../src/contacts-utils.vala"
		if (g_strcmp0 (_tmp28_, "eds") == 0) {
#line 344 "../src/contacts-utils.vala"
			_tmp25_ = -1;
#line 3252 "contacts-utils.c"
		} else {
#line 344 "../src/contacts-utils.vala"
			_tmp25_ = 1;
#line 3256 "contacts-utils.c"
		}
#line 344 "../src/contacts-utils.vala"
		result = _tmp25_;
#line 344 "../src/contacts-utils.vala"
		_g_object_unref0 (store_b);
#line 344 "../src/contacts-utils.vala"
		_g_object_unref0 (store_a);
#line 344 "../src/contacts-utils.vala"
		return result;
#line 3266 "contacts-utils.c"
	}
#line 347 "../src/contacts-utils.vala"
	_tmp29_ = ((GCompareFunc) g_strcmp0);
#line 347 "../src/contacts-utils.vala"
	_tmp30_ = store_a;
#line 347 "../src/contacts-utils.vala"
	_tmp31_ = folks_persona_store_get_id (_tmp30_);
#line 347 "../src/contacts-utils.vala"
	_tmp32_ = _tmp31_;
#line 347 "../src/contacts-utils.vala"
	_tmp33_ = store_b;
#line 347 "../src/contacts-utils.vala"
	_tmp34_ = folks_persona_store_get_id (_tmp33_);
#line 347 "../src/contacts-utils.vala"
	_tmp35_ = _tmp34_;
#line 347 "../src/contacts-utils.vala"
	result = _tmp29_ (_tmp32_, _tmp35_);
#line 347 "../src/contacts-utils.vala"
	_g_object_unref0 (store_b);
#line 347 "../src/contacts-utils.vala"
	_g_object_unref0 (store_a);
#line 347 "../src/contacts-utils.vala"
	return result;
#line 3290 "contacts-utils.c"
}

static gint
___lambda6__gcompare_data_func (gconstpointer a,
                                gconstpointer b,
                                gpointer self)
{
	gint result;
	result = __lambda6_ ((FolksPersona*) a, (FolksPersona*) b);
#line 324 "../src/contacts-utils.vala"
	return result;
#line 3302 "contacts-utils.c"
}

GeeList*
contacts_utils_get_personas_for_display (FolksIndividual* individual)
{
	GCompareDataFunc compare_persona_by_store = NULL;
	gpointer compare_persona_by_store_target;
	GDestroyNotify compare_persona_by_store_target_destroy_notify;
	GeeArrayList* persona_list = NULL;
	GeeArrayList* _tmp0_;
	GeeArrayList* _tmp14_;
	GCompareDataFunc _tmp15_;
	gpointer _tmp15__target;
	GDestroyNotify _tmp15__target_destroy_notify;
	GeeList* result = NULL;
#line 323 "../src/contacts-utils.vala"
	g_return_val_if_fail (individual != NULL, NULL);
#line 324 "../src/contacts-utils.vala"
	compare_persona_by_store = ___lambda6__gcompare_data_func;
#line 324 "../src/contacts-utils.vala"
	compare_persona_by_store_target = NULL;
#line 324 "../src/contacts-utils.vala"
	compare_persona_by_store_target_destroy_notify = NULL;
#line 350 "../src/contacts-utils.vala"
	_tmp0_ = gee_array_list_new (FOLKS_TYPE_PERSONA, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 350 "../src/contacts-utils.vala"
	persona_list = _tmp0_;
#line 3330 "contacts-utils.c"
	{
		GeeIterator* _persona_it = NULL;
		GeeSet* _tmp1_;
		GeeSet* _tmp2_;
		GeeIterator* _tmp3_;
#line 351 "../src/contacts-utils.vala"
		_tmp1_ = folks_individual_get_personas (individual);
#line 351 "../src/contacts-utils.vala"
		_tmp2_ = _tmp1_;
#line 351 "../src/contacts-utils.vala"
		_tmp3_ = gee_iterable_iterator ((GeeIterable*) _tmp2_);
#line 351 "../src/contacts-utils.vala"
		_persona_it = _tmp3_;
#line 351 "../src/contacts-utils.vala"
		while (TRUE) {
#line 3346 "contacts-utils.c"
			GeeIterator* _tmp4_;
			FolksPersona* persona = NULL;
			GeeIterator* _tmp5_;
			gpointer _tmp6_;
			FolksPersona* _tmp7_;
			FolksPersonaStore* _tmp8_;
			FolksPersonaStore* _tmp9_;
			const gchar* _tmp10_;
			const gchar* _tmp11_;
#line 351 "../src/contacts-utils.vala"
			_tmp4_ = _persona_it;
#line 351 "../src/contacts-utils.vala"
			if (!gee_iterator_next (_tmp4_)) {
#line 351 "../src/contacts-utils.vala"
				break;
#line 3362 "contacts-utils.c"
			}
#line 351 "../src/contacts-utils.vala"
			_tmp5_ = _persona_it;
#line 351 "../src/contacts-utils.vala"
			_tmp6_ = gee_iterator_get (_tmp5_);
#line 351 "../src/contacts-utils.vala"
			persona = (FolksPersona*) _tmp6_;
#line 352 "../src/contacts-utils.vala"
			_tmp7_ = persona;
#line 352 "../src/contacts-utils.vala"
			_tmp8_ = folks_persona_get_store (_tmp7_);
#line 352 "../src/contacts-utils.vala"
			_tmp9_ = _tmp8_;
#line 352 "../src/contacts-utils.vala"
			_tmp10_ = folks_persona_store_get_type_id (_tmp9_);
#line 352 "../src/contacts-utils.vala"
			_tmp11_ = _tmp10_;
#line 352 "../src/contacts-utils.vala"
			if (g_strcmp0 (_tmp11_, "key-file") != 0) {
#line 3382 "contacts-utils.c"
				GeeArrayList* _tmp12_;
				FolksPersona* _tmp13_;
#line 353 "../src/contacts-utils.vala"
				_tmp12_ = persona_list;
#line 353 "../src/contacts-utils.vala"
				_tmp13_ = persona;
#line 353 "../src/contacts-utils.vala"
				gee_abstract_collection_add ((GeeAbstractCollection*) _tmp12_, _tmp13_);
#line 3391 "contacts-utils.c"
			}
#line 351 "../src/contacts-utils.vala"
			_g_object_unref0 (persona);
#line 3395 "contacts-utils.c"
		}
#line 351 "../src/contacts-utils.vala"
		_g_object_unref0 (_persona_it);
#line 3399 "contacts-utils.c"
	}
#line 355 "../src/contacts-utils.vala"
	_tmp14_ = persona_list;
#line 355 "../src/contacts-utils.vala"
	_tmp15_ = compare_persona_by_store;
#line 355 "../src/contacts-utils.vala"
	_tmp15__target = compare_persona_by_store_target;
#line 355 "../src/contacts-utils.vala"
	_tmp15__target_destroy_notify = compare_persona_by_store_target_destroy_notify;
#line 355 "../src/contacts-utils.vala"
	compare_persona_by_store = NULL;
#line 355 "../src/contacts-utils.vala"
	compare_persona_by_store_target = NULL;
#line 355 "../src/contacts-utils.vala"
	compare_persona_by_store_target_destroy_notify = NULL;
#line 355 "../src/contacts-utils.vala"
	gee_list_sort ((GeeList*) _tmp14_, _tmp15_, _tmp15__target, _tmp15__target_destroy_notify);
#line 356 "../src/contacts-utils.vala"
	result = (GeeList*) persona_list;
#line 356 "../src/contacts-utils.vala"
	(compare_persona_by_store_target_destroy_notify == NULL) ? NULL : (compare_persona_by_store_target_destroy_notify (compare_persona_by_store_target), NULL);
#line 356 "../src/contacts-utils.vala"
	compare_persona_by_store = NULL;
#line 356 "../src/contacts-utils.vala"
	compare_persona_by_store_target = NULL;
#line 356 "../src/contacts-utils.vala"
	compare_persona_by_store_target_destroy_notify = NULL;
#line 356 "../src/contacts-utils.vala"
	return result;
#line 3429 "contacts-utils.c"
}

FolksPersona*
contacts_utils_find_primary_persona (FolksIndividual* individual)
{
	FolksPersona* result = NULL;
#line 359 "../src/contacts-utils.vala"
	g_return_val_if_fail (individual != NULL, NULL);
#line 3438 "contacts-utils.c"
	{
		GeeIterator* _p_it = NULL;
		GeeSet* _tmp0_;
		GeeSet* _tmp1_;
		GeeIterator* _tmp2_;
#line 360 "../src/contacts-utils.vala"
		_tmp0_ = folks_individual_get_personas (individual);
#line 360 "../src/contacts-utils.vala"
		_tmp1_ = _tmp0_;
#line 360 "../src/contacts-utils.vala"
		_tmp2_ = gee_iterable_iterator ((GeeIterable*) _tmp1_);
#line 360 "../src/contacts-utils.vala"
		_p_it = _tmp2_;
#line 360 "../src/contacts-utils.vala"
		while (TRUE) {
#line 3454 "contacts-utils.c"
			GeeIterator* _tmp3_;
			FolksPersona* p = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			FolksPersona* _tmp6_;
			FolksPersonaStore* _tmp7_;
			FolksPersonaStore* _tmp8_;
			gboolean _tmp9_;
			gboolean _tmp10_;
#line 360 "../src/contacts-utils.vala"
			_tmp3_ = _p_it;
#line 360 "../src/contacts-utils.vala"
			if (!gee_iterator_next (_tmp3_)) {
#line 360 "../src/contacts-utils.vala"
				break;
#line 3470 "contacts-utils.c"
			}
#line 360 "../src/contacts-utils.vala"
			_tmp4_ = _p_it;
#line 360 "../src/contacts-utils.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 360 "../src/contacts-utils.vala"
			p = (FolksPersona*) _tmp5_;
#line 361 "../src/contacts-utils.vala"
			_tmp6_ = p;
#line 361 "../src/contacts-utils.vala"
			_tmp7_ = folks_persona_get_store (_tmp6_);
#line 361 "../src/contacts-utils.vala"
			_tmp8_ = _tmp7_;
#line 361 "../src/contacts-utils.vala"
			_tmp9_ = folks_persona_store_get_is_primary_store (_tmp8_);
#line 361 "../src/contacts-utils.vala"
			_tmp10_ = _tmp9_;
#line 361 "../src/contacts-utils.vala"
			if (_tmp10_) {
#line 362 "../src/contacts-utils.vala"
				result = p;
#line 362 "../src/contacts-utils.vala"
				_g_object_unref0 (_p_it);
#line 362 "../src/contacts-utils.vala"
				return result;
#line 3496 "contacts-utils.c"
			}
#line 360 "../src/contacts-utils.vala"
			_g_object_unref0 (p);
#line 3500 "contacts-utils.c"
		}
#line 360 "../src/contacts-utils.vala"
		_g_object_unref0 (_p_it);
#line 3504 "contacts-utils.c"
	}
#line 364 "../src/contacts-utils.vala"
	result = NULL;
#line 364 "../src/contacts-utils.vala"
	return result;
#line 3510 "contacts-utils.c"
}

FolksPersona*
contacts_utils_find_persona_from_uid (FolksIndividual* individual,
                                      const gchar* uid)
{
	FolksPersona* result = NULL;
#line 367 "../src/contacts-utils.vala"
	g_return_val_if_fail (individual != NULL, NULL);
#line 367 "../src/contacts-utils.vala"
	g_return_val_if_fail (uid != NULL, NULL);
#line 3522 "contacts-utils.c"
	{
		GeeIterator* _p_it = NULL;
		GeeSet* _tmp0_;
		GeeSet* _tmp1_;
		GeeIterator* _tmp2_;
#line 368 "../src/contacts-utils.vala"
		_tmp0_ = folks_individual_get_personas (individual);
#line 368 "../src/contacts-utils.vala"
		_tmp1_ = _tmp0_;
#line 368 "../src/contacts-utils.vala"
		_tmp2_ = gee_iterable_iterator ((GeeIterable*) _tmp1_);
#line 368 "../src/contacts-utils.vala"
		_p_it = _tmp2_;
#line 368 "../src/contacts-utils.vala"
		while (TRUE) {
#line 3538 "contacts-utils.c"
			GeeIterator* _tmp3_;
			FolksPersona* p = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			FolksPersona* _tmp6_;
			const gchar* _tmp7_;
			const gchar* _tmp8_;
#line 368 "../src/contacts-utils.vala"
			_tmp3_ = _p_it;
#line 368 "../src/contacts-utils.vala"
			if (!gee_iterator_next (_tmp3_)) {
#line 368 "../src/contacts-utils.vala"
				break;
#line 3552 "contacts-utils.c"
			}
#line 368 "../src/contacts-utils.vala"
			_tmp4_ = _p_it;
#line 368 "../src/contacts-utils.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 368 "../src/contacts-utils.vala"
			p = (FolksPersona*) _tmp5_;
#line 369 "../src/contacts-utils.vala"
			_tmp6_ = p;
#line 369 "../src/contacts-utils.vala"
			_tmp7_ = folks_persona_get_uid (_tmp6_);
#line 369 "../src/contacts-utils.vala"
			_tmp8_ = _tmp7_;
#line 369 "../src/contacts-utils.vala"
			if (g_strcmp0 (_tmp8_, uid) == 0) {
#line 370 "../src/contacts-utils.vala"
				result = p;
#line 370 "../src/contacts-utils.vala"
				_g_object_unref0 (_p_it);
#line 370 "../src/contacts-utils.vala"
				return result;
#line 3574 "contacts-utils.c"
			}
#line 368 "../src/contacts-utils.vala"
			_g_object_unref0 (p);
#line 3578 "contacts-utils.c"
		}
#line 368 "../src/contacts-utils.vala"
		_g_object_unref0 (_p_it);
#line 3582 "contacts-utils.c"
	}
#line 372 "../src/contacts-utils.vala"
	result = NULL;
#line 372 "../src/contacts-utils.vala"
	return result;
#line 3588 "contacts-utils.c"
}

gchar*
contacts_utils_format_persona_stores (FolksIndividual* individual)
{
	gchar* stores = NULL;
	gchar* _tmp0_;
	gboolean first = FALSE;
	gchar* result = NULL;
#line 375 "../src/contacts-utils.vala"
	g_return_val_if_fail (individual != NULL, NULL);
#line 376 "../src/contacts-utils.vala"
	_tmp0_ = g_strdup ("");
#line 376 "../src/contacts-utils.vala"
	stores = _tmp0_;
#line 377 "../src/contacts-utils.vala"
	first = TRUE;
#line 3606 "contacts-utils.c"
	{
		GeeIterator* _p_it = NULL;
		GeeSet* _tmp1_;
		GeeSet* _tmp2_;
		GeeIterator* _tmp3_;
#line 378 "../src/contacts-utils.vala"
		_tmp1_ = folks_individual_get_personas (individual);
#line 378 "../src/contacts-utils.vala"
		_tmp2_ = _tmp1_;
#line 378 "../src/contacts-utils.vala"
		_tmp3_ = gee_iterable_iterator ((GeeIterable*) _tmp2_);
#line 378 "../src/contacts-utils.vala"
		_p_it = _tmp3_;
#line 378 "../src/contacts-utils.vala"
		while (TRUE) {
#line 3622 "contacts-utils.c"
			GeeIterator* _tmp4_;
			FolksPersona* p = NULL;
			GeeIterator* _tmp5_;
			gpointer _tmp6_;
			const gchar* _tmp9_;
			FolksPersona* _tmp10_;
			gchar* _tmp11_;
			gchar* _tmp12_;
			gchar* _tmp13_;
#line 378 "../src/contacts-utils.vala"
			_tmp4_ = _p_it;
#line 378 "../src/contacts-utils.vala"
			if (!gee_iterator_next (_tmp4_)) {
#line 378 "../src/contacts-utils.vala"
				break;
#line 3638 "contacts-utils.c"
			}
#line 378 "../src/contacts-utils.vala"
			_tmp5_ = _p_it;
#line 378 "../src/contacts-utils.vala"
			_tmp6_ = gee_iterator_get (_tmp5_);
#line 378 "../src/contacts-utils.vala"
			p = (FolksPersona*) _tmp6_;
#line 379 "../src/contacts-utils.vala"
			if (!first) {
#line 3648 "contacts-utils.c"
				const gchar* _tmp7_;
				gchar* _tmp8_;
#line 380 "../src/contacts-utils.vala"
				_tmp7_ = stores;
#line 380 "../src/contacts-utils.vala"
				_tmp8_ = g_strconcat (_tmp7_, ", ", NULL);
#line 380 "../src/contacts-utils.vala"
				_g_free0 (stores);
#line 380 "../src/contacts-utils.vala"
				stores = _tmp8_;
#line 3659 "contacts-utils.c"
			}
#line 381 "../src/contacts-utils.vala"
			_tmp9_ = stores;
#line 381 "../src/contacts-utils.vala"
			_tmp10_ = p;
#line 381 "../src/contacts-utils.vala"
			_tmp11_ = contacts_utils_format_persona_store_name_for_contact (_tmp10_);
#line 381 "../src/contacts-utils.vala"
			_tmp12_ = _tmp11_;
#line 381 "../src/contacts-utils.vala"
			_tmp13_ = g_strconcat (_tmp9_, _tmp12_, NULL);
#line 381 "../src/contacts-utils.vala"
			_g_free0 (stores);
#line 381 "../src/contacts-utils.vala"
			stores = _tmp13_;
#line 381 "../src/contacts-utils.vala"
			_g_free0 (_tmp12_);
#line 382 "../src/contacts-utils.vala"
			first = FALSE;
#line 378 "../src/contacts-utils.vala"
			_g_object_unref0 (p);
#line 3681 "contacts-utils.c"
		}
#line 378 "../src/contacts-utils.vala"
		_g_object_unref0 (_p_it);
#line 3685 "contacts-utils.c"
	}
#line 384 "../src/contacts-utils.vala"
	result = stores;
#line 384 "../src/contacts-utils.vala"
	return result;
#line 3691 "contacts-utils.c"
}

gchar*
contacts_utils_format_persona_store_name (FolksPersonaStore* store)
{
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp6_;
	const gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* result = NULL;
#line 387 "../src/contacts-utils.vala"
	g_return_val_if_fail (store != NULL, NULL);
#line 388 "../src/contacts-utils.vala"
	_tmp0_ = folks_persona_store_get_type_id (store);
#line 388 "../src/contacts-utils.vala"
	_tmp1_ = _tmp0_;
#line 388 "../src/contacts-utils.vala"
	if (g_strcmp0 (_tmp1_, "eds") == 0) {
#line 3711 "contacts-utils.c"
		gchar* eds_name = NULL;
		const gchar* _tmp2_;
		const gchar* _tmp3_;
		gchar* _tmp4_;
		const gchar* _tmp5_;
#line 389 "../src/contacts-utils.vala"
		_tmp2_ = folks_persona_store_get_id (store);
#line 389 "../src/contacts-utils.vala"
		_tmp3_ = _tmp2_;
#line 389 "../src/contacts-utils.vala"
		_tmp4_ = contacts_lookup_esource_name_by_uid (_tmp3_);
#line 389 "../src/contacts-utils.vala"
		eds_name = _tmp4_;
#line 390 "../src/contacts-utils.vala"
		_tmp5_ = eds_name;
#line 390 "../src/contacts-utils.vala"
		if (_tmp5_ != NULL) {
#line 391 "../src/contacts-utils.vala"
			result = eds_name;
#line 391 "../src/contacts-utils.vala"
			return result;
#line 3733 "contacts-utils.c"
		}
#line 388 "../src/contacts-utils.vala"
		_g_free0 (eds_name);
#line 3737 "contacts-utils.c"
	}
#line 400 "../src/contacts-utils.vala"
	_tmp6_ = folks_persona_store_get_display_name (store);
#line 400 "../src/contacts-utils.vala"
	_tmp7_ = _tmp6_;
#line 400 "../src/contacts-utils.vala"
	_tmp8_ = g_strdup (_tmp7_);
#line 400 "../src/contacts-utils.vala"
	result = _tmp8_;
#line 400 "../src/contacts-utils.vala"
	return result;
#line 3749 "contacts-utils.c"
}

gboolean
contacts_utils_has_mainable_persona (FolksIndividual* individual)
{
	gboolean result = FALSE;
#line 405 "../src/contacts-utils.vala"
	g_return_val_if_fail (individual != NULL, FALSE);
#line 3758 "contacts-utils.c"
	{
		GeeIterator* _p_it = NULL;
		GeeSet* _tmp0_;
		GeeSet* _tmp1_;
		GeeIterator* _tmp2_;
#line 406 "../src/contacts-utils.vala"
		_tmp0_ = folks_individual_get_personas (individual);
#line 406 "../src/contacts-utils.vala"
		_tmp1_ = _tmp0_;
#line 406 "../src/contacts-utils.vala"
		_tmp2_ = gee_iterable_iterator ((GeeIterable*) _tmp1_);
#line 406 "../src/contacts-utils.vala"
		_p_it = _tmp2_;
#line 406 "../src/contacts-utils.vala"
		while (TRUE) {
#line 3774 "contacts-utils.c"
			GeeIterator* _tmp3_;
			FolksPersona* p = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			gboolean _tmp6_ = FALSE;
			FolksPersona* _tmp7_;
			FolksPersonaStore* _tmp8_;
			FolksPersonaStore* _tmp9_;
			const gchar* _tmp10_;
			const gchar* _tmp11_;
#line 406 "../src/contacts-utils.vala"
			_tmp3_ = _p_it;
#line 406 "../src/contacts-utils.vala"
			if (!gee_iterator_next (_tmp3_)) {
#line 406 "../src/contacts-utils.vala"
				break;
#line 3791 "contacts-utils.c"
			}
#line 406 "../src/contacts-utils.vala"
			_tmp4_ = _p_it;
#line 406 "../src/contacts-utils.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 406 "../src/contacts-utils.vala"
			p = (FolksPersona*) _tmp5_;
#line 407 "../src/contacts-utils.vala"
			_tmp7_ = p;
#line 407 "../src/contacts-utils.vala"
			_tmp8_ = folks_persona_get_store (_tmp7_);
#line 407 "../src/contacts-utils.vala"
			_tmp9_ = _tmp8_;
#line 407 "../src/contacts-utils.vala"
			_tmp10_ = folks_persona_store_get_type_id (_tmp9_);
#line 407 "../src/contacts-utils.vala"
			_tmp11_ = _tmp10_;
#line 407 "../src/contacts-utils.vala"
			if (g_strcmp0 (_tmp11_, "eds") == 0) {
#line 3811 "contacts-utils.c"
				FolksPersona* _tmp12_;
#line 408 "../src/contacts-utils.vala"
				_tmp12_ = p;
#line 408 "../src/contacts-utils.vala"
				_tmp6_ = !contacts_utils_persona_is_google_other (_tmp12_);
#line 3817 "contacts-utils.c"
			} else {
#line 407 "../src/contacts-utils.vala"
				_tmp6_ = FALSE;
#line 3821 "contacts-utils.c"
			}
#line 407 "../src/contacts-utils.vala"
			if (_tmp6_) {
#line 409 "../src/contacts-utils.vala"
				result = TRUE;
#line 409 "../src/contacts-utils.vala"
				_g_object_unref0 (p);
#line 409 "../src/contacts-utils.vala"
				_g_object_unref0 (_p_it);
#line 409 "../src/contacts-utils.vala"
				return result;
#line 3833 "contacts-utils.c"
			}
#line 406 "../src/contacts-utils.vala"
			_g_object_unref0 (p);
#line 3837 "contacts-utils.c"
		}
#line 406 "../src/contacts-utils.vala"
		_g_object_unref0 (_p_it);
#line 3841 "contacts-utils.c"
	}
#line 411 "../src/contacts-utils.vala"
	result = FALSE;
#line 411 "../src/contacts-utils.vala"
	return result;
#line 3847 "contacts-utils.c"
}

gboolean
contacts_utils_non_linkable (FolksIndividual* individual)
{
	gboolean all_unlinkable = FALSE;
	gboolean result = FALSE;
#line 416 "../src/contacts-utils.vala"
	g_return_val_if_fail (individual != NULL, FALSE);
#line 417 "../src/contacts-utils.vala"
	all_unlinkable = TRUE;
#line 3859 "contacts-utils.c"
	{
		GeeIterator* _p_it = NULL;
		GeeSet* _tmp0_;
		GeeSet* _tmp1_;
		GeeIterator* _tmp2_;
#line 419 "../src/contacts-utils.vala"
		_tmp0_ = folks_individual_get_personas (individual);
#line 419 "../src/contacts-utils.vala"
		_tmp1_ = _tmp0_;
#line 419 "../src/contacts-utils.vala"
		_tmp2_ = gee_iterable_iterator ((GeeIterable*) _tmp1_);
#line 419 "../src/contacts-utils.vala"
		_p_it = _tmp2_;
#line 419 "../src/contacts-utils.vala"
		while (TRUE) {
#line 3875 "contacts-utils.c"
			GeeIterator* _tmp3_;
			FolksPersona* p = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			gboolean _tmp6_ = FALSE;
			FolksPersona* _tmp7_;
#line 419 "../src/contacts-utils.vala"
			_tmp3_ = _p_it;
#line 419 "../src/contacts-utils.vala"
			if (!gee_iterator_next (_tmp3_)) {
#line 419 "../src/contacts-utils.vala"
				break;
#line 3888 "contacts-utils.c"
			}
#line 419 "../src/contacts-utils.vala"
			_tmp4_ = _p_it;
#line 419 "../src/contacts-utils.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 419 "../src/contacts-utils.vala"
			p = (FolksPersona*) _tmp5_;
#line 420 "../src/contacts-utils.vala"
			_tmp7_ = p;
#line 420 "../src/contacts-utils.vala"
			if (!contacts_utils_persona_is_google_other (_tmp7_)) {
#line 420 "../src/contacts-utils.vala"
				_tmp6_ = TRUE;
#line 3902 "contacts-utils.c"
			} else {
				FolksPersona* _tmp8_;
#line 421 "../src/contacts-utils.vala"
				_tmp8_ = p;
#line 421 "../src/contacts-utils.vala"
				_tmp6_ = contacts_utils_persona_is_google_profile (_tmp8_);
#line 3909 "contacts-utils.c"
			}
#line 420 "../src/contacts-utils.vala"
			if (_tmp6_) {
#line 422 "../src/contacts-utils.vala"
				all_unlinkable = FALSE;
#line 3915 "contacts-utils.c"
			}
#line 419 "../src/contacts-utils.vala"
			_g_object_unref0 (p);
#line 3919 "contacts-utils.c"
		}
#line 419 "../src/contacts-utils.vala"
		_g_object_unref0 (_p_it);
#line 3923 "contacts-utils.c"
	}
#line 425 "../src/contacts-utils.vala"
	result = all_unlinkable;
#line 425 "../src/contacts-utils.vala"
	return result;
#line 3929 "contacts-utils.c"
}

gboolean
contacts_utils_persona_is_google (FolksPersona* persona)
{
	gboolean _tmp0_ = FALSE;
	FolksPersonaStore* _tmp1_;
	FolksPersonaStore* _tmp2_;
	const gchar* _tmp3_;
	const gchar* _tmp4_;
	gboolean result = FALSE;
#line 428 "../src/contacts-utils.vala"
	g_return_val_if_fail (persona != NULL, FALSE);
#line 429 "../src/contacts-utils.vala"
	_tmp1_ = folks_persona_get_store (persona);
#line 429 "../src/contacts-utils.vala"
	_tmp2_ = _tmp1_;
#line 429 "../src/contacts-utils.vala"
	_tmp3_ = folks_persona_store_get_type_id (_tmp2_);
#line 429 "../src/contacts-utils.vala"
	_tmp4_ = _tmp3_;
#line 429 "../src/contacts-utils.vala"
	if (g_strcmp0 (_tmp4_, "eds") == 0) {
#line 3953 "contacts-utils.c"
		FolksPersonaStore* _tmp5_;
		FolksPersonaStore* _tmp6_;
		const gchar* _tmp7_;
		const gchar* _tmp8_;
#line 429 "../src/contacts-utils.vala"
		_tmp5_ = folks_persona_get_store (persona);
#line 429 "../src/contacts-utils.vala"
		_tmp6_ = _tmp5_;
#line 429 "../src/contacts-utils.vala"
		_tmp7_ = folks_persona_store_get_id (_tmp6_);
#line 429 "../src/contacts-utils.vala"
		_tmp8_ = _tmp7_;
#line 429 "../src/contacts-utils.vala"
		_tmp0_ = contacts_esource_uid_is_google (_tmp8_);
#line 3968 "contacts-utils.c"
	} else {
#line 429 "../src/contacts-utils.vala"
		_tmp0_ = FALSE;
#line 3972 "contacts-utils.c"
	}
#line 429 "../src/contacts-utils.vala"
	result = _tmp0_;
#line 429 "../src/contacts-utils.vala"
	return result;
#line 3978 "contacts-utils.c"
}

/**
   * Return true only for personas which are in a Google address book, but which
   * are not in the user's "My Contacts" group in the address book.
   */
gboolean
contacts_utils_persona_is_google_other (FolksPersona* persona)
{
	EdsfPersona* p = NULL;
	EdsfPersona* _tmp0_;
	gboolean _tmp1_ = FALSE;
	EdsfPersona* _tmp2_;
	gboolean result = FALSE;
#line 436 "../src/contacts-utils.vala"
	g_return_val_if_fail (persona != NULL, FALSE);
#line 437 "../src/contacts-utils.vala"
	if (!contacts_utils_persona_is_google (persona)) {
#line 438 "../src/contacts-utils.vala"
		result = FALSE;
#line 438 "../src/contacts-utils.vala"
		return result;
#line 4001 "contacts-utils.c"
	}
#line 440 "../src/contacts-utils.vala"
	_tmp0_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (persona, EDSF_TYPE_PERSONA) ? ((EdsfPersona*) persona) : NULL);
#line 440 "../src/contacts-utils.vala"
	p = _tmp0_;
#line 441 "../src/contacts-utils.vala"
	_tmp2_ = p;
#line 441 "../src/contacts-utils.vala"
	if (_tmp2_ != NULL) {
#line 4011 "contacts-utils.c"
		EdsfPersona* _tmp3_;
		gboolean _tmp4_;
		gboolean _tmp5_;
#line 441 "../src/contacts-utils.vala"
		_tmp3_ = p;
#line 441 "../src/contacts-utils.vala"
		_tmp4_ = edsf_persona_get_in_google_personal_group (_tmp3_);
#line 441 "../src/contacts-utils.vala"
		_tmp5_ = _tmp4_;
#line 441 "../src/contacts-utils.vala"
		_tmp1_ = !_tmp5_;
#line 4023 "contacts-utils.c"
	} else {
#line 441 "../src/contacts-utils.vala"
		_tmp1_ = FALSE;
#line 4027 "contacts-utils.c"
	}
#line 441 "../src/contacts-utils.vala"
	result = _tmp1_;
#line 441 "../src/contacts-utils.vala"
	_g_object_unref0 (p);
#line 441 "../src/contacts-utils.vala"
	return result;
#line 4035 "contacts-utils.c"
}

static inline GRegex*
_thread_safe_regex_init (GRegex** re,
                         const gchar * pattern,
                         GRegexCompileFlags compile_flags)
{
#line 451 "../src/contacts-utils.vala"
	if (g_once_init_enter ((volatile gsize*) re)) {
#line 451 "../src/contacts-utils.vala"
		GRegex* val = g_regex_new (pattern, compile_flags, 0, NULL);
#line 451 "../src/contacts-utils.vala"
		g_once_init_leave ((volatile gsize*) re, (gsize) val);
#line 4049 "contacts-utils.c"
	}
#line 451 "../src/contacts-utils.vala"
	return *re;
#line 4053 "contacts-utils.c"
}

gboolean
contacts_utils_persona_is_google_profile (FolksPersona* persona)
{
	FolksUrlDetails* u = NULL;
	FolksUrlDetails* _tmp0_;
	gboolean _tmp1_ = FALSE;
	FolksUrlDetails* _tmp2_;
	gboolean result = FALSE;
#line 444 "../src/contacts-utils.vala"
	g_return_val_if_fail (persona != NULL, FALSE);
#line 445 "../src/contacts-utils.vala"
	if (!contacts_utils_persona_is_google_other (persona)) {
#line 446 "../src/contacts-utils.vala"
		result = FALSE;
#line 446 "../src/contacts-utils.vala"
		return result;
#line 4072 "contacts-utils.c"
	}
#line 448 "../src/contacts-utils.vala"
	_tmp0_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (persona, FOLKS_TYPE_URL_DETAILS) ? ((FolksUrlDetails*) persona) : NULL);
#line 448 "../src/contacts-utils.vala"
	u = _tmp0_;
#line 449 "../src/contacts-utils.vala"
	_tmp2_ = u;
#line 449 "../src/contacts-utils.vala"
	if (_tmp2_ != NULL) {
#line 4082 "contacts-utils.c"
		FolksUrlDetails* _tmp3_;
		GeeSet* _tmp4_;
		GeeSet* _tmp5_;
		gint _tmp6_;
		gint _tmp7_;
#line 449 "../src/contacts-utils.vala"
		_tmp3_ = u;
#line 449 "../src/contacts-utils.vala"
		_tmp4_ = folks_url_details_get_urls (_tmp3_);
#line 449 "../src/contacts-utils.vala"
		_tmp5_ = _tmp4_;
#line 449 "../src/contacts-utils.vala"
		_tmp6_ = gee_collection_get_size ((GeeCollection*) _tmp5_);
#line 449 "../src/contacts-utils.vala"
		_tmp7_ = _tmp6_;
#line 449 "../src/contacts-utils.vala"
		_tmp1_ = _tmp7_ == 1;
#line 4100 "contacts-utils.c"
	} else {
#line 449 "../src/contacts-utils.vala"
		_tmp1_ = FALSE;
#line 4104 "contacts-utils.c"
	}
#line 449 "../src/contacts-utils.vala"
	if (_tmp1_) {
#line 4108 "contacts-utils.c"
		{
			GeeIterator* _url_it = NULL;
			FolksUrlDetails* _tmp8_;
			GeeSet* _tmp9_;
			GeeSet* _tmp10_;
			GeeIterator* _tmp11_;
#line 450 "../src/contacts-utils.vala"
			_tmp8_ = u;
#line 450 "../src/contacts-utils.vala"
			_tmp9_ = folks_url_details_get_urls (_tmp8_);
#line 450 "../src/contacts-utils.vala"
			_tmp10_ = _tmp9_;
#line 450 "../src/contacts-utils.vala"
			_tmp11_ = gee_iterable_iterator ((GeeIterable*) _tmp10_);
#line 450 "../src/contacts-utils.vala"
			_url_it = _tmp11_;
#line 450 "../src/contacts-utils.vala"
			while (TRUE) {
#line 4127 "contacts-utils.c"
				GeeIterator* _tmp12_;
				FolksUrlFieldDetails* url = NULL;
				GeeIterator* _tmp13_;
				gpointer _tmp14_;
				FolksUrlFieldDetails* _tmp15_;
				gconstpointer _tmp16_;
				const gchar* _tmp17_;
#line 450 "../src/contacts-utils.vala"
				_tmp12_ = _url_it;
#line 450 "../src/contacts-utils.vala"
				if (!gee_iterator_next (_tmp12_)) {
#line 450 "../src/contacts-utils.vala"
					break;
#line 4141 "contacts-utils.c"
				}
#line 450 "../src/contacts-utils.vala"
				_tmp13_ = _url_it;
#line 450 "../src/contacts-utils.vala"
				_tmp14_ = gee_iterator_get (_tmp13_);
#line 450 "../src/contacts-utils.vala"
				url = (FolksUrlFieldDetails*) _tmp14_;
#line 451 "../src/contacts-utils.vala"
				_tmp15_ = url;
#line 451 "../src/contacts-utils.vala"
				_tmp16_ = folks_abstract_field_details_get_value ((FolksAbstractFieldDetails*) _tmp15_);
#line 451 "../src/contacts-utils.vala"
				_tmp17_ = _tmp16_;
#line 451 "../src/contacts-utils.vala"
				if (g_regex_match (_thread_safe_regex_init (&_tmp_regex_0, "https?:\\/\\/www.google.com\\/profiles\\/[0-9]+$", 0), (const gchar*) _tmp17_, 0, NULL)) {
#line 452 "../src/contacts-utils.vala"
					result = TRUE;
#line 452 "../src/contacts-utils.vala"
					_g_object_unref0 (url);
#line 452 "../src/contacts-utils.vala"
					_g_object_unref0 (_url_it);
#line 452 "../src/contacts-utils.vala"
					_g_object_unref0 (u);
#line 452 "../src/contacts-utils.vala"
					return result;
#line 4167 "contacts-utils.c"
				}
#line 450 "../src/contacts-utils.vala"
				_g_object_unref0 (url);
#line 4171 "contacts-utils.c"
			}
#line 450 "../src/contacts-utils.vala"
			_g_object_unref0 (_url_it);
#line 4175 "contacts-utils.c"
		}
	}
#line 455 "../src/contacts-utils.vala"
	result = FALSE;
#line 455 "../src/contacts-utils.vala"
	_g_object_unref0 (u);
#line 455 "../src/contacts-utils.vala"
	return result;
#line 4184 "contacts-utils.c"
}

gchar*
contacts_utils_format_persona_store_name_for_contact (FolksPersona* persona)
{
	FolksPersonaStore* store = NULL;
	FolksPersonaStore* _tmp0_;
	FolksPersonaStore* _tmp1_;
	FolksPersonaStore* _tmp2_;
	FolksPersonaStore* _tmp3_;
	const gchar* _tmp4_;
	const gchar* _tmp5_;
	FolksPersonaStore* _tmp13_;
	const gchar* _tmp14_;
	const gchar* _tmp15_;
	gchar* _tmp16_;
	gchar* result = NULL;
#line 458 "../src/contacts-utils.vala"
	g_return_val_if_fail (persona != NULL, NULL);
#line 459 "../src/contacts-utils.vala"
	_tmp0_ = folks_persona_get_store (persona);
#line 459 "../src/contacts-utils.vala"
	_tmp1_ = _tmp0_;
#line 459 "../src/contacts-utils.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 459 "../src/contacts-utils.vala"
	store = _tmp2_;
#line 460 "../src/contacts-utils.vala"
	_tmp3_ = store;
#line 460 "../src/contacts-utils.vala"
	_tmp4_ = folks_persona_store_get_type_id (_tmp3_);
#line 460 "../src/contacts-utils.vala"
	_tmp5_ = _tmp4_;
#line 460 "../src/contacts-utils.vala"
	if (g_strcmp0 (_tmp5_, "eds") == 0) {
#line 4220 "contacts-utils.c"
		gchar* eds_name = NULL;
		FolksPersonaStore* _tmp8_;
		const gchar* _tmp9_;
		const gchar* _tmp10_;
		gchar* _tmp11_;
		const gchar* _tmp12_;
#line 461 "../src/contacts-utils.vala"
		if (contacts_utils_persona_is_google_profile (persona)) {
#line 4229 "contacts-utils.c"
			gchar* _tmp6_;
#line 462 "../src/contacts-utils.vala"
			_tmp6_ = g_strdup (_ ("Google Circles"));
#line 462 "../src/contacts-utils.vala"
			result = _tmp6_;
#line 462 "../src/contacts-utils.vala"
			_g_object_unref0 (store);
#line 462 "../src/contacts-utils.vala"
			return result;
#line 4239 "contacts-utils.c"
		} else {
#line 463 "../src/contacts-utils.vala"
			if (contacts_utils_persona_is_google_other (persona)) {
#line 4243 "contacts-utils.c"
				gchar* _tmp7_;
#line 464 "../src/contacts-utils.vala"
				_tmp7_ = g_strdup (_ ("Google"));
#line 464 "../src/contacts-utils.vala"
				result = _tmp7_;
#line 464 "../src/contacts-utils.vala"
				_g_object_unref0 (store);
#line 464 "../src/contacts-utils.vala"
				return result;
#line 4253 "contacts-utils.c"
			}
		}
#line 466 "../src/contacts-utils.vala"
		_tmp8_ = store;
#line 466 "../src/contacts-utils.vala"
		_tmp9_ = folks_persona_store_get_id (_tmp8_);
#line 466 "../src/contacts-utils.vala"
		_tmp10_ = _tmp9_;
#line 466 "../src/contacts-utils.vala"
		_tmp11_ = contacts_lookup_esource_name_by_uid_for_contact (_tmp10_);
#line 466 "../src/contacts-utils.vala"
		eds_name = _tmp11_;
#line 467 "../src/contacts-utils.vala"
		_tmp12_ = eds_name;
#line 467 "../src/contacts-utils.vala"
		if (_tmp12_ != NULL) {
#line 468 "../src/contacts-utils.vala"
			result = eds_name;
#line 468 "../src/contacts-utils.vala"
			_g_object_unref0 (store);
#line 468 "../src/contacts-utils.vala"
			return result;
#line 4276 "contacts-utils.c"
		}
#line 460 "../src/contacts-utils.vala"
		_g_free0 (eds_name);
#line 4280 "contacts-utils.c"
	}
#line 477 "../src/contacts-utils.vala"
	_tmp13_ = store;
#line 477 "../src/contacts-utils.vala"
	_tmp14_ = folks_persona_store_get_display_name (_tmp13_);
#line 477 "../src/contacts-utils.vala"
	_tmp15_ = _tmp14_;
#line 477 "../src/contacts-utils.vala"
	_tmp16_ = g_strdup (_tmp15_);
#line 477 "../src/contacts-utils.vala"
	result = _tmp16_;
#line 477 "../src/contacts-utils.vala"
	_g_object_unref0 (store);
#line 477 "../src/contacts-utils.vala"
	return result;
#line 4296 "contacts-utils.c"
}

static void
contacts_utils_set_individual_property_data_free (gpointer _data)
{
	ContactsUtilsSetIndividualPropertyData* _data_;
	_data_ = _data;
	_g_object_unref0 (_data_->individual);
	_g_free0 (_data_->property_name);
	G_IS_VALUE (&_data_->value) ? (g_value_unset (&_data_->value), NULL) : NULL;
	g_slice_free (ContactsUtilsSetIndividualPropertyData, _data_);
}

void
contacts_utils_set_individual_property (FolksIndividual* individual,
                                        const gchar* property_name,
                                        GValue* value,
                                        GAsyncReadyCallback _callback_,
                                        gpointer _user_data_)
{
	ContactsUtilsSetIndividualPropertyData* _data_;
	FolksIndividual* _tmp0_;
	gchar* _tmp1_;
	GValue _tmp2_;
	GValue _tmp3_;
	GValue _tmp4_ = {0};
	_data_ = g_slice_new0 (ContactsUtilsSetIndividualPropertyData);
	_data_->_async_result = g_task_new (NULL, NULL, _callback_, _user_data_);
	g_task_set_task_data (_data_->_async_result, _data_, contacts_utils_set_individual_property_data_free);
	_tmp0_ = _g_object_ref0 (individual);
	_g_object_unref0 (_data_->individual);
	_data_->individual = _tmp0_;
	_tmp1_ = g_strdup (property_name);
	_g_free0 (_data_->property_name);
	_data_->property_name = _tmp1_;
	_tmp2_ = *value;
	_tmp3_ = _tmp2_;
	if (G_IS_VALUE (&_tmp3_)) {
		g_value_init (&_tmp4_, G_VALUE_TYPE (&_tmp3_));
		g_value_copy (&_tmp3_, &_tmp4_);
	} else {
		_tmp4_ = _tmp3_;
	}
	G_IS_VALUE (&_data_->value) ? (g_value_unset (&_data_->value), NULL) : NULL;
	_data_->value = _tmp4_;
	contacts_utils_set_individual_property_co (_data_);
}

void
contacts_utils_set_individual_property_finish (GAsyncResult* _res_,
                                               GError** error)
{
	ContactsUtilsSetIndividualPropertyData* _data_;
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
	if (NULL == _data_) {
		return;
	}
}

static gboolean
_vala_string_array_contains (gchar* * stack,
                             gint stack_length,
                             const gchar* needle)
{
	gint i;
#line 486 "../src/contacts-utils.vala"
	for (i = 0; i < stack_length; i++) {
#line 486 "../src/contacts-utils.vala"
		if (g_strcmp0 (stack[i], needle) == 0) {
#line 486 "../src/contacts-utils.vala"
			return TRUE;
#line 4368 "contacts-utils.c"
		}
	}
#line 486 "../src/contacts-utils.vala"
	return FALSE;
#line 4373 "contacts-utils.c"
}

static void
contacts_utils_set_individual_property_ready (GObject* source_object,
                                              GAsyncResult* _res_,
                                              gpointer _user_data_)
{
	ContactsUtilsSetIndividualPropertyData* _data_;
#line 487 "../src/contacts-utils.vala"
	_data_ = _user_data_;
#line 487 "../src/contacts-utils.vala"
	_data_->_source_object_ = source_object;
#line 487 "../src/contacts-utils.vala"
	_data_->_res_ = _res_;
#line 487 "../src/contacts-utils.vala"
	contacts_utils_set_individual_property_co (_data_);
#line 4390 "contacts-utils.c"
}

static gboolean
contacts_utils_set_individual_property_co (ContactsUtilsSetIndividualPropertyData* _data_)
{
#line 481 "../src/contacts-utils.vala"
	switch (_data_->_state_) {
#line 481 "../src/contacts-utils.vala"
		case 0:
#line 4400 "contacts-utils.c"
		goto _state_0;
#line 481 "../src/contacts-utils.vala"
		case 1:
#line 4404 "contacts-utils.c"
		goto _state_1;
		default:
#line 481 "../src/contacts-utils.vala"
		g_assert_not_reached ();
#line 4409 "contacts-utils.c"
	}
	_state_0:
#line 484 "../src/contacts-utils.vala"
	_data_->_tmp0_ = folks_individual_get_personas (_data_->individual);
#line 484 "../src/contacts-utils.vala"
	_data_->_tmp1_ = _data_->_tmp0_;
#line 484 "../src/contacts-utils.vala"
	_data_->_tmp2_ = 0;
#line 484 "../src/contacts-utils.vala"
	_data_->_tmp3_ = gee_collection_to_array ((GeeCollection*) _data_->_tmp1_, &_data_->_tmp2_);
#line 484 "../src/contacts-utils.vala"
	_data_->personas_copy = _data_->_tmp3_;
#line 484 "../src/contacts-utils.vala"
	_data_->personas_copy_length1 = _data_->_tmp2_;
#line 484 "../src/contacts-utils.vala"
	_data_->_personas_copy_size_ = _data_->personas_copy_length1;
#line 485 "../src/contacts-utils.vala"
	_data_->_tmp4_ = _data_->personas_copy;
#line 485 "../src/contacts-utils.vala"
	_data_->_tmp4__length1 = _data_->personas_copy_length1;
#line 4430 "contacts-utils.c"
	{
#line 485 "../src/contacts-utils.vala"
		_data_->p_collection_length1 = 0;
#line 485 "../src/contacts-utils.vala"
		_data_->_p_collection_size_ = 0;
#line 485 "../src/contacts-utils.vala"
		_data_->p_collection = _data_->_tmp4_;
#line 485 "../src/contacts-utils.vala"
		_data_->p_collection_length1 = _data_->_tmp4__length1;
#line 485 "../src/contacts-utils.vala"
		for (_data_->p_it = 0; _data_->p_it < _data_->p_collection_length1; _data_->p_it = _data_->p_it + 1) {
#line 485 "../src/contacts-utils.vala"
			_data_->_tmp5_ = _g_object_ref0 (_data_->p_collection[_data_->p_it]);
#line 485 "../src/contacts-utils.vala"
			_data_->p = _data_->_tmp5_;
#line 4446 "contacts-utils.c"
			{
#line 486 "../src/contacts-utils.vala"
				_data_->_tmp6_ = _data_->p;
#line 486 "../src/contacts-utils.vala"
				_data_->_tmp7_ = folks_persona_get_writeable_properties (_data_->_tmp6_, &_data_->_tmp7__length1);
#line 486 "../src/contacts-utils.vala"
				_data_->_tmp8_ = _data_->_tmp7_;
#line 486 "../src/contacts-utils.vala"
				_data_->_tmp8__length1 = _data_->_tmp7__length1;
#line 486 "../src/contacts-utils.vala"
				if (_vala_string_array_contains (_data_->_tmp8_, _data_->_tmp8__length1, _data_->property_name)) {
#line 487 "../src/contacts-utils.vala"
					_data_->_tmp9_ = _data_->p;
#line 487 "../src/contacts-utils.vala"
					_data_->_tmp10_ = _data_->value;
#line 487 "../src/contacts-utils.vala"
					_data_->_state_ = 1;
#line 487 "../src/contacts-utils.vala"
					contacts_utils_set_persona_property (_data_->_tmp9_, _data_->property_name, &_data_->_tmp10_, contacts_utils_set_individual_property_ready, _data_);
#line 487 "../src/contacts-utils.vala"
					return FALSE;
#line 4468 "contacts-utils.c"
					_state_1:
#line 487 "../src/contacts-utils.vala"
					contacts_utils_set_persona_property_finish (_data_->_res_, &_data_->_inner_error0_);
#line 487 "../src/contacts-utils.vala"
					if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 487 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 487 "../src/contacts-utils.vala"
						_g_object_unref0 (_data_->p);
#line 487 "../src/contacts-utils.vala"
						_data_->personas_copy = (_vala_array_free (_data_->personas_copy, _data_->personas_copy_length1, (GDestroyNotify) g_object_unref), NULL);
#line 487 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 487 "../src/contacts-utils.vala"
						return FALSE;
#line 4484 "contacts-utils.c"
					}
				}
#line 485 "../src/contacts-utils.vala"
				_g_object_unref0 (_data_->p);
#line 4489 "contacts-utils.c"
			}
		}
	}
#line 481 "../src/contacts-utils.vala"
	_data_->personas_copy = (_vala_array_free (_data_->personas_copy, _data_->personas_copy_length1, (GDestroyNotify) g_object_unref), NULL);
#line 481 "../src/contacts-utils.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 481 "../src/contacts-utils.vala"
	if (_data_->_state_ != 0) {
#line 481 "../src/contacts-utils.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 481 "../src/contacts-utils.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 4503 "contacts-utils.c"
		}
	}
#line 481 "../src/contacts-utils.vala"
	g_object_unref (_data_->_async_result);
#line 481 "../src/contacts-utils.vala"
	return FALSE;
#line 4510 "contacts-utils.c"
}

static void
contacts_utils_set_persona_property_data_free (gpointer _data)
{
	ContactsUtilsSetPersonaPropertyData* _data_;
	_data_ = _data;
	_g_object_unref0 (_data_->persona);
	_g_free0 (_data_->property_name);
	G_IS_VALUE (&_data_->new_value) ? (g_value_unset (&_data_->new_value), NULL) : NULL;
	g_slice_free (ContactsUtilsSetPersonaPropertyData, _data_);
}

void
contacts_utils_set_persona_property (FolksPersona* persona,
                                     const gchar* property_name,
                                     GValue* new_value,
                                     GAsyncReadyCallback _callback_,
                                     gpointer _user_data_)
{
	ContactsUtilsSetPersonaPropertyData* _data_;
	FolksPersona* _tmp0_;
	gchar* _tmp1_;
	GValue _tmp2_;
	GValue _tmp3_;
	GValue _tmp4_ = {0};
	_data_ = g_slice_new0 (ContactsUtilsSetPersonaPropertyData);
	_data_->_async_result = g_task_new (NULL, NULL, _callback_, _user_data_);
	g_task_set_task_data (_data_->_async_result, _data_, contacts_utils_set_persona_property_data_free);
	_tmp0_ = _g_object_ref0 (persona);
	_g_object_unref0 (_data_->persona);
	_data_->persona = _tmp0_;
	_tmp1_ = g_strdup (property_name);
	_g_free0 (_data_->property_name);
	_data_->property_name = _tmp1_;
	_tmp2_ = *new_value;
	_tmp3_ = _tmp2_;
	if (G_IS_VALUE (&_tmp3_)) {
		g_value_init (&_tmp4_, G_VALUE_TYPE (&_tmp3_));
		g_value_copy (&_tmp3_, &_tmp4_);
	} else {
		_tmp4_ = _tmp3_;
	}
	G_IS_VALUE (&_data_->new_value) ? (g_value_unset (&_data_->new_value), NULL) : NULL;
	_data_->new_value = _tmp4_;
	contacts_utils_set_persona_property_co (_data_);
}

void
contacts_utils_set_persona_property_finish (GAsyncResult* _res_,
                                            GError** error)
{
	ContactsUtilsSetPersonaPropertyData* _data_;
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
	if (NULL == _data_) {
		return;
	}
}

static void
contacts_utils_set_persona_property_ready (GObject* source_object,
                                           GAsyncResult* _res_,
                                           gpointer _user_data_)
{
	ContactsUtilsSetPersonaPropertyData* _data_;
#line 499 "../src/contacts-utils.vala"
	_data_ = _user_data_;
#line 499 "../src/contacts-utils.vala"
	_data_->_source_object_ = source_object;
#line 499 "../src/contacts-utils.vala"
	_data_->_res_ = _res_;
#line 499 "../src/contacts-utils.vala"
	contacts_utils_set_persona_property_co (_data_);
#line 4584 "contacts-utils.c"
}

static gboolean
contacts_utils_set_persona_property_co (ContactsUtilsSetPersonaPropertyData* _data_)
{
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label0 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label1 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label2 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label3 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label4 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label5 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label6 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label7 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label8 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label9 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label10 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label11 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label12 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label13 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label14 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label15 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label16 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label17 = 0;
#line 497 "../src/contacts-utils.vala"
	static GQuark _tmp1_label18 = 0;
#line 493 "../src/contacts-utils.vala"
	switch (_data_->_state_) {
#line 493 "../src/contacts-utils.vala"
		case 0:
#line 4632 "contacts-utils.c"
		goto _state_0;
#line 493 "../src/contacts-utils.vala"
		case 1:
#line 4636 "contacts-utils.c"
		goto _state_1;
#line 493 "../src/contacts-utils.vala"
		case 2:
#line 4640 "contacts-utils.c"
		goto _state_2;
#line 493 "../src/contacts-utils.vala"
		case 3:
#line 4644 "contacts-utils.c"
		goto _state_3;
#line 493 "../src/contacts-utils.vala"
		case 4:
#line 4648 "contacts-utils.c"
		goto _state_4;
#line 493 "../src/contacts-utils.vala"
		case 5:
#line 4652 "contacts-utils.c"
		goto _state_5;
#line 493 "../src/contacts-utils.vala"
		case 6:
#line 4656 "contacts-utils.c"
		goto _state_6;
#line 493 "../src/contacts-utils.vala"
		case 7:
#line 4660 "contacts-utils.c"
		goto _state_7;
#line 493 "../src/contacts-utils.vala"
		case 8:
#line 4664 "contacts-utils.c"
		goto _state_8;
#line 493 "../src/contacts-utils.vala"
		case 9:
#line 4668 "contacts-utils.c"
		goto _state_9;
#line 493 "../src/contacts-utils.vala"
		case 10:
#line 4672 "contacts-utils.c"
		goto _state_10;
#line 493 "../src/contacts-utils.vala"
		case 11:
#line 4676 "contacts-utils.c"
		goto _state_11;
#line 493 "../src/contacts-utils.vala"
		case 12:
#line 4680 "contacts-utils.c"
		goto _state_12;
#line 493 "../src/contacts-utils.vala"
		case 13:
#line 4684 "contacts-utils.c"
		goto _state_13;
#line 493 "../src/contacts-utils.vala"
		case 14:
#line 4688 "contacts-utils.c"
		goto _state_14;
#line 493 "../src/contacts-utils.vala"
		case 15:
#line 4692 "contacts-utils.c"
		goto _state_15;
#line 493 "../src/contacts-utils.vala"
		case 16:
#line 4696 "contacts-utils.c"
		goto _state_16;
#line 493 "../src/contacts-utils.vala"
		case 17:
#line 4700 "contacts-utils.c"
		goto _state_17;
#line 493 "../src/contacts-utils.vala"
		case 18:
#line 4704 "contacts-utils.c"
		goto _state_18;
#line 493 "../src/contacts-utils.vala"
		case 19:
#line 4708 "contacts-utils.c"
		goto _state_19;
		default:
#line 493 "../src/contacts-utils.vala"
		g_assert_not_reached ();
#line 4713 "contacts-utils.c"
	}
	_state_0:
#line 497 "../src/contacts-utils.vala"
	_data_->_tmp2_ = 0U;
#line 497 "../src/contacts-utils.vala"
	_data_->_tmp0_ = _data_->property_name;
#line 497 "../src/contacts-utils.vala"
	_data_->_tmp2_ = (NULL == _data_->_tmp0_) ? 0 : g_quark_from_string (_data_->_tmp0_);
#line 497 "../src/contacts-utils.vala"
	if (_data_->_tmp2_ == ((0 != _tmp1_label0) ? _tmp1_label0 : (_tmp1_label0 = g_quark_from_static_string ("alias")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 4726 "contacts-utils.c"
			default:
			{
#line 499 "../src/contacts-utils.vala"
				_data_->_tmp3_ = _data_->new_value;
#line 499 "../src/contacts-utils.vala"
				_data_->_state_ = 1;
#line 499 "../src/contacts-utils.vala"
				folks_alias_details_change_alias (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_ALIAS_DETAILS) ? ((FolksAliasDetails*) _data_->persona) : NULL, g_value_get_string (&_data_->_tmp3_), contacts_utils_set_persona_property_ready, _data_);
#line 499 "../src/contacts-utils.vala"
				return FALSE;
#line 4737 "contacts-utils.c"
				_state_1:
#line 499 "../src/contacts-utils.vala"
				folks_alias_details_change_alias_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_ALIAS_DETAILS) ? ((FolksAliasDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 499 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 499 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 499 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 499 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 499 "../src/contacts-utils.vala"
						return FALSE;
#line 4751 "contacts-utils.c"
					} else {
#line 499 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 499 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 499 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 499 "../src/contacts-utils.vala"
						return FALSE;
#line 4761 "contacts-utils.c"
					}
				}
#line 500 "../src/contacts-utils.vala"
				break;
#line 4766 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label1) ? _tmp1_label1 : (_tmp1_label1 = g_quark_from_static_string ("avatar")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 4772 "contacts-utils.c"
			default:
			{
#line 502 "../src/contacts-utils.vala"
				_data_->_tmp4_ = _data_->new_value;
#line 502 "../src/contacts-utils.vala"
				_data_->_state_ = 2;
#line 502 "../src/contacts-utils.vala"
				folks_avatar_details_change_avatar (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_AVATAR_DETAILS) ? ((FolksAvatarDetails*) _data_->persona) : NULL, g_value_get_object (&_data_->_tmp4_), contacts_utils_set_persona_property_ready, _data_);
#line 502 "../src/contacts-utils.vala"
				return FALSE;
#line 4783 "contacts-utils.c"
				_state_2:
#line 502 "../src/contacts-utils.vala"
				folks_avatar_details_change_avatar_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_AVATAR_DETAILS) ? ((FolksAvatarDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 502 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 502 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 502 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 502 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 502 "../src/contacts-utils.vala"
						return FALSE;
#line 4797 "contacts-utils.c"
					} else {
#line 502 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 502 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 502 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 502 "../src/contacts-utils.vala"
						return FALSE;
#line 4807 "contacts-utils.c"
					}
				}
#line 503 "../src/contacts-utils.vala"
				break;
#line 4812 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label2) ? _tmp1_label2 : (_tmp1_label2 = g_quark_from_static_string ("birthday")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 4818 "contacts-utils.c"
			default:
			{
#line 505 "../src/contacts-utils.vala"
				_data_->_tmp5_ = _data_->new_value;
#line 505 "../src/contacts-utils.vala"
				_data_->_state_ = 3;
#line 505 "../src/contacts-utils.vala"
				folks_birthday_details_change_birthday (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_BIRTHDAY_DETAILS) ? ((FolksBirthdayDetails*) _data_->persona) : NULL, g_value_get_boxed (&_data_->_tmp5_), contacts_utils_set_persona_property_ready, _data_);
#line 505 "../src/contacts-utils.vala"
				return FALSE;
#line 4829 "contacts-utils.c"
				_state_3:
#line 505 "../src/contacts-utils.vala"
				folks_birthday_details_change_birthday_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_BIRTHDAY_DETAILS) ? ((FolksBirthdayDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 505 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 505 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 505 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 505 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 505 "../src/contacts-utils.vala"
						return FALSE;
#line 4843 "contacts-utils.c"
					} else {
#line 505 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 505 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 505 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 505 "../src/contacts-utils.vala"
						return FALSE;
#line 4853 "contacts-utils.c"
					}
				}
#line 506 "../src/contacts-utils.vala"
				break;
#line 4858 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label3) ? _tmp1_label3 : (_tmp1_label3 = g_quark_from_static_string ("calendar-event-id")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 4864 "contacts-utils.c"
			default:
			{
#line 508 "../src/contacts-utils.vala"
				_data_->_tmp6_ = _data_->new_value;
#line 508 "../src/contacts-utils.vala"
				_data_->_state_ = 4;
#line 508 "../src/contacts-utils.vala"
				folks_birthday_details_change_calendar_event_id (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_BIRTHDAY_DETAILS) ? ((FolksBirthdayDetails*) _data_->persona) : NULL, g_value_get_string (&_data_->_tmp6_), contacts_utils_set_persona_property_ready, _data_);
#line 508 "../src/contacts-utils.vala"
				return FALSE;
#line 4875 "contacts-utils.c"
				_state_4:
#line 508 "../src/contacts-utils.vala"
				folks_birthday_details_change_calendar_event_id_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_BIRTHDAY_DETAILS) ? ((FolksBirthdayDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 508 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 508 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 508 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 508 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 508 "../src/contacts-utils.vala"
						return FALSE;
#line 4889 "contacts-utils.c"
					} else {
#line 508 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 508 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 508 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 508 "../src/contacts-utils.vala"
						return FALSE;
#line 4899 "contacts-utils.c"
					}
				}
#line 509 "../src/contacts-utils.vala"
				break;
#line 4904 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label4) ? _tmp1_label4 : (_tmp1_label4 = g_quark_from_static_string ("email-addresses")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 4910 "contacts-utils.c"
			default:
			{
#line 511 "../src/contacts-utils.vala"
				_data_->_tmp7_ = _data_->new_value;
#line 511 "../src/contacts-utils.vala"
				_data_->_state_ = 5;
#line 511 "../src/contacts-utils.vala"
				folks_email_details_change_email_addresses (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_EMAIL_DETAILS) ? ((FolksEmailDetails*) _data_->persona) : NULL, g_value_get_object (&_data_->_tmp7_), contacts_utils_set_persona_property_ready, _data_);
#line 511 "../src/contacts-utils.vala"
				return FALSE;
#line 4921 "contacts-utils.c"
				_state_5:
#line 511 "../src/contacts-utils.vala"
				folks_email_details_change_email_addresses_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_EMAIL_DETAILS) ? ((FolksEmailDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 511 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 511 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 511 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 511 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 511 "../src/contacts-utils.vala"
						return FALSE;
#line 4935 "contacts-utils.c"
					} else {
#line 511 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 511 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 511 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 511 "../src/contacts-utils.vala"
						return FALSE;
#line 4945 "contacts-utils.c"
					}
				}
#line 512 "../src/contacts-utils.vala"
				break;
#line 4950 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label5) ? _tmp1_label5 : (_tmp1_label5 = g_quark_from_static_string ("is-favourite")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 4956 "contacts-utils.c"
			default:
			{
#line 514 "../src/contacts-utils.vala"
				_data_->_tmp8_ = _data_->new_value;
#line 514 "../src/contacts-utils.vala"
				_data_->_state_ = 6;
#line 514 "../src/contacts-utils.vala"
				folks_favourite_details_change_is_favourite (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_FAVOURITE_DETAILS) ? ((FolksFavouriteDetails*) _data_->persona) : NULL, g_value_get_boolean (&_data_->_tmp8_), contacts_utils_set_persona_property_ready, _data_);
#line 514 "../src/contacts-utils.vala"
				return FALSE;
#line 4967 "contacts-utils.c"
				_state_6:
#line 514 "../src/contacts-utils.vala"
				folks_favourite_details_change_is_favourite_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_FAVOURITE_DETAILS) ? ((FolksFavouriteDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 514 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 514 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 514 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 514 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 514 "../src/contacts-utils.vala"
						return FALSE;
#line 4981 "contacts-utils.c"
					} else {
#line 514 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 514 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 514 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 514 "../src/contacts-utils.vala"
						return FALSE;
#line 4991 "contacts-utils.c"
					}
				}
#line 515 "../src/contacts-utils.vala"
				break;
#line 4996 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label6) ? _tmp1_label6 : (_tmp1_label6 = g_quark_from_static_string ("gender")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5002 "contacts-utils.c"
			default:
			{
#line 517 "../src/contacts-utils.vala"
				_data_->_tmp9_ = _data_->new_value;
#line 517 "../src/contacts-utils.vala"
				_data_->_state_ = 7;
#line 517 "../src/contacts-utils.vala"
				folks_gender_details_change_gender (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_GENDER_DETAILS) ? ((FolksGenderDetails*) _data_->persona) : NULL, g_value_get_enum (&_data_->_tmp9_), contacts_utils_set_persona_property_ready, _data_);
#line 517 "../src/contacts-utils.vala"
				return FALSE;
#line 5013 "contacts-utils.c"
				_state_7:
#line 517 "../src/contacts-utils.vala"
				folks_gender_details_change_gender_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_GENDER_DETAILS) ? ((FolksGenderDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 517 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 517 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 517 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 517 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 517 "../src/contacts-utils.vala"
						return FALSE;
#line 5027 "contacts-utils.c"
					} else {
#line 517 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 517 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 517 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 517 "../src/contacts-utils.vala"
						return FALSE;
#line 5037 "contacts-utils.c"
					}
				}
#line 518 "../src/contacts-utils.vala"
				break;
#line 5042 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label7) ? _tmp1_label7 : (_tmp1_label7 = g_quark_from_static_string ("groups")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5048 "contacts-utils.c"
			default:
			{
#line 520 "../src/contacts-utils.vala"
				_data_->_tmp10_ = _data_->new_value;
#line 520 "../src/contacts-utils.vala"
				_data_->_state_ = 8;
#line 520 "../src/contacts-utils.vala"
				folks_group_details_change_groups (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_GROUP_DETAILS) ? ((FolksGroupDetails*) _data_->persona) : NULL, g_value_get_object (&_data_->_tmp10_), contacts_utils_set_persona_property_ready, _data_);
#line 520 "../src/contacts-utils.vala"
				return FALSE;
#line 5059 "contacts-utils.c"
				_state_8:
#line 520 "../src/contacts-utils.vala"
				folks_group_details_change_groups_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_GROUP_DETAILS) ? ((FolksGroupDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 520 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 520 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 520 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 520 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 520 "../src/contacts-utils.vala"
						return FALSE;
#line 5073 "contacts-utils.c"
					} else {
#line 520 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 520 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 520 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 520 "../src/contacts-utils.vala"
						return FALSE;
#line 5083 "contacts-utils.c"
					}
				}
#line 521 "../src/contacts-utils.vala"
				break;
#line 5088 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label8) ? _tmp1_label8 : (_tmp1_label8 = g_quark_from_static_string ("im-addresses")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5094 "contacts-utils.c"
			default:
			{
#line 523 "../src/contacts-utils.vala"
				_data_->_tmp11_ = _data_->new_value;
#line 523 "../src/contacts-utils.vala"
				_data_->_state_ = 9;
#line 523 "../src/contacts-utils.vala"
				folks_im_details_change_im_addresses (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_IM_DETAILS) ? ((FolksImDetails*) _data_->persona) : NULL, g_value_get_object (&_data_->_tmp11_), contacts_utils_set_persona_property_ready, _data_);
#line 523 "../src/contacts-utils.vala"
				return FALSE;
#line 5105 "contacts-utils.c"
				_state_9:
#line 523 "../src/contacts-utils.vala"
				folks_im_details_change_im_addresses_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_IM_DETAILS) ? ((FolksImDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 523 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 523 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 523 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 523 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 523 "../src/contacts-utils.vala"
						return FALSE;
#line 5119 "contacts-utils.c"
					} else {
#line 523 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 523 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 523 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 523 "../src/contacts-utils.vala"
						return FALSE;
#line 5129 "contacts-utils.c"
					}
				}
#line 524 "../src/contacts-utils.vala"
				break;
#line 5134 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label9) ? _tmp1_label9 : (_tmp1_label9 = g_quark_from_static_string ("local-ids")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5140 "contacts-utils.c"
			default:
			{
#line 526 "../src/contacts-utils.vala"
				_data_->_tmp12_ = _data_->new_value;
#line 526 "../src/contacts-utils.vala"
				_data_->_state_ = 10;
#line 526 "../src/contacts-utils.vala"
				folks_local_id_details_change_local_ids (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_LOCAL_ID_DETAILS) ? ((FolksLocalIdDetails*) _data_->persona) : NULL, g_value_get_object (&_data_->_tmp12_), contacts_utils_set_persona_property_ready, _data_);
#line 526 "../src/contacts-utils.vala"
				return FALSE;
#line 5151 "contacts-utils.c"
				_state_10:
#line 526 "../src/contacts-utils.vala"
				folks_local_id_details_change_local_ids_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_LOCAL_ID_DETAILS) ? ((FolksLocalIdDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 526 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 526 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 526 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 526 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 526 "../src/contacts-utils.vala"
						return FALSE;
#line 5165 "contacts-utils.c"
					} else {
#line 526 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 526 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 526 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 526 "../src/contacts-utils.vala"
						return FALSE;
#line 5175 "contacts-utils.c"
					}
				}
#line 527 "../src/contacts-utils.vala"
				break;
#line 5180 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label10) ? _tmp1_label10 : (_tmp1_label10 = g_quark_from_static_string ("structured-name")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5186 "contacts-utils.c"
			default:
			{
#line 529 "../src/contacts-utils.vala"
				_data_->_tmp13_ = _data_->new_value;
#line 529 "../src/contacts-utils.vala"
				_data_->_state_ = 11;
#line 529 "../src/contacts-utils.vala"
				folks_name_details_change_structured_name (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_NAME_DETAILS) ? ((FolksNameDetails*) _data_->persona) : NULL, g_value_get_object (&_data_->_tmp13_), contacts_utils_set_persona_property_ready, _data_);
#line 529 "../src/contacts-utils.vala"
				return FALSE;
#line 5197 "contacts-utils.c"
				_state_11:
#line 529 "../src/contacts-utils.vala"
				folks_name_details_change_structured_name_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_NAME_DETAILS) ? ((FolksNameDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 529 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 529 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 529 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 529 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 529 "../src/contacts-utils.vala"
						return FALSE;
#line 5211 "contacts-utils.c"
					} else {
#line 529 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 529 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 529 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 529 "../src/contacts-utils.vala"
						return FALSE;
#line 5221 "contacts-utils.c"
					}
				}
#line 530 "../src/contacts-utils.vala"
				break;
#line 5226 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label11) ? _tmp1_label11 : (_tmp1_label11 = g_quark_from_static_string ("full-name")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5232 "contacts-utils.c"
			default:
			{
#line 532 "../src/contacts-utils.vala"
				_data_->_tmp14_ = _data_->new_value;
#line 532 "../src/contacts-utils.vala"
				_data_->_state_ = 12;
#line 532 "../src/contacts-utils.vala"
				folks_name_details_change_full_name (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_NAME_DETAILS) ? ((FolksNameDetails*) _data_->persona) : NULL, g_value_get_string (&_data_->_tmp14_), contacts_utils_set_persona_property_ready, _data_);
#line 532 "../src/contacts-utils.vala"
				return FALSE;
#line 5243 "contacts-utils.c"
				_state_12:
#line 532 "../src/contacts-utils.vala"
				folks_name_details_change_full_name_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_NAME_DETAILS) ? ((FolksNameDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 532 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 532 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 532 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 532 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 532 "../src/contacts-utils.vala"
						return FALSE;
#line 5257 "contacts-utils.c"
					} else {
#line 532 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 532 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 532 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 532 "../src/contacts-utils.vala"
						return FALSE;
#line 5267 "contacts-utils.c"
					}
				}
#line 533 "../src/contacts-utils.vala"
				break;
#line 5272 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label12) ? _tmp1_label12 : (_tmp1_label12 = g_quark_from_static_string ("nickname")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5278 "contacts-utils.c"
			default:
			{
#line 535 "../src/contacts-utils.vala"
				_data_->_tmp15_ = _data_->new_value;
#line 535 "../src/contacts-utils.vala"
				_data_->_state_ = 13;
#line 535 "../src/contacts-utils.vala"
				folks_name_details_change_nickname (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_NAME_DETAILS) ? ((FolksNameDetails*) _data_->persona) : NULL, g_value_get_string (&_data_->_tmp15_), contacts_utils_set_persona_property_ready, _data_);
#line 535 "../src/contacts-utils.vala"
				return FALSE;
#line 5289 "contacts-utils.c"
				_state_13:
#line 535 "../src/contacts-utils.vala"
				folks_name_details_change_nickname_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_NAME_DETAILS) ? ((FolksNameDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 535 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 535 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 535 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 535 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 535 "../src/contacts-utils.vala"
						return FALSE;
#line 5303 "contacts-utils.c"
					} else {
#line 535 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 535 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 535 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 535 "../src/contacts-utils.vala"
						return FALSE;
#line 5313 "contacts-utils.c"
					}
				}
#line 536 "../src/contacts-utils.vala"
				break;
#line 5318 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label13) ? _tmp1_label13 : (_tmp1_label13 = g_quark_from_static_string ("notes")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5324 "contacts-utils.c"
			default:
			{
#line 538 "../src/contacts-utils.vala"
				_data_->_tmp16_ = _data_->new_value;
#line 538 "../src/contacts-utils.vala"
				_data_->_state_ = 14;
#line 538 "../src/contacts-utils.vala"
				folks_note_details_change_notes (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_NOTE_DETAILS) ? ((FolksNoteDetails*) _data_->persona) : NULL, g_value_get_object (&_data_->_tmp16_), contacts_utils_set_persona_property_ready, _data_);
#line 538 "../src/contacts-utils.vala"
				return FALSE;
#line 5335 "contacts-utils.c"
				_state_14:
#line 538 "../src/contacts-utils.vala"
				folks_note_details_change_notes_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_NOTE_DETAILS) ? ((FolksNoteDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 538 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 538 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 538 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 538 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 538 "../src/contacts-utils.vala"
						return FALSE;
#line 5349 "contacts-utils.c"
					} else {
#line 538 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 538 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 538 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 538 "../src/contacts-utils.vala"
						return FALSE;
#line 5359 "contacts-utils.c"
					}
				}
#line 539 "../src/contacts-utils.vala"
				break;
#line 5364 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label14) ? _tmp1_label14 : (_tmp1_label14 = g_quark_from_static_string ("phone-numbers")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5370 "contacts-utils.c"
			default:
			{
#line 541 "../src/contacts-utils.vala"
				_data_->_tmp17_ = _data_->new_value;
#line 541 "../src/contacts-utils.vala"
				_data_->_state_ = 15;
#line 541 "../src/contacts-utils.vala"
				folks_phone_details_change_phone_numbers (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_PHONE_DETAILS) ? ((FolksPhoneDetails*) _data_->persona) : NULL, g_value_get_object (&_data_->_tmp17_), contacts_utils_set_persona_property_ready, _data_);
#line 541 "../src/contacts-utils.vala"
				return FALSE;
#line 5381 "contacts-utils.c"
				_state_15:
#line 541 "../src/contacts-utils.vala"
				folks_phone_details_change_phone_numbers_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_PHONE_DETAILS) ? ((FolksPhoneDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 541 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 541 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 541 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 541 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 541 "../src/contacts-utils.vala"
						return FALSE;
#line 5395 "contacts-utils.c"
					} else {
#line 541 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 541 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 541 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 541 "../src/contacts-utils.vala"
						return FALSE;
#line 5405 "contacts-utils.c"
					}
				}
#line 542 "../src/contacts-utils.vala"
				break;
#line 5410 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label15) ? _tmp1_label15 : (_tmp1_label15 = g_quark_from_static_string ("postal-addresses")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5416 "contacts-utils.c"
			default:
			{
#line 544 "../src/contacts-utils.vala"
				_data_->_tmp18_ = _data_->new_value;
#line 544 "../src/contacts-utils.vala"
				_data_->_state_ = 16;
#line 544 "../src/contacts-utils.vala"
				folks_postal_address_details_change_postal_addresses (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_POSTAL_ADDRESS_DETAILS) ? ((FolksPostalAddressDetails*) _data_->persona) : NULL, g_value_get_object (&_data_->_tmp18_), contacts_utils_set_persona_property_ready, _data_);
#line 544 "../src/contacts-utils.vala"
				return FALSE;
#line 5427 "contacts-utils.c"
				_state_16:
#line 544 "../src/contacts-utils.vala"
				folks_postal_address_details_change_postal_addresses_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_POSTAL_ADDRESS_DETAILS) ? ((FolksPostalAddressDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 544 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 544 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 544 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 544 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 544 "../src/contacts-utils.vala"
						return FALSE;
#line 5441 "contacts-utils.c"
					} else {
#line 544 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 544 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 544 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 544 "../src/contacts-utils.vala"
						return FALSE;
#line 5451 "contacts-utils.c"
					}
				}
#line 545 "../src/contacts-utils.vala"
				break;
#line 5456 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label16) ? _tmp1_label16 : (_tmp1_label16 = g_quark_from_static_string ("roles")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5462 "contacts-utils.c"
			default:
			{
#line 547 "../src/contacts-utils.vala"
				_data_->_tmp19_ = _data_->new_value;
#line 547 "../src/contacts-utils.vala"
				_data_->_state_ = 17;
#line 547 "../src/contacts-utils.vala"
				folks_role_details_change_roles (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_ROLE_DETAILS) ? ((FolksRoleDetails*) _data_->persona) : NULL, g_value_get_object (&_data_->_tmp19_), contacts_utils_set_persona_property_ready, _data_);
#line 547 "../src/contacts-utils.vala"
				return FALSE;
#line 5473 "contacts-utils.c"
				_state_17:
#line 547 "../src/contacts-utils.vala"
				folks_role_details_change_roles_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_ROLE_DETAILS) ? ((FolksRoleDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 547 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 547 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 547 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 547 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 547 "../src/contacts-utils.vala"
						return FALSE;
#line 5487 "contacts-utils.c"
					} else {
#line 547 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 547 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 547 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 547 "../src/contacts-utils.vala"
						return FALSE;
#line 5497 "contacts-utils.c"
					}
				}
#line 548 "../src/contacts-utils.vala"
				break;
#line 5502 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label17) ? _tmp1_label17 : (_tmp1_label17 = g_quark_from_static_string ("urls")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5508 "contacts-utils.c"
			default:
			{
#line 550 "../src/contacts-utils.vala"
				_data_->_tmp20_ = _data_->new_value;
#line 550 "../src/contacts-utils.vala"
				_data_->_state_ = 18;
#line 550 "../src/contacts-utils.vala"
				folks_url_details_change_urls (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_URL_DETAILS) ? ((FolksUrlDetails*) _data_->persona) : NULL, g_value_get_object (&_data_->_tmp20_), contacts_utils_set_persona_property_ready, _data_);
#line 550 "../src/contacts-utils.vala"
				return FALSE;
#line 5519 "contacts-utils.c"
				_state_18:
#line 550 "../src/contacts-utils.vala"
				folks_url_details_change_urls_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_URL_DETAILS) ? ((FolksUrlDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 550 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 550 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 550 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 550 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 550 "../src/contacts-utils.vala"
						return FALSE;
#line 5533 "contacts-utils.c"
					} else {
#line 550 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 550 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 550 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 550 "../src/contacts-utils.vala"
						return FALSE;
#line 5543 "contacts-utils.c"
					}
				}
#line 551 "../src/contacts-utils.vala"
				break;
#line 5548 "contacts-utils.c"
			}
		}
	} else if (_data_->_tmp2_ == ((0 != _tmp1_label18) ? _tmp1_label18 : (_tmp1_label18 = g_quark_from_static_string ("web-service-addresses")))) {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5554 "contacts-utils.c"
			default:
			{
#line 553 "../src/contacts-utils.vala"
				_data_->_tmp21_ = _data_->new_value;
#line 553 "../src/contacts-utils.vala"
				_data_->_state_ = 19;
#line 553 "../src/contacts-utils.vala"
				folks_web_service_details_change_web_service_addresses (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_WEB_SERVICE_DETAILS) ? ((FolksWebServiceDetails*) _data_->persona) : NULL, g_value_get_object (&_data_->_tmp21_), contacts_utils_set_persona_property_ready, _data_);
#line 553 "../src/contacts-utils.vala"
				return FALSE;
#line 5565 "contacts-utils.c"
				_state_19:
#line 553 "../src/contacts-utils.vala"
				folks_web_service_details_change_web_service_addresses_finish (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_TYPE_WEB_SERVICE_DETAILS) ? ((FolksWebServiceDetails*) _data_->persona) : NULL, _data_->_res_, &_data_->_inner_error0_);
#line 553 "../src/contacts-utils.vala"
				if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 553 "../src/contacts-utils.vala"
					if ((_data_->_inner_error0_->domain == FOLKS_PROPERTY_ERROR) || (_data_->_inner_error0_->domain == FOLKS_INDIVIDUAL_AGGREGATOR_ERROR)) {
#line 553 "../src/contacts-utils.vala"
						g_task_return_error (_data_->_async_result, _data_->_inner_error0_);
#line 553 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 553 "../src/contacts-utils.vala"
						return FALSE;
#line 5579 "contacts-utils.c"
					} else {
#line 553 "../src/contacts-utils.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 553 "../src/contacts-utils.vala"
						g_clear_error (&_data_->_inner_error0_);
#line 553 "../src/contacts-utils.vala"
						g_object_unref (_data_->_async_result);
#line 553 "../src/contacts-utils.vala"
						return FALSE;
#line 5589 "contacts-utils.c"
					}
				}
#line 554 "../src/contacts-utils.vala"
				break;
#line 5594 "contacts-utils.c"
			}
		}
	} else {
#line 497 "../src/contacts-utils.vala"
		switch (0) {
#line 5600 "contacts-utils.c"
			default:
			{
#line 556 "../src/contacts-utils.vala"
				g_critical ("contacts-utils.vala:556: Unknown property '%s' in Contact.set_persona_" \
"property().", _data_->property_name);
#line 557 "../src/contacts-utils.vala"
				break;
#line 5607 "contacts-utils.c"
			}
		}
	}
#line 493 "../src/contacts-utils.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 493 "../src/contacts-utils.vala"
	if (_data_->_state_ != 0) {
#line 493 "../src/contacts-utils.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 493 "../src/contacts-utils.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 5619 "contacts-utils.c"
		}
	}
#line 493 "../src/contacts-utils.vala"
	g_object_unref (_data_->_async_result);
#line 493 "../src/contacts-utils.vala"
	return FALSE;
#line 5626 "contacts-utils.c"
}

static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		gint i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}

static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}

static gint
_vala_array_length (gpointer array)
{
	gint length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}

